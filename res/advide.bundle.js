(()=>{var oo=Object.create;var wt=Object.defineProperty;var ao=Object.getOwnPropertyDescriptor;var lo=Object.getOwnPropertyNames,ln=Object.getOwnPropertySymbols,ho=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty,co=Object.prototype.propertyIsEnumerable;var pi=(e,r,c)=>r in e?wt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[r]=c,cn=(e,r)=>{for(var c in r||(r={}))hn.call(r,c)&&pi(e,c,r[c]);if(ln)for(var c of ln(r))co.call(r,c)&&pi(e,c,r[c]);return e};var un=e=>wt(e,"__esModule",{value:!0});var mi=(e,r)=>()=>(e&&(r=e(e=0)),r);var Ae=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),fn=(e,r)=>{un(e);for(var c in r)wt(e,c,{get:r[c],enumerable:!0})},uo=(e,r,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of lo(r))!hn.call(e,u)&&u!=="default"&&wt(e,u,{get:()=>r[u],enumerable:!(c=ao(r,u))||c.enumerable});return e},Me=e=>uo(un(wt(e!=null?oo(ho(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Dt=(e,r,c)=>(pi(e,typeof r!="symbol"?r+"":r,c),c);var Tn={};fn(Tn,{Component:()=>St,Fragment:()=>ae,cloneElement:()=>wo,createContext:()=>bo,createElement:()=>X,createRef:()=>go,h:()=>X,hydrate:()=>Mn,isValidElement:()=>gn,options:()=>se,render:()=>he,toChildArray:()=>$n});function He(e,r){for(var c in r)e[c]=r[c];return e}function bn(e){var r=e.parentNode;r&&r.removeChild(e)}function X(e,r,c){var u,g,o,a={};for(o in r)o=="key"?u=r[o]:o=="ref"?g=r[o]:a[o]=r[o];if(arguments.length>2&&(a.children=arguments.length>3?bt.call(arguments,2):c),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return _t(e,a,u,g,null)}function _t(e,r,c,u,g){var o={type:e,props:r,key:c,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:g==null?++dn:g};return se.vnode!=null&&se.vnode(o),o}function go(){return{current:null}}function ae(e){return e.children}function St(e,r){this.props=e,this.context=r}function at(e,r){if(r==null)return e.__?at(e.__,e.__.__k.indexOf(e)+1):null;for(var c;r<e.__k.length;r++)if((c=e.__k[r])!=null&&c.__e!=null)return c.__e;return typeof e.type=="function"?at(e):null}function yn(e){var r,c;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((c=e.__k[r])!=null&&c.__e!=null){e.__e=e.__c.base=c.__e;break}return yn(e)}}function vi(e){(!e.__d&&(e.__d=!0)&&yt.push(e)&&!Bt.__r++||mn!==se.debounceRendering)&&((mn=se.debounceRendering)||pn)(Bt)}function Bt(){for(var e;Bt.__r=yt.length;)e=yt.sort(function(r,c){return r.__v.__b-c.__v.__b}),yt=[],e.some(function(r){var c,u,g,o,a,h;r.__d&&(a=(o=(c=r).__v).__e,(h=c.__P)&&(u=[],(g=He({},o)).__v=o.__v+1,wi(h,o,g,c.__n,h.ownerSVGElement!==void 0,o.__h!=null?[a]:null,u,a==null?at(o):a,o.__h),En(u,o),o.__e!=a&&yn(o)))})}function _n(e,r,c,u,g,o,a,h,i,t){var n,s,l,f,v,S,A,C=u&&u.__k||wn,$=C.length;for(c.__k=[],n=0;n<r.length;n++)if((f=c.__k[n]=(f=r[n])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?_t(null,f,null,null,f):Array.isArray(f)?_t(ae,{children:f},null,null,null):f.__b>0?_t(f.type,f.props,f.key,null,f.__v):f)!=null){if(f.__=c,f.__b=c.__b+1,(l=C[n])===null||l&&f.key==l.key&&f.type===l.type)C[n]=void 0;else for(s=0;s<$;s++){if((l=C[s])&&f.key==l.key&&f.type===l.type){C[s]=void 0;break}l=null}wi(e,f,l=l||Pt,g,o,a,h,i,t),v=f.__e,(s=f.ref)&&l.ref!=s&&(A||(A=[]),l.ref&&A.push(l.ref,null,f),A.push(s,f.__c||v,f)),v!=null?(S==null&&(S=v),typeof f.type=="function"&&f.__k!=null&&f.__k===l.__k?f.__d=i=Sn(f,i,e):i=Cn(e,f,l,C,v,i),t||c.type!=="option"?typeof c.type=="function"&&(c.__d=i):e.value=""):i&&l.__e==i&&i.parentNode!=e&&(i=at(l))}for(c.__e=S,n=$;n--;)C[n]!=null&&(typeof c.type=="function"&&C[n].__e!=null&&C[n].__e==c.__d&&(c.__d=at(u,n+1)),xn(C[n],C[n]));if(A)for(n=0;n<A.length;n++)Rn(A[n],A[++n],A[++n])}function Sn(e,r,c){var u,g;for(u=0;u<e.__k.length;u++)(g=e.__k[u])&&(g.__=e,r=typeof g.type=="function"?Sn(g,r,c):Cn(c,g,g,e.__k,g.__e,r));return r}function $n(e,r){return r=r||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(c){$n(c,r)}):r.push(e)),r}function Cn(e,r,c,u,g,o){var a,h,i;if(r.__d!==void 0)a=r.__d,r.__d=void 0;else if(c==null||g!=o||g.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(g),a=null;else{for(h=o,i=0;(h=h.nextSibling)&&i<u.length;i+=2)if(h==g)break e;e.insertBefore(g,o),a=o}return a!==void 0?a:g.nextSibling}function po(e,r,c,u,g){var o;for(o in c)o==="children"||o==="key"||o in r||Wt(e,o,null,c[o],u);for(o in r)g&&typeof r[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||c[o]===r[o]||Wt(e,o,r[o],c[o],u)}function An(e,r,c){r[0]==="-"?e.setProperty(r,c):e[r]=c==null?"":typeof c!="number"||fo.test(r)?c:c+"px"}function Wt(e,r,c,u,g){var o;e:if(r==="style")if(typeof c=="string")e.style.cssText=c;else{if(typeof u=="string"&&(e.style.cssText=u=""),u)for(r in u)c&&r in c||An(e.style,r,"");if(c)for(r in c)u&&c[r]===u[r]||An(e.style,r,c[r])}else if(r[0]==="o"&&r[1]==="n")o=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in e?r.toLowerCase().slice(2):r.slice(2),e.l||(e.l={}),e.l[r+o]=c,c?u||e.addEventListener(r,o?Ln:kn,o):e.removeEventListener(r,o?Ln:kn,o);else if(r!=="dangerouslySetInnerHTML"){if(g)r=r.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in e)try{e[r]=c==null?"":c;break e}catch(a){}typeof c=="function"||(c!=null&&(c!==!1||r[0]==="a"&&r[1]==="r")?e.setAttribute(r,c):e.removeAttribute(r))}}function kn(e){this.l[e.type+!1](se.event?se.event(e):e)}function Ln(e){this.l[e.type+!0](se.event?se.event(e):e)}function wi(e,r,c,u,g,o,a,h,i){var t,n,s,l,f,v,S,A,C,$,p,y=r.type;if(r.constructor!==void 0)return null;c.__h!=null&&(i=c.__h,h=r.__e=c.__e,r.__h=null,o=[h]),(t=se.__b)&&t(r);try{e:if(typeof y=="function"){if(A=r.props,C=(t=y.contextType)&&u[t.__c],$=t?C?C.props.value:t.__:u,c.__c?S=(n=r.__c=c.__c).__=n.__E:("prototype"in y&&y.prototype.render?r.__c=n=new y(A,$):(r.__c=n=new St(A,$),n.constructor=y,n.render=vo),C&&C.sub(n),n.props=A,n.state||(n.state={}),n.context=$,n.__n=u,s=n.__d=!0,n.__h=[]),n.__s==null&&(n.__s=n.state),y.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=He({},n.__s)),He(n.__s,y.getDerivedStateFromProps(A,n.__s))),l=n.props,f=n.state,s)y.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(y.getDerivedStateFromProps==null&&A!==l&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(A,$),!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(A,n.__s,$)===!1||r.__v===c.__v){n.props=A,n.state=n.__s,r.__v!==c.__v&&(n.__d=!1),n.__v=r,r.__e=c.__e,r.__k=c.__k,r.__k.forEach(function(w){w&&(w.__=r)}),n.__h.length&&a.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(A,n.__s,$),n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(l,f,v)})}n.context=$,n.props=A,n.state=n.__s,(t=se.__r)&&t(r),n.__d=!1,n.__v=r,n.__P=e,t=n.render(n.props,n.state,n.context),n.state=n.__s,n.getChildContext!=null&&(u=He(He({},u),n.getChildContext())),s||n.getSnapshotBeforeUpdate==null||(v=n.getSnapshotBeforeUpdate(l,f)),p=t!=null&&t.type===ae&&t.key==null?t.props.children:t,_n(e,Array.isArray(p)?p:[p],r,c,u,g,o,a,h,i),n.base=r.__e,r.__h=null,n.__h.length&&a.push(n),S&&(n.__E=n.__=null),n.__e=!1}else o==null&&r.__v===c.__v?(r.__k=c.__k,r.__e=c.__e):r.__e=mo(c.__e,r,c,u,g,o,a,i);(t=se.diffed)&&t(r)}catch(w){r.__v=null,(i||o!=null)&&(r.__e=h,r.__h=!!i,o[o.indexOf(h)]=null),se.__e(w,r,c)}}function En(e,r){se.__c&&se.__c(r,e),e.some(function(c){try{e=c.__h,c.__h=[],e.some(function(u){u.call(c)})}catch(u){se.__e(u,c.__v)}})}function mo(e,r,c,u,g,o,a,h){var i,t,n,s=c.props,l=r.props,f=r.type,v=0;if(f==="svg"&&(g=!0),o!=null){for(;v<o.length;v++)if((i=o[v])&&(i===e||(f?i.localName==f:i.nodeType==3))){e=i,o[v]=null;break}}if(e==null){if(f===null)return document.createTextNode(l);e=g?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,l.is&&l),o=null,h=!1}if(f===null)s===l||h&&e.data===l||(e.data=l);else{if(o=o&&bt.call(e.childNodes),t=(s=c.props||Pt).dangerouslySetInnerHTML,n=l.dangerouslySetInnerHTML,!h){if(o!=null)for(s={},v=0;v<e.attributes.length;v++)s[e.attributes[v].name]=e.attributes[v].value;(n||t)&&(n&&(t&&n.__html==t.__html||n.__html===e.innerHTML)||(e.innerHTML=n&&n.__html||""))}if(po(e,l,s,g,h),n)r.__k=[];else if(v=r.props.children,_n(e,Array.isArray(v)?v:[v],r,c,u,g&&f!=="foreignObject",o,a,o?o[0]:c.__k&&at(c,0),h),o!=null)for(v=o.length;v--;)o[v]!=null&&bn(o[v]);h||("value"in l&&(v=l.value)!==void 0&&(v!==e.value||f==="progress"&&!v)&&Wt(e,"value",v,s.value,!1),"checked"in l&&(v=l.checked)!==void 0&&v!==e.checked&&Wt(e,"checked",v,s.checked,!1))}return e}function Rn(e,r,c){try{typeof e=="function"?e(r):e.current=r}catch(u){se.__e(u,c)}}function xn(e,r,c){var u,g;if(se.unmount&&se.unmount(e),(u=e.ref)&&(u.current&&u.current!==e.__e||Rn(u,null,r)),(u=e.__c)!=null){if(u.componentWillUnmount)try{u.componentWillUnmount()}catch(o){se.__e(o,r)}u.base=u.__P=null}if(u=e.__k)for(g=0;g<u.length;g++)u[g]&&xn(u[g],r,typeof e.type!="function");c||e.__e==null||bn(e.__e),e.__e=e.__d=void 0}function vo(e,r,c){return this.constructor(e,c)}function he(e,r,c){var u,g,o;se.__&&se.__(e,r),g=(u=typeof c=="function")?null:c&&c.__k||r.__k,o=[],wi(r,e=(!u&&c||r).__k=X(ae,null,[e]),g||Pt,Pt,r.ownerSVGElement!==void 0,!u&&c?[c]:g?null:r.firstChild?bt.call(r.childNodes):null,o,!u&&c?c:g?g.__e:r.firstChild,u),En(o,e)}function Mn(e,r){he(e,r,Mn)}function wo(e,r,c){var u,g,o,a=He({},e.props);for(o in r)o=="key"?u=r[o]:o=="ref"?g=r[o]:a[o]=r[o];return arguments.length>2&&(a.children=arguments.length>3?bt.call(arguments,2):c),_t(e.type,a,u||e.key,g||e.ref,null)}function bo(e,r){var c={__c:r="__cC"+vn++,__:e,Consumer:function(u,g){return u.children(g)},Provider:function(u){var g,o;return this.getChildContext||(g=[],(o={})[r]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&g.some(vi)},this.sub=function(a){g.push(a);var h=a.componentWillUnmount;a.componentWillUnmount=function(){g.splice(g.indexOf(a),1),h&&h.call(a)}}),u.children}};return c.Provider.__=c.Consumer.contextType=c}var bt,se,dn,gn,yt,pn,mn,vn,Pt,wn,fo,Ht=mi(()=>{j();Pt={},wn=[],fo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;bt=wn.slice,se={__e:function(e,r){for(var c,u,g;r=r.__;)if((c=r.__c)&&!c.__)try{if((u=c.constructor)&&u.getDerivedStateFromError!=null&&(c.setState(u.getDerivedStateFromError(e)),g=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(e),g=c.__d),g)return c.__E=c}catch(o){e=o}throw e}},dn=0,gn=function(e){return e!=null&&e.constructor===void 0},St.prototype.setState=function(e,r){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=He({},this.state),typeof e=="function"&&(e=e(He({},c),this.props)),e&&He(c,e),e!=null&&this.__v&&(r&&this.__h.push(r),vi(this))},St.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vi(this))},St.prototype.render=ae,yt=[],pn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bt.__r=0,vn=0});var j=mi(()=>{Ht()});var Vn={};fn(Vn,{useCallback:()=>$o,useContext:()=>Co,useDebugValue:()=>Ao,useEffect:()=>yo,useErrorBoundary:()=>ko,useImperativeHandle:()=>So,useLayoutEffect:()=>Nn,useMemo:()=>yi,useReducer:()=>Hn,useRef:()=>_o,useState:()=>Wn});function ht(e,r){se.__h&&se.__h(Le,e,lt||r),lt=0;var c=Le.__H||(Le.__H={__:[],__h:[]});return e>=c.__.length&&c.__.push({}),c.__[e]}function Wn(e){return lt=1,Hn(Un,e)}function Hn(e,r,c){var u=ht(Qe++,2);return u.t=e,u.__c||(u.__=[c?c(r):Un(void 0,r),function(g){var o=u.t(u.__[0],g);u.__[0]!==o&&(u.__=[o,u.__[1]],u.__c.setState({}))}],u.__c=Le),u.__}function yo(e,r){var c=ht(Qe++,3);!se.__s&&Si(c.__H,r)&&(c.__=e,c.__H=r,Le.__H.__h.push(c))}function Nn(e,r){var c=ht(Qe++,4);!se.__s&&Si(c.__H,r)&&(c.__=e,c.__H=r,Le.__h.push(c))}function _o(e){return lt=5,yi(function(){return{current:e}},[])}function So(e,r,c){lt=6,Nn(function(){typeof e=="function"?e(r()):e&&(e.current=r())},c==null?c:c.concat(e))}function yi(e,r){var c=ht(Qe++,7);return Si(c.__H,r)&&(c.__=e(),c.__H=r,c.__h=e),c.__}function $o(e,r){return lt=8,yi(function(){return e},r)}function Co(e){var r=Le.context[e.__c],c=ht(Qe++,9);return c.c=e,r?(c.__==null&&(c.__=!0,r.sub(Le)),r.props.value):e.__}function Ao(e,r){se.useDebugValue&&se.useDebugValue(r?r(e):e)}function ko(e){var r=ht(Qe++,10),c=Wn();return r.__=e,Le.componentDidCatch||(Le.componentDidCatch=function(u){r.__&&r.__(u),c[1](u)}),[c[0],function(){c[1](void 0)}]}function Lo(){bi.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(Nt),e.__H.__h.forEach(_i),e.__H.__h=[]}catch(r){e.__H.__h=[],se.__e(r,e.__v)}}),bi=[]}function Nt(e){var r=Le;typeof e.__c=="function"&&e.__c(),Le=r}function _i(e){var r=Le;e.__c=e.__(),Le=r}function Si(e,r){return!e||e.length!==r.length||r.some(function(c,u){return c!==e[u]})}function Un(e,r){return typeof r=="function"?r(e):r}var Qe,Le,On,lt,bi,Fn,In,Dn,Pn,Bn,zn,Kn=mi(()=>{j();Ht();lt=0,bi=[],Fn=se.__b,In=se.__r,Dn=se.diffed,Pn=se.__c,Bn=se.unmount;se.__b=function(e){Le=null,Fn&&Fn(e)},se.__r=function(e){In&&In(e),Qe=0;var r=(Le=e.__c).__H;r&&(r.__h.forEach(Nt),r.__h.forEach(_i),r.__h=[])},se.diffed=function(e){Dn&&Dn(e);var r=e.__c;r&&r.__H&&r.__H.__h.length&&(bi.push(r)!==1&&On===se.requestAnimationFrame||((On=se.requestAnimationFrame)||function(c){var u,g=function(){clearTimeout(o),zn&&cancelAnimationFrame(u),setTimeout(c)},o=setTimeout(g,100);zn&&(u=requestAnimationFrame(g))})(Lo)),Le=void 0},se.__c=function(e,r){r.some(function(c){try{c.__h.forEach(Nt),c.__h=c.__h.filter(function(u){return!u.__||_i(u)})}catch(u){r.some(function(g){g.__h&&(g.__h=[])}),r=[],se.__e(u,c.__v)}}),Pn&&Pn(e,r)},se.unmount=function(e){Bn&&Bn(e);var r=e.__c;if(r&&r.__H)try{r.__H.__.forEach(Nt)}catch(c){se.__e(c,r.__v)}};zn=typeof requestAnimationFrame=="function"});var Ge=Ae(de=>{j();var Re=(Kn(),Vn),Z=(Ht(),Tn);function Gn(e,r){for(var c in r)e[c]=r[c];return e}function $i(e,r){for(var c in e)if(c!=="__source"&&!(c in r))return!0;for(var u in r)if(u!=="__source"&&e[u]!==r[u])return!0;return!1}function zt(e){this.props=e}function jn(e,r){function c(g){var o=this.props.ref,a=o==g.ref;return!a&&o&&(o.call?o(null):o.current=null),r?!r(this.props,g)||!a:$i(this.props,g)}function u(g){return this.shouldComponentUpdate=c,Z.createElement(e,g)}return u.displayName="Memo("+(e.displayName||e.name)+")",u.prototype.isReactComponent=!0,u.__f=!0,u}(zt.prototype=new Z.Component).isPureReactComponent=!0,zt.prototype.shouldComponentUpdate=function(e,r){return $i(this.props,e)||$i(this.state,r)};var Yn=Z.options.__b;Z.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Yn&&Yn(e)};var Eo=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Xn(e){function r(c,u){var g=Gn({},c);return delete g.ref,e(g,(u=c.ref||u)&&(typeof u!="object"||"current"in u)?u:null)}return r.$$typeof=Eo,r.render=r,r.prototype.isReactComponent=r.__f=!0,r.displayName="ForwardRef("+(e.displayName||e.name)+")",r}var Qn=function(e,r){return e==null?null:Z.toChildArray(Z.toChildArray(e).map(r))},Jn={map:Qn,forEach:Qn,count:function(e){return e?Z.toChildArray(e).length:0},only:function(e){var r=Z.toChildArray(e);if(r.length!==1)throw"Children.only";return r[0]},toArray:Z.toChildArray},Ro=Z.options.__e;Z.options.__e=function(e,r,c){if(e.then){for(var u,g=r;g=g.__;)if((u=g.__c)&&u.__c)return r.__e==null&&(r.__e=c.__e,r.__k=c.__k),u.__c(e,r)}Ro(e,r,c)};var Zn=Z.options.unmount;function $t(){this.__u=0,this.t=null,this.__b=null}function qn(e){var r=e.__.__c;return r&&r.__e&&r.__e(e)}function er(e){var r,c,u;function g(o){if(r||(r=e()).then(function(a){c=a.default||a},function(a){u=a}),u)throw u;if(!c)throw r;return Z.createElement(c,o)}return g.displayName="Lazy",g.__f=!0,g}function ct(){this.u=null,this.o=null}Z.options.unmount=function(e){var r=e.__c;r&&r.__R&&r.__R(),r&&e.__h===!0&&(e.type=null),Zn&&Zn(e)},($t.prototype=new Z.Component).__c=function(e,r){var c=r.__c,u=this;u.t==null&&(u.t=[]),u.t.push(c);var g=qn(u.__v),o=!1,a=function(){o||(o=!0,c.__R=null,g?g(h):h())};c.__R=a;var h=function(){if(!--u.__u){if(u.state.__e){var t=u.state.__e;u.__v.__k[0]=function s(l,f,v){return l&&(l.__v=null,l.__k=l.__k&&l.__k.map(function(S){return s(S,f,v)}),l.__c&&l.__c.__P===f&&(l.__e&&v.insertBefore(l.__e,l.__d),l.__c.__e=!0,l.__c.__P=v)),l}(t,t.__c.__P,t.__c.__O)}var n;for(u.setState({__e:u.__b=null});n=u.t.pop();)n.forceUpdate()}},i=r.__h===!0;u.__u++||i||u.setState({__e:u.__b=u.__v.__k[0]}),e.then(a,a)},$t.prototype.componentWillUnmount=function(){this.t=[]},$t.prototype.render=function(e,r){if(this.__b){if(this.__v.__k){var c=document.createElement("div"),u=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,h,i){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(t){typeof t.__c=="function"&&t.__c()}),a.__c.__H=null),(a=Gn({},a)).__c!=null&&(a.__c.__P===i&&(a.__c.__P=h),a.__c=null),a.__k=a.__k&&a.__k.map(function(t){return o(t,h,i)})),a}(this.__b,c,u.__O=u.__P)}this.__b=null}var g=r.__e&&Z.createElement(Z.Fragment,null,e.fallback);return g&&(g.__h=null),[Z.createElement(Z.Fragment,null,r.__e?null:e.children),g]};var tr=function(e,r,c){if(++c[1]===c[0]&&e.o.delete(r),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(c=e.u;c;){for(;c.length>3;)c.pop()();if(c[1]<c[0])break;e.u=c=c[2]}};function xo(e){return this.getChildContext=function(){return e.context},e.children}function Mo(e){var r=this,c=e.i;r.componentWillUnmount=function(){Z.render(null,r.l),r.l=null,r.i=null},r.i&&r.i!==c&&r.componentWillUnmount(),e.__v?(r.l||(r.i=c,r.l={nodeType:1,parentNode:c,childNodes:[],appendChild:function(u){this.childNodes.push(u),r.i.appendChild(u)},insertBefore:function(u,g){this.childNodes.push(u),r.i.appendChild(u)},removeChild:function(u){this.childNodes.splice(this.childNodes.indexOf(u)>>>1,1),r.i.removeChild(u)}}),Z.render(Z.createElement(xo,{context:r.context},e.__v),r.l)):r.l&&r.componentWillUnmount()}function ir(e,r){return Z.createElement(Mo,{__v:e,i:r})}(ct.prototype=new Z.Component).__e=function(e){var r=this,c=qn(r.__v),u=r.o.get(e);return u[0]++,function(g){var o=function(){r.props.revealOrder?(u.push(g),tr(r,e,u)):g()};c?c(o):o()}},ct.prototype.render=function(e){this.u=null,this.o=new Map;var r=Z.toChildArray(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&r.reverse();for(var c=r.length;c--;)this.o.set(r[c],this.u=[1,0,this.u]);return e.children},ct.prototype.componentDidUpdate=ct.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(r,c){tr(e,c,r)})};var nr=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,To=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Oo=function(e){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};function rr(e,r,c){return r.__k==null&&(r.textContent=""),Z.render(e,r),typeof c=="function"&&c(),e?e.__c:null}function sr(e,r,c){return Z.hydrate(e,r),typeof c=="function"&&c(),e?e.__c:null}Z.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Z.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(r){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:r})}})});var or=Z.options.event;function Fo(){}function Io(){return this.cancelBubble}function Do(){return this.defaultPrevented}Z.options.event=function(e){return or&&(e=or(e)),e.persist=Fo,e.isPropagationStopped=Io,e.isDefaultPrevented=Do,e.nativeEvent=e};var ar,lr={configurable:!0,get:function(){return this.class}},hr=Z.options.vnode;Z.options.vnode=function(e){var r=e.type,c=e.props,u=c;if(typeof r=="string"){for(var g in u={},c){var o=c[g];g==="value"&&"defaultValue"in c&&o==null||(g==="defaultValue"&&"value"in c&&c.value==null?g="value":g==="download"&&o===!0?o="":/ondoubleclick/i.test(g)?g="ondblclick":/^onchange(textarea|input)/i.test(g+r)&&!Oo(c.type)?g="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(g)?g=g.toLowerCase():To.test(g)?g=g.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),u[g]=o)}r=="select"&&u.multiple&&Array.isArray(u.value)&&(u.value=Z.toChildArray(c.children).forEach(function(a){a.props.selected=u.value.indexOf(a.props.value)!=-1})),r=="select"&&u.defaultValue!=null&&(u.value=Z.toChildArray(c.children).forEach(function(a){a.props.selected=u.multiple?u.defaultValue.indexOf(a.props.value)!=-1:u.defaultValue==a.props.value})),e.props=u}r&&c.class!=c.className&&(lr.enumerable="className"in c,c.className!=null&&(u.class=c.className),Object.defineProperty(u,"className",lr)),e.$$typeof=nr,hr&&hr(e)};var cr=Z.options.__r;Z.options.__r=function(e){cr&&cr(e),ar=e.__c};var ur={ReactCurrentDispatcher:{current:{readContext:function(e){return ar.__n[e.__c].props.value}}}};function fr(e){return Z.createElement.bind(null,e)}function Ci(e){return!!e&&e.$$typeof===nr}function dr(e){return Ci(e)?Z.cloneElement.apply(null,arguments):e}function gr(e){return!!e.__k&&(Z.render(null,e),!0)}function pr(e){return e&&(e.base||e.nodeType===1&&e)||null}var mr=function(e,r){return e(r)},vr=function(e,r){return e(r)},wr=Z.Fragment,Po={useState:Re.useState,useReducer:Re.useReducer,useEffect:Re.useEffect,useLayoutEffect:Re.useLayoutEffect,useRef:Re.useRef,useImperativeHandle:Re.useImperativeHandle,useMemo:Re.useMemo,useCallback:Re.useCallback,useContext:Re.useContext,useDebugValue:Re.useDebugValue,version:"17.0.2",Children:Jn,render:rr,hydrate:sr,unmountComponentAtNode:gr,createPortal:ir,createElement:Z.createElement,createContext:Z.createContext,createFactory:fr,cloneElement:dr,createRef:Z.createRef,Fragment:Z.Fragment,isValidElement:Ci,findDOMNode:pr,Component:Z.Component,PureComponent:zt,memo:jn,forwardRef:Xn,flushSync:vr,unstable_batchedUpdates:mr,StrictMode:wr,Suspense:$t,SuspenseList:ct,lazy:er,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ur};Object.keys(Re).forEach(function(e){de[e]=Re[e]}),de.createElement=Z.createElement,de.createContext=Z.createContext,de.createRef=Z.createRef,de.Fragment=Z.Fragment,de.Component=Z.Component,de.version="17.0.2",de.Children=Jn,de.render=rr,de.hydrate=sr,de.unmountComponentAtNode=gr,de.createPortal=ir,de.createFactory=fr,de.cloneElement=dr,de.isValidElement=Ci,de.findDOMNode=pr,de.PureComponent=zt,de.memo=jn,de.forwardRef=Xn,de.flushSync=vr,de.unstable_batchedUpdates=mr,de.StrictMode=wr,de.Suspense=$t,de.SuspenseList=ct,de.lazy=er,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ur,de.default=Po});var Ct=Ae((yr,Ut)=>{j();(function(){var e="ace",r=function(){return this}();if(!r&&typeof window!="undefined"&&(r=window),!e&&typeof requirejs!="undefined")return;var c=function(i,t,n){if(typeof i!="string"){c.original?c.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=t),c.modules[i]||(c.payloads[i]=n,c.modules[i]=null)};c.modules={},c.payloads={};var u=function(i,t,n){if(typeof t=="string"){var s=a(i,t);if(s!=null)return n&&n(),s}else if(Object.prototype.toString.call(t)==="[object Array]"){for(var l=[],f=0,v=t.length;f<v;++f){var S=a(i,t[f]);if(S==null&&g.original)return;l.push(S)}return n&&n.apply(null,l)||!0}},g=function(i,t){var n=u("",i,t);return n==null&&g.original?g.original.apply(this,arguments):n},o=function(i,t){if(t.indexOf("!")!==-1){var n=t.split("!");return o(i,n[0])+"!"+o(i,n[1])}if(t.charAt(0)=="."){var s=i.split("/").slice(0,-1).join("/");for(t=s+"/"+t;t.indexOf(".")!==-1&&l!=t;){var l=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(i,t){t=o(i,t);var n=c.modules[t];if(!n){if(n=c.payloads[t],typeof n=="function"){var s={},l={id:t,uri:"",exports:s,packaged:!0},f=function(S,A){return u(t,S,A)},v=n(f,s,l);s=v||l.exports,c.modules[t]=s,delete c.payloads[t]}n=c.modules[t]=s||n}return n};function h(i){var t=r;i&&(r[i]||(r[i]={}),t=r[i]),(!t.define||!t.define.packaged)&&(c.original=t.define,t.define=c,t.define.packaged=!0),(!t.require||!t.require.packaged)&&(g.original=t.require,t.require=g,t.require.packaged=!0)}h(e)})();ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(e,r,c){"use strict";typeof Element!="undefined"&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})});ace.define("ace/lib/useragent",["require","exports","module"],function(e,r,c){"use strict";r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var u=typeof navigator=="object"?navigator:{},g=(/mac|win|linux/i.exec(u.platform)||["other"])[0].toLowerCase(),o=u.userAgent||"",a=u.appName||"";r.isWin=g=="win",r.isMac=g=="mac",r.isLinux=g=="linux",r.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=o.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,r.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,r.isAIR=o.indexOf("AdobeAIR")>=0,r.isAndroid=o.indexOf("Android")>=0,r.isChromeOS=o.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid});ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("./useragent"),g="http://www.w3.org/1999/xhtml";r.buildDom=function n(s,l,f){if(typeof s=="string"&&s){var v=document.createTextNode(s);return l&&l.appendChild(v),v}if(!Array.isArray(s))return s&&s.appendChild&&l&&l.appendChild(s),s;if(typeof s[0]!="string"||!s[0]){for(var S=[],A=0;A<s.length;A++){var C=n(s[A],l,f);C&&S.push(C)}return S}var $=document.createElement(s[0]),p=s[1],y=1;p&&typeof p=="object"&&!Array.isArray(p)&&(y=2);for(var A=y;A<s.length;A++)n(s[A],$,f);return y==2&&Object.keys(p).forEach(function(w){var m=p[w];w==="class"?$.className=Array.isArray(m)?m.join(" "):m:typeof m=="function"||w=="value"||w[0]=="$"?$[w]=m:w==="ref"?f&&(f[m]=$):w==="style"?typeof m=="string"&&($.style.cssText=m):m!=null&&$.setAttribute(w,m)}),l&&l.appendChild($),$},r.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement},r.createElement=function(n,s){return document.createElementNS?document.createElementNS(s||g,n):document.createElement(n)},r.removeChildren=function(n){n.innerHTML=""},r.createTextNode=function(n,s){var l=s?s.ownerDocument:document;return l.createTextNode(n)},r.createFragment=function(n){var s=n?n.ownerDocument:document;return s.createDocumentFragment()},r.hasCssClass=function(n,s){var l=(n.className+"").split(/\s+/g);return l.indexOf(s)!==-1},r.addCssClass=function(n,s){r.hasCssClass(n,s)||(n.className+=" "+s)},r.removeCssClass=function(n,s){for(var l=n.className.split(/\s+/g);;){var f=l.indexOf(s);if(f==-1)break;l.splice(f,1)}n.className=l.join(" ")},r.toggleCssClass=function(n,s){for(var l=n.className.split(/\s+/g),f=!0;;){var v=l.indexOf(s);if(v==-1)break;f=!1,l.splice(v,1)}return f&&l.push(s),n.className=l.join(" "),f},r.setCssClass=function(n,s,l){l?r.addCssClass(n,s):r.removeCssClass(n,s)},r.hasCssString=function(n,s){var l=0,f;if(s=s||document,f=s.querySelectorAll("style")){for(;l<f.length;)if(f[l++].id===n)return!0}};var o,a=[];r.useStrictCSP=function(n){o=n,n==!1?h():a||(a=[])};function h(){var n=a;a=null,n&&n.forEach(function(s){i(s[0],s[1])})}function i(n,s,l){if(typeof document!="undefined"){if(a){if(l)h();else if(l===!1)return a.push([n,s])}if(!o){var f=l;!l||!l.getRootNode?f=document:(f=l.getRootNode(),(!f||f==l)&&(f=document));var v=f.ownerDocument||f;if(s&&r.hasCssString(s,f))return null;s&&(n+=`
/*# sourceURL=ace/css/`+s+" */");var S=r.createElement("style");S.appendChild(v.createTextNode(n)),s&&(S.id=s),f==v&&(f=r.getDocumentHead(v)),f.insertBefore(S,f.firstChild)}}}if(r.importCssString=i,r.importCssStylsheet=function(n,s){r.buildDom(["link",{rel:"stylesheet",href:n}],r.getDocumentHead(s))},r.scrollbarWidth=function(n){var s=r.createElement("ace_inner");s.style.width="100%",s.style.minWidth="0px",s.style.height="200px",s.style.display="block";var l=r.createElement("ace_outer"),f=l.style;f.position="absolute",f.left="-10000px",f.overflow="hidden",f.width="200px",f.minWidth="0px",f.height="150px",f.display="block",l.appendChild(s);var v=n.documentElement;v.appendChild(l);var S=s.offsetWidth;f.overflow="scroll";var A=s.offsetWidth;return S==A&&(A=l.clientWidth),v.removeChild(l),S-A},r.computedStyle=function(n,s){return window.getComputedStyle(n,"")||{}},r.setStyle=function(n,s,l){n[s]!==l&&(n[s]=l)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=u.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0,u.isChromeOS&&(r.HI_DPI=!1),typeof document!="undefined"){var t=document.createElement("div");r.HI_DPI&&t.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!u.isEdge&&typeof t.style.animationName!="undefined"&&(r.HAS_CSS_ANIMATION=!0),t=null}r.HAS_CSS_TRANSFORMS?r.translate=function(n,s,l){n.style.transform="translate("+Math.round(s)+"px, "+Math.round(l)+"px)"}:r.translate=function(n,s,l){n.style.top=Math.round(l)+"px",n.style.left=Math.round(s)+"px"}});ace.define("ace/lib/oop",["require","exports","module"],function(e,r,c){"use strict";r.inherits=function(u,g){u.super_=g,u.prototype=Object.create(g.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(u,g){for(var o in g)u[o]=g[o];return u},r.implement=function(u,g){r.mixin(u,g)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,r,c){"use strict";var u=e("./oop"),g=function(){var o={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a,h;for(h in o.FUNCTION_KEYS)a=o.FUNCTION_KEYS[h].toLowerCase(),o[a]=parseInt(h,10);for(h in o.PRINTABLE_KEYS)a=o.PRINTABLE_KEYS[h].toLowerCase(),o[a]=parseInt(h,10);return u.mixin(o,o.MODIFIER_KEYS),u.mixin(o,o.PRINTABLE_KEYS),u.mixin(o,o.FUNCTION_KEYS),o.enter=o.return,o.escape=o.esc,o.del=o.delete,o[173]="-",function(){for(var i=["cmd","ctrl","alt","shift"],t=Math.pow(2,i.length);t--;)o.KEY_MODS[t]=i.filter(function(n){return t&o.KEY_MODS[n]}).join("-")+"-"}(),o.KEY_MODS[0]="",o.KEY_MODS[-1]="input-",o}();u.mixin(r,g),r.keyCodeToString=function(o){var a=g[o];return typeof a!="string"&&(a=String.fromCharCode(o)),a.toLowerCase()}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("./keys"),g=e("./useragent"),o=null,a=0,h;function i(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){h={passive:!1}}})}catch(C){}}function t(){return h==null&&i(),h}function n(C,$,p){this.elem=C,this.type=$,this.callback=p}n.prototype.destroy=function(){l(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var s=r.addListener=function(C,$,p,y){C.addEventListener($,p,t()),y&&y.$toDestroy.push(new n(C,$,p))},l=r.removeListener=function(C,$,p){C.removeEventListener($,p,t())};r.stopEvent=function(C){return r.stopPropagation(C),r.preventDefault(C),!1},r.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},r.preventDefault=function(C){C.preventDefault&&C.preventDefault()},r.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||g.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},r.capture=function(C,$,p){var y=C&&C.ownerDocument||document;function w(m){$&&$(m),p&&p(m),l(y,"mousemove",$),l(y,"mouseup",w),l(y,"dragstart",w)}return s(y,"mousemove",$),s(y,"mouseup",w),s(y,"dragstart",w),w},r.addMouseWheelListener=function(C,$,p){"onmousewheel"in C?s(C,"mousewheel",function(y){var w=8;y.wheelDeltaX!==void 0?(y.wheelX=-y.wheelDeltaX/w,y.wheelY=-y.wheelDeltaY/w):(y.wheelX=0,y.wheelY=-y.wheelDelta/w),$(y)},p):"onwheel"in C?s(C,"wheel",function(y){var w=.35;switch(y.deltaMode){case y.DOM_DELTA_PIXEL:y.wheelX=y.deltaX*w||0,y.wheelY=y.deltaY*w||0;break;case y.DOM_DELTA_LINE:case y.DOM_DELTA_PAGE:y.wheelX=(y.deltaX||0)*5,y.wheelY=(y.deltaY||0)*5;break}$(y)},p):s(C,"DOMMouseScroll",function(y){y.axis&&y.axis==y.HORIZONTAL_AXIS?(y.wheelX=(y.detail||0)*5,y.wheelY=0):(y.wheelX=0,y.wheelY=(y.detail||0)*5),$(y)},p)},r.addMultiMouseDownListener=function(C,$,p,y,w){var m=0,b,d,_,k={2:"dblclick",3:"tripleclick",4:"quadclick"};function L(E){if(r.getButton(E)!==0?m=0:E.detail>1?(m++,m>4&&(m=1)):m=1,g.isIE){var R=Math.abs(E.clientX-b)>5||Math.abs(E.clientY-d)>5;(!_||R)&&(m=1),_&&clearTimeout(_),_=setTimeout(function(){_=null},$[m-1]||600),m==1&&(b=E.clientX,d=E.clientY)}if(E._clicks=m,p[y]("mousedown",E),m>4)m=0;else if(m>1)return p[y](k[m],E)}Array.isArray(C)||(C=[C]),C.forEach(function(E){s(E,"mousedown",L,w)})};var f=function(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)};r.getModifierString=function(C){return u.KEY_MODS[f(C)]};function v(C,$,p){var y=f($);if(!g.isMac&&o){if($.getModifierState&&($.getModifierState("OS")||$.getModifierState("Win"))&&(y|=8),o.altGr)if((3&y)!=3)o.altGr=0;else return;if(p===18||p===17){var w="location"in $?$.location:$.keyLocation;if(p===17&&w===1)o[p]==1&&(a=$.timeStamp);else if(p===18&&y===3&&w===2){var m=$.timeStamp-a;m<50&&(o.altGr=!0)}}}if(p in u.MODIFIER_KEYS&&(p=-1),!y&&p===13){var w="location"in $?$.location:$.keyLocation;if(w===3&&(C($,y,-p),$.defaultPrevented))return}if(g.isChromeOS&&y&8){if(C($,y,p),$.defaultPrevented)return;y&=~8}return!y&&!(p in u.FUNCTION_KEYS)&&!(p in u.PRINTABLE_KEYS)?!1:C($,y,p)}r.addCommandKeyListener=function(C,$,p){if(g.isOldGecko||g.isOpera&&!("KeyboardEvent"in window)){var y=null;s(C,"keydown",function(m){y=m.keyCode},p),s(C,"keypress",function(m){return v($,m,y)},p)}else{var w=null;s(C,"keydown",function(m){o[m.keyCode]=(o[m.keyCode]||0)+1;var b=v($,m,m.keyCode);return w=m.defaultPrevented,b},p),s(C,"keypress",function(m){w&&(m.ctrlKey||m.altKey||m.shiftKey||m.metaKey)&&(r.stopEvent(m),w=null)},p),s(C,"keyup",function(m){o[m.keyCode]=null},p),o||(S(),s(window,"focus",S))}};function S(){o=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!g.isOldIE){var A=1;r.nextTick=function(C,$){$=$||window;var p="zero-timeout-message-"+A++,y=function(w){w.data==p&&(r.stopPropagation(w),l($,"message",y),C())};s($,"message",y),$.postMessage(p,"*")}}r.$idleBlocked=!1,r.onIdle=function(C,$){return setTimeout(function p(){r.$idleBlocked?setTimeout(p,100):C()},$)},r.$idleBlockId=null,r.blockIdle=function(C){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},C||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(C){setTimeout(C,17)}});ace.define("ace/range",["require","exports","module"],function(e,r,c){"use strict";var u=function(o,a){return o.row-a.row||o.column-a.column},g=function(o,a,h,i){this.start={row:o,column:a},this.end={row:h,column:i}};(function(){this.isEqual=function(o){return this.start.row===o.start.row&&this.end.row===o.end.row&&this.start.column===o.start.column&&this.end.column===o.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(o,a){return this.compare(o,a)==0},this.compareRange=function(o){var a,h=o.end,i=o.start;return a=this.compare(h.row,h.column),a==1?(a=this.compare(i.row,i.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(i.row,i.column),a==-1?-1:a==1?42:0)},this.comparePoint=function(o){return this.compare(o.row,o.column)},this.containsRange=function(o){return this.comparePoint(o.start)==0&&this.comparePoint(o.end)==0},this.intersects=function(o){var a=this.compareRange(o);return a==-1||a==0||a==1},this.isEnd=function(o,a){return this.end.row==o&&this.end.column==a},this.isStart=function(o,a){return this.start.row==o&&this.start.column==a},this.setStart=function(o,a){typeof o=="object"?(this.start.column=o.column,this.start.row=o.row):(this.start.row=o,this.start.column=a)},this.setEnd=function(o,a){typeof o=="object"?(this.end.column=o.column,this.end.row=o.row):(this.end.row=o,this.end.column=a)},this.inside=function(o,a){return this.compare(o,a)==0?!(this.isEnd(o,a)||this.isStart(o,a)):!1},this.insideStart=function(o,a){return this.compare(o,a)==0?!this.isEnd(o,a):!1},this.insideEnd=function(o,a){return this.compare(o,a)==0?!this.isStart(o,a):!1},this.compare=function(o,a){return!this.isMultiLine()&&o===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:o<this.start.row?-1:o>this.end.row?1:this.start.row===o?a>=this.start.column?0:-1:this.end.row===o?a<=this.end.column?0:1:0},this.compareStart=function(o,a){return this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},this.compareEnd=function(o,a){return this.end.row==o&&this.end.column==a?1:this.compare(o,a)},this.compareInside=function(o,a){return this.end.row==o&&this.end.column==a?1:this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},this.clipRows=function(o,a){if(this.end.row>a)var h={row:a+1,column:0};else if(this.end.row<o)var h={row:o,column:0};if(this.start.row>a)var i={row:a+1,column:0};else if(this.start.row<o)var i={row:o,column:0};return g.fromPoints(i||this.start,h||this.end)},this.extend=function(o,a){var h=this.compare(o,a);if(h==0)return this;if(h==-1)var i={row:o,column:a};else var t={row:o,column:a};return g.fromPoints(i||this.start,t||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return g.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new g(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new g(this.start.row,0,this.end.row,0)},this.toScreenRange=function(o){var a=o.documentToScreenPosition(this.start),h=o.documentToScreenPosition(this.end);return new g(a.row,a.column,h.row,h.column)},this.moveBy=function(o,a){this.start.row+=o,this.start.column+=a,this.end.row+=o,this.end.column+=a}}).call(g.prototype),g.fromPoints=function(o,a){return new g(o.row,o.column,a.row,a.column)},g.comparePoints=u,g.comparePoints=function(o,a){return o.row-a.row||o.column-a.column},r.Range=g});ace.define("ace/lib/lang",["require","exports","module"],function(e,r,c){"use strict";r.last=function(o){return o[o.length-1]},r.stringReverse=function(o){return o.split("").reverse().join("")},r.stringRepeat=function(o,a){for(var h="";a>0;)a&1&&(h+=o),(a>>=1)&&(o+=o);return h};var u=/^\s\s*/,g=/\s\s*$/;r.stringTrimLeft=function(o){return o.replace(u,"")},r.stringTrimRight=function(o){return o.replace(g,"")},r.copyObject=function(o){var a={};for(var h in o)a[h]=o[h];return a},r.copyArray=function(o){for(var a=[],h=0,i=o.length;h<i;h++)o[h]&&typeof o[h]=="object"?a[h]=this.copyObject(o[h]):a[h]=o[h];return a},r.deepCopy=function o(a){if(typeof a!="object"||!a)return a;var h;if(Array.isArray(a)){h=[];for(var i=0;i<a.length;i++)h[i]=o(a[i]);return h}if(Object.prototype.toString.call(a)!=="[object Object]")return a;h={};for(var i in a)h[i]=o(a[i]);return h},r.arrayToMap=function(o){for(var a={},h=0;h<o.length;h++)a[o[h]]=1;return a},r.createMap=function(o){var a=Object.create(null);for(var h in o)a[h]=o[h];return a},r.arrayRemove=function(o,a){for(var h=0;h<=o.length;h++)a===o[h]&&o.splice(h,1)},r.escapeRegExp=function(o){return o.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(o){return(""+o).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(o,a){var h=[];return o.replace(a,function(i){h.push({offset:arguments[arguments.length-2],length:i.length})}),h},r.deferredCall=function(o){var a=null,h=function(){a=null,o()},i=function(t){return i.cancel(),a=setTimeout(h,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),o(),i},i.cancel=function(){return clearTimeout(a),a=null,i},i.isPending=function(){return a},i},r.delayedCall=function(o,a){var h=null,i=function(){h=null,o()},t=function(n){h==null&&(h=setTimeout(i,n||a))};return t.delay=function(n){h&&clearTimeout(h),h=setTimeout(i,n||a)},t.schedule=t,t.call=function(){this.cancel(),o()},t.cancel=function(){h&&clearTimeout(h),h=null},t.isPending=function(){return h},t}});ace.define("ace/clipboard",["require","exports","module"],function(e,r,c){"use strict";var u;c.exports={lineMode:!1,pasteCancelled:function(){return u&&u>Date.now()-50?!0:u=!1},cancel:function(){u=Date.now()}}});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,r,c){"use strict";var u=e("../lib/event"),g=e("../lib/useragent"),o=e("../lib/dom"),a=e("../lib/lang"),h=e("../clipboard"),i=g.isChrome<18,t=g.isIE,n=g.isChrome>63,s=400,l=e("../lib/keys"),f=l.KEY_MODS,v=g.isIOS,S=v?/\s/:/\n/,A=g.isMobile,C=function($,p){var y=o.createElement("textarea");y.className="ace_text-input",y.setAttribute("wrap","off"),y.setAttribute("autocorrect","off"),y.setAttribute("autocapitalize","off"),y.setAttribute("spellcheck",!1),y.style.opacity="0",$.insertBefore(y,$.firstChild);var w=!1,m=!1,b=!1,d=!1,_="";A||(y.style.fontSize="1px");var k=!1,L=!1,E="",R=0,x=0,O=0;try{var T=document.activeElement===y}catch(B){}u.addListener(y,"blur",function(B){L||(p.onBlur(B),T=!1)},p),u.addListener(y,"focus",function(B){if(!L){if(T=!0,g.isEdge)try{if(!document.hasFocus())return}catch(G){}p.onFocus(B),g.isEdge?setTimeout(F):F()}},p),this.$focusScroll=!1,this.focus=function(){if(_||n||this.$focusScroll=="browser")return y.focus({preventScroll:!0});var B=y.style.top;y.style.position="fixed",y.style.top="0px";try{var G=y.getBoundingClientRect().top!=0}catch(we){return}var te=[];if(G)for(var le=y.parentElement;le&&le.nodeType==1;)te.push(le),le.setAttribute("ace_nocontext",!0),!le.parentElement&&le.getRootNode?le=le.getRootNode().host:le=le.parentElement;y.focus({preventScroll:!0}),G&&te.forEach(function(we){we.removeAttribute("ace_nocontext")}),setTimeout(function(){y.style.position="",y.style.top=="0px"&&(y.style.top=B)},0)},this.blur=function(){y.blur()},this.isFocused=function(){return T},p.on("beforeEndOperation",function(){var B=p.curOp,G=B&&B.command&&B.command.name;if(G!="insertstring"){var te=G&&(B.docChanged||B.selectionChanged);b&&te&&(E=y.value="",ee()),F()}});var F=v?function(B){if(!(!T||w&&!B||d)){B||(B="");var G=`
 ab`+B+`cde fg
`;G!=y.value&&(y.value=E=G);var te=4,le=4+(B.length||(p.selection.isEmpty()?0:1));(R!=te||x!=le)&&y.setSelectionRange(te,le),R=te,x=le}}:function(){if(!(b||d)&&!(!T&&!D)){b=!0;var B=0,G=0,te="";if(p.session){var le=p.selection,we=le.getRange(),Se=le.cursor.row;if(B=we.start.column,G=we.end.column,te=p.session.getLine(Se),we.start.row!=Se){var Ce=p.session.getLine(Se-1);B=we.start.row<Se-1?0:B,G+=Ce.length+1,te=Ce+`
`+te}else if(we.end.row!=Se){var $e=p.session.getLine(Se+1);G=we.end.row>Se+1?$e.length:G,G+=te.length+1,te=te+`
`+$e}else A&&Se>0&&(te=`
`+te,G+=1,B+=1);te.length>s&&(B<s&&G<s?te=te.slice(0,s):(te=`
`,B==G?B=G=0:(B=0,G=1)))}var ye=te+`

`;if(ye!=E&&(y.value=E=ye,R=x=ye.length),D&&(R=y.selectionStart,x=y.selectionEnd),x!=G||R!=B||y.selectionEnd!=x)try{y.setSelectionRange(B,G),R=B,x=G}catch(pe){}b=!1}};this.resetSelection=F,T&&p.onFocus();var I=function(B){return B.selectionStart===0&&B.selectionEnd>=E.length&&B.value===E&&E&&B.selectionEnd!==x},M=function(B){b||(w?w=!1:I(y)?(p.selectAll(),F()):A&&y.selectionStart!=R&&F())},W=null;this.setInputHandler=function(B){W=B},this.getInputHandler=function(){return W};var D=!1,K=function(B,G){if(D&&(D=!1),m)return F(),B&&p.onPaste(B),m=!1,"";for(var te=y.selectionStart,le=y.selectionEnd,we=R,Se=E.length-x,Ce=B,$e=B.length-te,ye=B.length-le,pe=0;we>0&&E[pe]==B[pe];)pe++,we--;for(Ce=Ce.slice(pe),pe=1;Se>0&&E.length-pe>R-1&&E[E.length-pe]==B[B.length-pe];)pe++,Se--;$e-=pe-1,ye-=pe-1;var Pe=Ce.length-pe+1;if(Pe<0&&(we=-Pe,Pe=0),Ce=Ce.slice(0,Pe),!G&&!Ce&&!$e&&!we&&!Se&&!ye)return"";d=!0;var It=!1;return g.isAndroid&&Ce==". "&&(Ce="  ",It=!0),Ce&&!we&&!Se&&!$e&&!ye||k?p.onTextInput(Ce):p.onTextInput(Ce,{extendLeft:we,extendRight:Se,restoreStart:$e,restoreEnd:ye}),d=!1,E=B,R=te,x=le,O=ye,It?`
`:Ce},V=function(B){if(b)return H();if(B&&B.inputType){if(B.inputType=="historyUndo")return p.execCommand("undo");if(B.inputType=="historyRedo")return p.execCommand("redo")}var G=y.value,te=K(G,!0);(G.length>s+100||S.test(te)||A&&R<1&&R==x)&&F()},ie=function(B,G,te){var le=B.clipboardData||window.clipboardData;if(!(!le||i)){var we=t||te?"Text":"text/plain";try{return G?le.setData(we,G)!==!1:le.getData(we)}catch(Se){if(!te)return ie(Se,G,!0)}}},ne=function(B,G){var te=p.getCopyText();if(!te)return u.preventDefault(B);ie(B,te)?(v&&(F(te),w=te,setTimeout(function(){w=!1},10)),G?p.onCut():p.onCopy(),u.preventDefault(B)):(w=!0,y.value=te,y.select(),setTimeout(function(){w=!1,F(),G?p.onCut():p.onCopy()}))},ce=function(B){ne(B,!0)},z=function(B){ne(B,!1)},P=function(B){var G=ie(B);h.pasteCancelled()||(typeof G=="string"?(G&&p.onPaste(G,B),g.isIE&&setTimeout(F),u.preventDefault(B)):(y.value="",m=!0))};u.addCommandKeyListener(y,p.onCommandKey.bind(p),p),u.addListener(y,"select",M,p),u.addListener(y,"input",V,p),u.addListener(y,"cut",ce,p),u.addListener(y,"copy",z,p),u.addListener(y,"paste",P,p),(!("oncut"in y)||!("oncopy"in y)||!("onpaste"in y))&&u.addListener($,"keydown",function(B){if(!(g.isMac&&!B.metaKey||!B.ctrlKey))switch(B.keyCode){case 67:z(B);break;case 86:P(B);break;case 88:ce(B);break}},p);var N=function(B){if(!(b||!p.onCompositionStart||p.$readOnly)&&(b={},!k)){B.data&&(b.useTextareaForIME=!1),setTimeout(H,0),p._signal("compositionStart"),p.on("mousedown",Y);var G=p.getSelectionRange();G.end.row=G.start.row,G.end.column=G.start.column,b.markerRange=G,b.selectionStart=R,p.onCompositionStart(b),b.useTextareaForIME?(E=y.value="",R=0,x=0):(y.msGetInputContext&&(b.context=y.msGetInputContext()),y.getInputContext&&(b.context=y.getInputContext()))}},H=function(){if(!(!b||!p.onCompositionUpdate||p.$readOnly)){if(k)return Y();if(b.useTextareaForIME)p.onCompositionUpdate(y.value);else{var B=y.value;K(B),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+x-b.selectionStart+O)}}},ee=function(B){!p.onCompositionEnd||p.$readOnly||(b=!1,p.onCompositionEnd(),p.off("mousedown",Y),B&&V())};function Y(){L=!0,y.blur(),y.focus(),L=!1}var re=a.delayedCall(H,50).schedule.bind(null,null);function Q(B){B.keyCode==27&&y.value.length<y.selectionStart&&(b||(E=y.value),R=x=-1,F()),re()}u.addListener(y,"compositionstart",N,p),u.addListener(y,"compositionupdate",H,p),u.addListener(y,"keyup",Q,p),u.addListener(y,"keydown",re,p),u.addListener(y,"compositionend",ee,p),this.getElement=function(){return y},this.setCommandMode=function(B){k=B,y.readOnly=!1},this.setReadOnly=function(B){k||(y.readOnly=B)},this.setCopyWithEmptySelection=function(B){},this.onContextMenu=function(B){D=!0,F(),p._emit("nativecontextmenu",{target:p,domEvent:B}),this.moveToMouse(B,!0)},this.moveToMouse=function(B,G){_||(_=y.style.cssText),y.style.cssText=(G?"z-index:100000;":"")+(g.isIE?"opacity:0.1;":"")+"text-indent: -"+(R+x)*p.renderer.characterWidth*.5+"px;";var te=p.container.getBoundingClientRect(),le=o.computedStyle(p.container),we=te.top+(parseInt(le.borderTopWidth)||0),Se=te.left+(parseInt(te.borderLeftWidth)||0),Ce=te.bottom-we-y.clientHeight-2,$e=function(ye){o.translate(y,ye.clientX-Se-2,Math.min(ye.clientY-we-2,Ce))};$e(B),B.type=="mousedown"&&(p.renderer.$isMousePressed=!0,clearTimeout(ue),g.isWin&&u.capture(p.container,$e,ke))},this.onContextMenuClose=ke;var ue;function ke(){clearTimeout(ue),ue=setTimeout(function(){_&&(y.style.cssText=_,_=""),p.renderer.$isMousePressed=!1,p.renderer.$keepTextAreaAtCursor&&p.renderer.$moveTextAreaToCursor()},0)}var Ke=function(B){p.textInput.onContextMenu(B),ke()};u.addListener(y,"mouseup",Ke,p),u.addListener(y,"mousedown",function(B){B.preventDefault(),ke()},p),u.addListener(p.renderer.scroller,"contextmenu",Ke,p),u.addListener(y,"contextmenu",Ke,p),v&&De($,p,y);function De(B,G,te){var le=null,we=!1;te.addEventListener("keydown",function(Ce){le&&clearTimeout(le),we=!0},!0),te.addEventListener("keyup",function(Ce){le=setTimeout(function(){we=!1},100)},!0);var Se=function(Ce){if(document.activeElement===te&&!(we||b||G.$mouseHandler.isMousePressed)&&!w){var $e=te.selectionStart,ye=te.selectionEnd,pe=null,Pe=0;if($e==0?pe=l.up:$e==1?pe=l.home:ye>x&&E[ye]==`
`?pe=l.end:$e<R&&E[$e-1]==" "?(pe=l.left,Pe=f.option):$e<R||$e==R&&x!=R&&$e==ye?pe=l.left:ye>x&&E.slice(0,ye).split(`
`).length>2?pe=l.down:ye>x&&E[ye-1]==" "?(pe=l.right,Pe=f.option):(ye>x||ye==x&&x!=R&&$e==ye)&&(pe=l.right),$e!==ye&&(Pe|=f.shift),pe){var It=G.onCommandKey({},Pe,pe);if(!It&&G.commands){pe=l.keyCodeToString(pe);var an=G.commands.findKeyCommand(Pe,pe);an&&G.execCommand(an)}R=$e,x=ye,F("")}}};document.addEventListener("selectionchange",Se),G.on("destroy",function(){document.removeEventListener("selectionchange",Se)})}};r.TextInput=C,r.$setUserAgentForTests=function($,p){A=$,v=p}});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("../lib/useragent"),g=0,o=550;function a(t){t.$clickSelection=null;var n=t.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t));var s=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];s.forEach(function(l){t[l]=this[l]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}(function(){this.onMouseDown=function(t){var n=t.inSelection(),s=t.getDocumentPosition();this.mousedownEvent=t;var l=this.editor,f=t.getButton();if(f!==0){var v=l.getSelectionRange(),S=v.isEmpty();(S||f==1)&&l.selection.moveToPosition(s),f==2&&(l.textInput.onContextMenu(t.domEvent),u.isMozilla||t.preventDefault());return}if(this.mousedownEvent.time=Date.now(),n&&!l.isFocused()&&(l.focus(),this.$focusTimeout&&!this.$clickSelection&&!l.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(t);return}return this.captureMouse(t),this.startSelect(s,t.domEvent._clicks>1),t.preventDefault()},this.startSelect=function(t,n){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var s=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?s.selection.selectToPosition(t):n||s.selection.moveToPosition(t),n||this.select(),s.renderer.scroller.setCapture&&s.renderer.scroller.setCapture(),s.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,n=this.editor,s=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var l=this.$clickSelection.comparePoint(s);if(l==-1)t=this.$clickSelection.end;else if(l==1)t=this.$clickSelection.start;else{var f=i(this.$clickSelection,s);s=f.cursor,t=f.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(s),n.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var n,s=this.editor,l=s.renderer.screenToTextCoordinates(this.x,this.y),f=s.selection[t](l.row,l.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(f.start),S=this.$clickSelection.comparePoint(f.end);if(v==-1&&S<=0)n=this.$clickSelection.end,(f.end.row!=l.row||f.end.column!=l.column)&&(l=f.start);else if(S==1&&v>=0)n=this.$clickSelection.start,(f.start.row!=l.row||f.start.column!=l.column)&&(l=f.end);else if(v==-1&&S==1)l=f.end,n=f.start;else{var A=i(this.$clickSelection,l);l=A.cursor,n=A.anchor}s.selection.setSelectionAnchor(n.row,n.column)}s.selection.selectToPosition(l),s.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=Date.now();(t>g||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var n=t.getDocumentPosition(),s=this.editor,l=s.session,f=l.getBracketRange(n);f?(f.isEmpty()&&(f.start.column--,f.end.column++),this.setState("select")):(f=s.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=f,this.select()},this.onTripleClick=function(t){var n=t.getDocumentPosition(),s=this.editor;this.setState("selectByLines");var l=s.getSelectionRange();l.isMultiLine()&&l.contains(n.row,n.column)?(this.$clickSelection=s.selection.getLineRange(l.start.row),this.$clickSelection.end=s.selection.getLineRange(l.end.row).end):this.$clickSelection=s.selection.getLineRange(n.row),this.select()},this.onQuadClick=function(t){var n=this.editor;n.selectAll(),this.$clickSelection=n.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var s=this.$lastScroll,l=t.domEvent.timeStamp,f=l-s.t,v=f?t.wheelX/f:s.vx,S=f?t.wheelY/f:s.vy;f<o&&(v=(v+s.vx)/2,S=(S+s.vy)/2);var A=Math.abs(v/S),C=!1;if(A>=1&&n.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(C=!0),A<=1&&n.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(C=!0),C)s.allowed=l;else if(l-s.allowed<o){var $=Math.abs(v)<=1.5*Math.abs(s.vx)&&Math.abs(S)<=1.5*Math.abs(s.vy);$?(C=!0,s.allowed=l):s.allowed=0}if(s.t=l,s.vx=v,s.vy=S,C)return n.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()}}}).call(a.prototype),r.DefaultHandlers=a;function h(t,n,s,l){return Math.sqrt(Math.pow(s-t,2)+Math.pow(l-n,2))}function i(t,n){if(t.start.row==t.end.row)var s=2*n.column-t.start.column-t.end.column;else if(t.start.row==t.end.row-1&&!t.start.column&&!t.end.column)var s=n.column-4;else var s=2*n.row-t.start.row-t.end.row;return s<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/dom");function o(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}(function(){this.$init=function(){return this.$element=g.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(a){this.getElement().textContent=a},this.setHtml=function(a){this.getElement().innerHTML=a},this.setPosition=function(a,h){this.getElement().style.left=a+"px",this.getElement().style.top=h+"px"},this.setClassName=function(a){g.addCssClass(this.getElement(),a)},this.show=function(a,h,i){a!=null&&this.setText(a),h!=null&&i!=null&&this.setPosition(h,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(o.prototype),r.Tooltip=o});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;function h(t){var n=t.editor,s=n.renderer.$gutterLayer,l=new i(n.container);t.editor.setDefaultHandler("guttermousedown",function(p){if(!(!n.isFocused()||p.getButton()!=0)){var y=s.getRegion(p);if(y!="foldWidgets"){var w=p.getDocumentPosition().row,m=n.session.selection;if(p.getShiftKey())m.selectTo(w,0);else{if(p.domEvent.detail==2)return n.selectAll(),p.preventDefault();t.$clickSelection=n.selection.getLineRange(w)}return t.setState("selectByLines"),t.captureMouse(p),p.preventDefault()}}});var f,v,S;function A(){var p=v.getDocumentPosition().row,y=s.$annotations[p];if(!y)return C();var w=n.session.getLength();if(p==w){var m=n.renderer.pixelToScreenCoordinates(0,v.y).row,b=v.$pos;if(m>n.session.documentToScreenRow(b.row,b.column))return C()}if(S!=y)if(S=y.text.join("<br/>"),l.setHtml(S),l.show(),n._signal("showGutterTooltip",l),n.on("mousewheel",C),t.$tooltipFollowsMouse)$(v);else{var d=v.domEvent.target,_=d.getBoundingClientRect(),k=l.getElement().style;k.left=_.right+"px",k.top=_.bottom+"px"}}function C(){f&&(f=clearTimeout(f)),S&&(l.hide(),S=null,n._signal("hideGutterTooltip",l),n.off("mousewheel",C))}function $(p){l.setPosition(p.x,p.y)}t.editor.setDefaultHandler("guttermousemove",function(p){var y=p.domEvent.target||p.domEvent.srcElement;if(u.hasCssClass(y,"ace_fold-widget"))return C();S&&t.$tooltipFollowsMouse&&$(p),v=p,!f&&(f=setTimeout(function(){f=null,v&&!t.isMousePressed?A():C()},50))}),o.addListener(n.renderer.$gutter,"mouseout",function(p){v=null,!(!S||f)&&(f=setTimeout(function(){f=null,C()},50))},n),n.on("changeSession",C)}function i(t){a.call(this,t)}g.inherits(i,a),function(){this.setPosition=function(t,n){var s=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight,f=this.getWidth(),v=this.getHeight();t+=15,n+=15,t+f>s&&(t-=t+f-s),n+v>l&&(n-=20+v),a.prototype.setPosition.call(this,t,n)}}.call(i.prototype),r.GutterHandler=h});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("../lib/event"),g=e("../lib/useragent"),o=r.MouseEvent=function(a,h){this.domEvent=a,this.editor=h,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){u.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){u.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor,h=a.getSelectionRange();if(h.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=h.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return u.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=g.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=e("../lib/event"),o=e("../lib/useragent"),a=200,h=200,i=5;function t(s){var l=s.editor,f=u.createElement("div");f.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",f.textContent="\xA0";var v=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];v.forEach(function(D){s[D]=this[D]},this),l.on("mousedown",this.onMouseDown.bind(s));var S=l.container,A,C,$,p,y,w,m=0,b,d,_,k,L;this.onDragStart=function(D){if(this.cancelDrag||!S.draggable){var K=this;return setTimeout(function(){K.startSelect(),K.captureMouse(D)},0),D.preventDefault()}y=l.getSelectionRange();var V=D.dataTransfer;V.effectAllowed=l.getReadOnly()?"copy":"copyMove",l.container.appendChild(f),V.setDragImage&&V.setDragImage(f,0,0),setTimeout(function(){l.container.removeChild(f)}),V.clearData(),V.setData("Text",l.session.getTextRange()),d=!0,this.setState("drag")},this.onDragEnd=function(D){if(S.draggable=!1,d=!1,this.setState(null),!l.getReadOnly()){var K=D.dataTransfer.dropEffect;!b&&K=="move"&&l.session.remove(l.getSelectionRange()),l.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(D){if(!(l.getReadOnly()||!M(D.dataTransfer)))return C=D.clientX,$=D.clientY,A||O(),m++,D.dataTransfer.dropEffect=b=W(D),g.preventDefault(D)},this.onDragOver=function(D){if(!(l.getReadOnly()||!M(D.dataTransfer)))return C=D.clientX,$=D.clientY,A||(O(),m++),F!==null&&(F=null),D.dataTransfer.dropEffect=b=W(D),g.preventDefault(D)},this.onDragLeave=function(D){if(m--,m<=0&&A)return T(),b=null,g.preventDefault(D)},this.onDrop=function(D){if(!!w){var K=D.dataTransfer;if(d)switch(b){case"move":y.contains(w.row,w.column)?y={start:w,end:w}:y=l.moveText(y,w);break;case"copy":y=l.moveText(y,w,!0);break}else{var V=K.getData("Text");y={start:w,end:l.session.insert(w,V)},l.focus(),b=null}return T(),g.preventDefault(D)}},g.addListener(S,"dragstart",this.onDragStart.bind(s),l),g.addListener(S,"dragend",this.onDragEnd.bind(s),l),g.addListener(S,"dragenter",this.onDragEnter.bind(s),l),g.addListener(S,"dragover",this.onDragOver.bind(s),l),g.addListener(S,"dragleave",this.onDragLeave.bind(s),l),g.addListener(S,"drop",this.onDrop.bind(s),l);function E(D,K){var V=Date.now(),ie=!K||D.row!=K.row,ne=!K||D.column!=K.column;if(!k||ie||ne)l.moveCursorToPosition(D),k=V,L={x:C,y:$};else{var ce=n(L.x,L.y,C,$);ce>i?k=null:V-k>=h&&(l.renderer.scrollCursorIntoView(),k=null)}}function R(D,K){var V=Date.now(),ie=l.renderer.layerConfig.lineHeight,ne=l.renderer.layerConfig.characterWidth,ce=l.renderer.scroller.getBoundingClientRect(),z={x:{left:C-ce.left,right:ce.right-C},y:{top:$-ce.top,bottom:ce.bottom-$}},P=Math.min(z.x.left,z.x.right),N=Math.min(z.y.top,z.y.bottom),H={row:D.row,column:D.column};P/ne<=2&&(H.column+=z.x.left<z.x.right?-3:2),N/ie<=1&&(H.row+=z.y.top<z.y.bottom?-1:1);var ee=D.row!=H.row,Y=D.column!=H.column,re=!K||D.row!=K.row;ee||Y&&!re?_?V-_>=a&&l.renderer.scrollCursorIntoView(H):_=V:_=null}function x(){var D=w;w=l.renderer.screenToTextCoordinates(C,$),E(w,D),R(w,D)}function O(){y=l.selection.toOrientedRange(),A=l.session.addMarker(y,"ace_selection",l.getSelectionStyle()),l.clearSelection(),l.isFocused()&&l.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),x(),p=setInterval(x,20),m=0,g.addListener(document,"mousemove",I)}function T(){clearInterval(p),l.session.removeMarker(A),A=null,l.selection.fromOrientedRange(y),l.isFocused()&&!d&&l.$resetCursorStyle(),y=null,w=null,m=0,_=null,k=null,g.removeListener(document,"mousemove",I)}var F=null;function I(){F==null&&(F=setTimeout(function(){F!=null&&A&&T()},20))}function M(D){var K=D.types;return!K||Array.prototype.some.call(K,function(V){return V=="text/plain"||V=="Text"})}function W(D){var K=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],ie=o.isMac?D.altKey:D.ctrlKey,ne="uninitialized";try{ne=D.dataTransfer.effectAllowed.toLowerCase()}catch(z){}var ce="none";return ie&&K.indexOf(ne)>=0?ce="copy":V.indexOf(ne)>=0?ce="move":K.indexOf(ne)>=0&&(ce="copy"),ce}}(function(){this.dragWait=function(){var s=Date.now()-this.mousedownEvent.time;s>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var s=this.editor.container;s.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(s){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var s=this.editor,l=s.container;l.draggable=!0,s.renderer.$cursorLayer.setBlinking(!1),s.setStyle("ace_dragging");var f=o.isWin?"default":"move";s.renderer.setCursorStyle(f),this.setState("dragReady")},this.onMouseDrag=function(s){var l=this.editor.container;if(o.isIE&&this.state=="dragReady"){var f=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>3&&l.dragDrop()}if(this.state==="dragWait"){var f=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>0&&(l.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(s){if(!!this.$dragEnabled){this.mousedownEvent=s;var l=this.editor,f=s.inSelection(),v=s.getButton(),S=s.domEvent.detail||1;if(S===1&&v===0&&f){if(s.editor.inMultiSelectMode&&(s.getAccelKey()||s.getShiftKey()))return;this.mousedownEvent.time=Date.now();var A=s.domEvent.target||s.domEvent.srcElement;if("unselectable"in A&&(A.unselectable="on"),l.getDragDelay()){if(o.isWebKit){this.cancelDrag=!0;var C=l.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(s,this.onMouseDrag.bind(this)),s.defaultPrevented=!0}}}}).call(t.prototype);function n(s,l,f,v){return Math.sqrt(Math.pow(f-s,2)+Math.pow(v-l,2))}r.DragdropHandler=t});ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,r,c){"use strict";var u=e("./mouse_event").MouseEvent,g=e("../lib/event"),o=e("../lib/dom");r.addTouchListeners=function(a,h){var i="scroll",t,n,s,l,f,v,S=0,A,C=0,$=0,p=0,y,w;function m(){var E=window.navigator&&window.navigator.clipboard,R=!1,x=function(){var T=h.getCopyText(),F=h.session.getUndoManager().hasUndo();w.replaceChild(o.buildDom(R?["span",!T&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],T&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],T&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],E&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],F&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),w.firstChild)},O=function(T){var F=T.target.getAttribute("action");if(F=="more"||!R)return R=!R,x();F=="paste"?E.readText().then(function(I){h.execCommand(F,I)}):F&&((F=="cut"||F=="copy")&&(E?E.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(F)),w.firstChild.style.display="none",R=!1,F!="openCommandPallete"&&h.focus()};w=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(T){i="menu",T.stopPropagation(),T.preventDefault(),h.textInput.focus()},ontouchend:function(T){T.stopPropagation(),T.preventDefault(),O(T)},onclick:O},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function b(){w||m();var E=h.selection.cursor,R=h.renderer.textToScreenCoordinates(E.row,E.column),x=h.renderer.textToScreenCoordinates(0,0).pageX,O=h.renderer.scrollLeft,T=h.container.getBoundingClientRect();w.style.top=R.pageY-T.top-3+"px",R.pageX-T.left<T.width-70?(w.style.left="",w.style.right="10px"):(w.style.right="",w.style.left=x+O-T.left+"px"),w.style.display="",w.firstChild.style.display="none",h.on("input",d)}function d(E){w&&(w.style.display="none"),h.off("input",d)}function _(){f=null,clearTimeout(f);var E=h.selection.getRange(),R=E.contains(A.row,A.column);(E.isEmpty()||!R)&&(h.selection.moveToPosition(A),h.selection.selectWord()),i="wait",b()}function k(){f=null,clearTimeout(f),h.selection.moveToPosition(A);var E=C>=2?h.selection.getLineRange(A.row):h.session.getBracketRange(A);E&&!E.isEmpty()?h.selection.setRange(E):h.selection.selectWord(),i="wait"}g.addListener(a,"contextmenu",function(E){if(!!y){var R=h.textInput.getElement();R.focus()}},h),g.addListener(a,"touchstart",function(E){var R=E.touches;if(f||R.length>1){clearTimeout(f),f=null,s=-1,i="zoom";return}y=h.$mouseHandler.isMousePressed=!0;var x=h.renderer.layerConfig.lineHeight,O=h.renderer.layerConfig.lineHeight,T=E.timeStamp;l=T;var F=R[0],I=F.clientX,M=F.clientY;Math.abs(t-I)+Math.abs(n-M)>x&&(s=-1),t=E.clientX=I,n=E.clientY=M,$=p=0;var W=new u(E,h);if(A=W.getDocumentPosition(),T-s<500&&R.length==1&&!S)C++,E.preventDefault(),E.button=0,k();else{C=0;var D=h.selection.cursor,K=h.selection.isEmpty()?D:h.selection.anchor,V=h.renderer.$cursorLayer.getPixelPosition(D,!0),ie=h.renderer.$cursorLayer.getPixelPosition(K,!0),ne=h.renderer.scroller.getBoundingClientRect(),ce=h.renderer.layerConfig.offset,z=h.renderer.scrollLeft,P=function(ee,Y){return ee=ee/O,Y=Y/x-.75,ee*ee+Y*Y};if(E.clientX<ne.left){i="zoom";return}var N=P(E.clientX-ne.left-V.left+z,E.clientY-ne.top-V.top+ce),H=P(E.clientX-ne.left-ie.left+z,E.clientY-ne.top-ie.top+ce);N<3.5&&H<3.5&&(i=N>H?"cursor":"anchor"),H<3.5?i="anchor":N<3.5?i="cursor":i="scroll",f=setTimeout(_,450)}s=T},h),g.addListener(a,"touchend",function(E){y=h.$mouseHandler.isMousePressed=!1,v&&clearInterval(v),i=="zoom"?(i="",S=0):f?(h.selection.moveToPosition(A),S=0,b()):i=="scroll"?(L(),d()):b(),clearTimeout(f),f=null},h),g.addListener(a,"touchmove",function(E){f&&(clearTimeout(f),f=null);var R=E.touches;if(!(R.length>1||i=="zoom")){var x=R[0],O=t-x.clientX,T=n-x.clientY;if(i=="wait")if(O*O+T*T>4)i="cursor";else return E.preventDefault();t=x.clientX,n=x.clientY,E.clientX=x.clientX,E.clientY=x.clientY;var F=E.timeStamp,I=F-l;if(l=F,i=="scroll"){var M=new u(E,h);M.speed=1,M.wheelX=O,M.wheelY=T,10*Math.abs(O)<Math.abs(T)&&(O=0),10*Math.abs(T)<Math.abs(O)&&(T=0),I!=0&&($=O/I,p=T/I),h._emit("mousewheel",M),M.propagationStopped||($=p=0)}else{var W=new u(E,h),D=W.getDocumentPosition();i=="cursor"?h.selection.moveCursorToPosition(D):i=="anchor"&&h.selection.setSelectionAnchor(D.row,D.column),h.renderer.scrollCursorIntoView(D),E.preventDefault()}}},h);function L(){S+=60,v=setInterval(function(){S--<=0&&(clearInterval(v),v=null),Math.abs($)<.01&&($=0),Math.abs(p)<.01&&(p=0),S<20&&($=.9*$),S<20&&(p=.9*p);var E=h.session.getScrollTop();h.renderer.scrollBy(10*$,10*p),E==h.session.getScrollTop()&&(S=0)},10)}}});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";var u=e("./dom");r.get=function(g,o){var a=new XMLHttpRequest;a.open("GET",g,!0),a.onreadystatechange=function(){a.readyState===4&&o(a.responseText)},a.send(null)},r.loadScript=function(g,o){var a=u.getDocumentHead(),h=document.createElement("script");h.src=g,a.appendChild(h),h.onload=h.onreadystatechange=function(i,t){(t||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,t||o())}},r.qualifyURL=function(g){var o=document.createElement("a");return o.href=g,o.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,r,c){"use strict";var u={},g=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};u._emit=u._dispatchEvent=function(a,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[a]||[],t=this._defaultHandlers[a];if(!(!i.length&&!t)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=a),h.stopPropagation||(h.stopPropagation=g),h.preventDefault||(h.preventDefault=o),i=i.slice();for(var n=0;n<i.length&&(i[n](h,this),!h.propagationStopped);n++);if(t&&!h.defaultPrevented)return t(h,this)}},u._signal=function(a,h){var i=(this._eventRegistry||{})[a];if(!!i){i=i.slice();for(var t=0;t<i.length;t++)i[t](h,this)}},u.once=function(a,h){var i=this;if(this.on(a,function t(){i.off(a,t),h.apply(null,arguments)}),!h)return new Promise(function(t){h=t})},u.setDefaultHandler=function(a,h){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[a]){var t=i[a],n=i._disabled_[a];n||(i._disabled_[a]=n=[]),n.push(t);var s=n.indexOf(h);s!=-1&&n.splice(s,1)}i[a]=h},u.removeDefaultHandler=function(a,h){var i=this._defaultHandlers;if(!!i){var t=i._disabled_[a];if(i[a]==h)t&&this.setDefaultHandler(a,t.pop());else if(t){var n=t.indexOf(h);n!=-1&&t.splice(n,1)}}},u.on=u.addEventListener=function(a,h,i){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[a];return t||(t=this._eventRegistry[a]=[]),t.indexOf(h)==-1&&t[i?"unshift":"push"](h),h},u.off=u.removeListener=u.removeEventListener=function(a,h){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[a];if(!!i){var t=i.indexOf(h);t!==-1&&i.splice(t,1)}},u.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},r.EventEmitter=u});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,r,c){var u=e("./oop"),g=e("./event_emitter").EventEmitter,o={setOptions:function(t){Object.keys(t).forEach(function(n){this.setOption(n,t[n])},this)},getOptions:function(t){var n={};if(t)Array.isArray(t)||(n=t,t=Object.keys(n));else{var s=this.$options;t=Object.keys(s).filter(function(l){return!s[l].hidden})}return t.forEach(function(l){n[l]=this.getOption(l)},this),n},setOption:function(t,n){if(this["$"+t]!==n){var s=this.$options[t];if(!s)return a('misspelled option "'+t+'"');if(s.forwardTo)return this[s.forwardTo]&&this[s.forwardTo].setOption(t,n);s.handlesSet||(this["$"+t]=n),s&&s.set&&s.set.call(this,n)}},getOption:function(t){var n=this.$options[t];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(t):n&&n.get?n.get.call(this):this["$"+t]:a('misspelled option "'+t+'"')}};function a(t){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function h(t,n){var s=new Error(t);s.data=n,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}var i=function(){this.$defaultOptions={}};(function(){u.implement(this,g),this.defineOptions=function(t,n,s){return t.$options||(this.$defaultOptions[n]=t.$options={}),Object.keys(s).forEach(function(l){var f=s[l];typeof f=="string"&&(f={forwardTo:f}),f.name||(f.name=l),t.$options[f.name]=f,"initialValue"in f&&(t["$"+f.name]=f.initialValue)}),u.implement(t,o),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(n){var s=t.$options[n];"value"in s&&t.setOption(n,s.value)})},this.setDefaultValue=function(t,n,s){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][n])break;if(!this.$defaultOptions[t][n])return!1}var l=this.$defaultOptions[t]||(this.$defaultOptions[t]={});l[n]&&(l.forwardTo?this.setDefaultValue(l.forwardTo,n,s):l[n].value=s)},this.setDefaultValues=function(t,n){Object.keys(n).forEach(function(s){this.setDefaultValue(t,s,n[s])},this)},this.warn=a,this.reportError=h}).call(i.prototype),r.AppConfig=i});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],function(e,r,c){var u=e("./lib/lang"),g=e("./lib/oop"),o=e("./lib/net"),a=e("./lib/dom"),h=e("./lib/app_config").AppConfig;c.exports=r=new h;var i=function(){return this||typeof window!="undefined"&&window}(),t={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!t.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return t[f]},r.set=function(f,v){if(t.hasOwnProperty(f))t[f]=v;else if(this.setDefaultValue("",f,v)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&a.useStrictCSP(v)},r.all=function(){return u.copyObject(t)},r.$modes={},r.moduleUrl=function(f,v){if(t.$moduleUrls[f])return t.$moduleUrls[f];var S=f.split("/");v=v||S[S.length-2]||"";var A=v=="snippets"?"/":"-",C=S[S.length-1];if(v=="worker"&&A=="-"){var $=new RegExp("^"+v+"[\\-_]|[\\-_]"+v+"$","g");C=C.replace($,"")}(!C||C==v)&&S.length>1&&(C=S[S.length-2]);var p=t[v+"Path"];return p==null?p=t.basePath:A=="/"&&(v=A=""),p&&p.slice(-1)!="/"&&(p+="/"),p+v+A+C+this.get("suffix")},r.setModuleUrl=function(f,v){return t.$moduleUrls[f]=v},r.$loading={},r.loadModule=function(f,v){var S,A;Array.isArray(f)&&(A=f[0],f=f[1]);try{S=e(f)}catch($){}if(S&&!r.$loading[f])return v&&v(S);if(r.$loading[f]||(r.$loading[f]=[]),r.$loading[f].push(v),!(r.$loading[f].length>1)){var C=function(){e([f],function($){r._emit("load.module",{name:f,module:$});var p=r.$loading[f];r.$loading[f]=null,p.forEach(function(y){y&&y($)})})};if(!r.get("packaged"))return C();o.loadScript(r.moduleUrl(f,A),C),n()}};var n=function(){!t.basePath&&!t.workerPath&&!t.modePath&&!t.themePath&&!Object.keys(t.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),n=function(){})};s(!0);function s(f){if(!(!i||!i.document)){t.packaged=f||e.packaged||c.packaged||i.define&&define.packaged;for(var v={},S="",A=document.currentScript||document._currentScript,C=A&&A.ownerDocument||document,$=C.getElementsByTagName("script"),p=0;p<$.length;p++){var y=$[p],w=y.src||y.getAttribute("src");if(!!w){for(var m=y.attributes,b=0,d=m.length;b<d;b++){var _=m[b];_.name.indexOf("data-ace-")===0&&(v[l(_.name.replace(/^data-ace-/,""))]=_.value)}var k=w.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);k&&(S=k[1])}}S&&(v.base=v.base||S,v.packaged=!0),v.basePath=v.base,v.workerPath=v.workerPath||v.base,v.modePath=v.modePath||v.base,v.themePath=v.themePath||v.base,delete v.base;for(var L in v)typeof v[L]!="undefined"&&r.set(L,v[L])}}r.init=s;function l(f){return f.replace(/-(.)/g,function(v,S){return S.toUpperCase()})}r.version="1.4.13"});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,r,c){"use strict";var u=e("../lib/event"),g=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,h=e("./mouse_event").MouseEvent,i=e("./dragdrop_handler").DragdropHandler,t=e("./touch_handler").addTouchListeners,n=e("../config"),s=function(l){var f=this;this.editor=l,new o(this),new a(this),new i(this);var v=function(C){var $=!document.hasFocus||!document.hasFocus()||!l.isFocused()&&document.activeElement==(l.textInput&&l.textInput.getElement());$&&window.focus(),l.focus()},S=l.renderer.getMouseEventTarget();u.addListener(S,"click",this.onMouseEvent.bind(this,"click"),l),u.addListener(S,"mousemove",this.onMouseMove.bind(this,"mousemove"),l),u.addMultiMouseDownListener([S,l.renderer.scrollBarV&&l.renderer.scrollBarV.inner,l.renderer.scrollBarH&&l.renderer.scrollBarH.inner,l.textInput&&l.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",l),u.addMouseWheelListener(l.container,this.onMouseWheel.bind(this,"mousewheel"),l),t(l.container,l);var A=l.renderer.$gutter;u.addListener(A,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),l),u.addListener(A,"click",this.onMouseEvent.bind(this,"gutterclick"),l),u.addListener(A,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),l),u.addListener(A,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),l),u.addListener(S,"mousedown",v,l),u.addListener(A,"mousedown",v,l),g.isIE&&l.renderer.scrollBarV&&(u.addListener(l.renderer.scrollBarV.element,"mousedown",v,l),u.addListener(l.renderer.scrollBarH.element,"mousedown",v,l)),l.on("mousemove",function(C){if(!(f.state||f.$dragDelay||!f.$dragEnabled)){var $=l.renderer.screenToTextCoordinates(C.x,C.y),p=l.session.selection.getRange(),y=l.renderer;!p.isEmpty()&&p.insideStart($.row,$.column)?y.setCursorStyle("default"):y.setCursorStyle("")}},l)};(function(){this.onMouseEvent=function(l,f){!this.editor.session||this.editor._emit(l,new h(f,this.editor))},this.onMouseMove=function(l,f){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(l,new h(f,this.editor))},this.onMouseWheel=function(l,f){var v=new h(f,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=f.wheelX,v.wheelY=f.wheelY,this.editor._emit(l,v)},this.setState=function(l){this.state=l},this.captureMouse=function(l,f){this.x=l.x,this.y=l.y,this.isMousePressed=!0;var v=this.editor,S=this.editor.renderer;S.$isMousePressed=!0;var A=this,C=function(m){if(!!m){if(g.isWebKit&&!m.which&&A.releaseMouse)return A.releaseMouse();A.x=m.clientX,A.y=m.clientY,f&&f(m),A.mouseEvent=new h(m,A.editor),A.$mouseMoved=!0}},$=function(m){v.off("beforeEndOperation",y),clearInterval(w),v.session&&p(),A[A.state+"End"]&&A[A.state+"End"](m),A.state="",A.isMousePressed=S.$isMousePressed=!1,S.$keepTextAreaAtCursor&&S.$moveTextAreaToCursor(),A.$onCaptureMouseMove=A.releaseMouse=null,m&&A.onMouseEvent("mouseup",m),v.endOperation()},p=function(){A[A.state]&&A[A.state](),A.$mouseMoved=!1};if(g.isOldIE&&l.domEvent.type=="dblclick")return setTimeout(function(){$(l)});var y=function(m){!A.releaseMouse||v.curOp.command.name&&v.curOp.selectionChanged&&(A[A.state+"End"]&&A[A.state+"End"](),A.state="",A.releaseMouse())};v.on("beforeEndOperation",y),v.startOperation({command:{name:"mouse"}}),A.$onCaptureMouseMove=C,A.releaseMouse=u.capture(this.editor.container,C,$);var w=setInterval(p,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var l=function(f){f&&f.domEvent&&f.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",l),f&&f.domEvent&&u.stopEvent(f.domEvent))}.bind(this);setTimeout(l,10),this.editor.on("nativecontextmenu",l)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(s.prototype),n.defineOptions(s.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:g.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=s});ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";var u=e("../lib/dom");function g(o){o.on("click",function(a){var h=a.getDocumentPosition(),i=o.session,t=i.getFoldAt(h.row,h.column,1);t&&(a.getAccelKey()?i.removeFold(t):i.expandFold(t),a.stop());var n=a.domEvent&&a.domEvent.target;n&&u.hasCssClass(n,"ace_inline_button")&&u.hasCssClass(n,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(a){var h=o.renderer.$gutterLayer.getRegion(a);if(h=="foldWidgets"){var i=a.getDocumentPosition().row,t=o.session;t.foldWidgets&&t.foldWidgets[i]&&o.session.onFoldWidgetClick(i,a),o.isFocused()||o.focus(),a.stop()}}),o.on("gutterdblclick",function(a){var h=o.renderer.$gutterLayer.getRegion(a);if(h=="foldWidgets"){var i=a.getDocumentPosition().row,t=o.session,n=t.getParentFoldRangeData(i,!0),s=n.range||n.firstRange;if(s){i=s.start.row;var l=t.getFoldAt(i,t.getLine(i).length,1);l?t.removeFold(l):(t.addFold("...",s),o.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}a.stop()}})}r.FoldHandler=g});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,r,c){"use strict";var u=e("../lib/keys"),g=e("../lib/event"),o=function(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},this.setKeyboardHandler=function(a){var h=this.$handlers;if(h[h.length-1]!=a){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(a,1)}},this.addKeyboardHandler=function(a,h){if(!!a){typeof a=="function"&&!a.handleKeyboard&&(a.handleKeyboard=a);var i=this.$handlers.indexOf(a);i!=-1&&this.$handlers.splice(i,1),h==null?this.$handlers.push(a):this.$handlers.splice(h,0,a),i==-1&&a.attach&&a.attach(this.$editor)}},this.removeKeyboardHandler=function(a){var h=this.$handlers.indexOf(a);return h==-1?!1:(this.$handlers.splice(h,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var a=this.$data,h=a.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(h,a)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(a,h,i,t){for(var n,s=!1,l=this.$editor.commands,f=this.$handlers.length;f--&&(n=this.$handlers[f].handleKeyboard(this.$data,a,h,i,t),!(!(!n||!n.command)&&(n.command=="null"?s=!0:s=l.exec(n.command,this.$editor,n.args,t),s&&t&&a!=-1&&n.passEvent!=!0&&n.command.passEvent!=!0&&g.stopEvent(t),s))););return!s&&a==-1&&(n={command:"insertstring"},s=l.exec("insertstring",this.$editor,h)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),s},this.onCommandKey=function(a,h,i){var t=u.keyCodeToString(i);return this.$callKeyboardHandlers(h,t,i,a)},this.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)}}).call(o.prototype),r.KeyBinding=o});ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,r,c){"use strict";var u=["\u0621","\u0641"],g=["\u063A","\u064A"],o=0,a=0,h=!1,i=!1,t=!1,n=!1,s=!1,l=!1,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S=0,A=1,C=0,$=1,p=2,y=3,w=4,m=5,b=6,d=7,_=8,k=9,L=10,E=11,R=12,x=13,O=14,T=15,F=16,I=17,M=18,W=[M,M,M,M,M,M,M,M,M,b,m,b,_,m,M,M,M,M,M,M,M,M,M,M,M,M,M,M,m,m,m,b,_,w,w,E,E,E,w,w,w,w,w,L,k,L,k,k,p,p,p,p,p,p,p,p,p,p,k,w,w,w,w,w,w,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,w,w,w,w,w,w,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,w,w,w,w,M,M,M,M,M,M,m,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,k,w,E,E,E,E,w,w,w,w,C,w,w,M,w,w,E,E,p,p,w,C,w,w,w,p,C,w,w,w,w,w],D=[_,_,_,_,_,_,_,_,_,_,_,M,M,M,C,$,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,_,m,x,O,T,F,I,k,E,E,E,E,E,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,k,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,_];function K(z,P,N,H){var ee=o?v:f,Y=null,re=null,Q=null,ue=0,ke=null,Ke=null,De=-1,B=null,G=null,te=[];if(!H)for(B=0,H=[];B<N;B++)H[B]=ne(z[B]);for(a=o,h=!1,i=!1,t=!1,n=!1,G=0;G<N;G++){if(Y=ue,te[G]=re=ie(z,H,te,G),ue=ee[Y][re],ke=ue&240,ue&=15,P[G]=Q=ee[ue][5],ke>0)if(ke==16){for(B=De;B<G;B++)P[B]=1;De=-1}else De=-1;if(Ke=ee[ue][6],Ke)De==-1&&(De=G);else if(De>-1){for(B=De;B<G;B++)P[B]=Q;De=-1}H[G]==m&&(P[G]=0),a|=Q}if(n){for(B=0;B<N;B++)if(H[B]==b){P[B]=o;for(var le=B-1;le>=0&&H[le]==_;le--)P[le]=o}}}function V(z,P,N){if(!(a<z)){if(z==1&&o==A&&!t){N.reverse();return}for(var H=N.length,ee=0,Y,re,Q,ue;ee<H;){if(P[ee]>=z){for(Y=ee+1;Y<H&&P[Y]>=z;)Y++;for(re=ee,Q=Y-1;re<Q;re++,Q--)ue=N[re],N[re]=N[Q],N[Q]=ue;ee=Y}ee++}}}function ie(z,P,N,H){var ee=P[H],Y,re,Q,ue;switch(ee){case C:case $:h=!1;case w:case y:return ee;case p:return h?y:p;case d:return h=!0,i=!0,$;case _:return w;case k:return H<1||H+1>=P.length||(Y=N[H-1])!=p&&Y!=y||(re=P[H+1])!=p&&re!=y?w:(h&&(re=y),re==Y?re:w);case L:return Y=H>0?N[H-1]:m,Y==p&&H+1<P.length&&P[H+1]==p?p:w;case E:if(H>0&&N[H-1]==p)return p;if(h)return w;for(ue=H+1,Q=P.length;ue<Q&&P[ue]==E;)ue++;return ue<Q&&P[ue]==p?p:w;case R:for(Q=P.length,ue=H+1;ue<Q&&P[ue]==R;)ue++;if(ue<Q){var ke=z[H],Ke=ke>=1425&&ke<=2303||ke==64286;if(Y=P[ue],Ke&&(Y==$||Y==d))return $}return H<1||(Y=P[H-1])==m?w:N[H-1];case m:return h=!1,t=!0,o;case b:return n=!0,w;case x:case O:case F:case I:case T:h=!1;case M:return w}}function ne(z){var P=z.charCodeAt(0),N=P>>8;return N==0?P>191?C:W[P]:N==5?/[\u0591-\u05f4]/.test(z)?$:C:N==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(z)?R:/[\u0660-\u0669\u066b-\u066c]/.test(z)?y:P==1642?E:/[\u06f0-\u06f9]/.test(z)?p:d:N==32&&P<=8287?D[P&255]:N==254&&P>=65136?d:w}function ce(z){return z>="\u064B"&&z<="\u0655"}r.L=C,r.R=$,r.EN=p,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="\xB7",r.doBidiReorder=function(z,P,N){if(z.length<2)return{};var H=z.split(""),ee=new Array(H.length),Y=new Array(H.length),re=[];o=N?A:S,K(H,re,H.length,P);for(var Q=0;Q<ee.length;ee[Q]=Q,Q++);V(2,re,ee),V(1,re,ee);for(var Q=0;Q<ee.length-1;Q++)P[Q]===y?re[Q]=r.AN:re[Q]===$&&(P[Q]>d&&P[Q]<x||P[Q]===w||P[Q]===M)?re[Q]=r.ON_R:Q>0&&H[Q-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(H[Q])&&(re[Q-1]=re[Q]=r.R_H,Q++);H[H.length-1]===r.DOT&&(re[H.length-1]=r.B),H[0]==="\u202B"&&(re[0]=r.RLE);for(var Q=0;Q<ee.length;Q++)Y[Q]=re[ee[Q]];return{logicalFromVisual:ee,bidiLevels:Y}},r.hasBidiCharacters=function(z,P){for(var N=!1,H=0;H<z.length;H++)P[H]=ne(z.charAt(H)),!N&&(P[H]==$||P[H]==d||P[H]==y)&&(N=!0);return N},r.getVisualFromLogicalIdx=function(z,P){for(var N=0;N<P.logicalFromVisual.length;N++)if(P.logicalFromVisual[N]==z)return N;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,r,c){"use strict";var u=e("./lib/bidiutil"),g=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(h){this.session=h,this.bidiMap={},this.currentRow=null,this.bidiUtil=u,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(h.getValue())};(function(){this.isBidiRow=function(h,i,t){return this.seenBidi?(h!==this.currentRow&&(this.currentRow=h,this.updateRowLine(i,t),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(h){this.seenBidi?this.currentRow=null:h.action=="insert"&&o.test(h.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var h=0,i=this.session.$screenRowCache;if(i.length){var t=this.session.$getRowCacheIndex(i,this.currentRow);t>=0&&(h=this.session.$docRowCache[t])}return h},this.getSplitIndex=function(){var h=0,i=this.session.$screenRowCache;if(i.length)for(var t,n=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-h>0&&(t=this.session.$getRowCacheIndex(i,this.currentRow-h-1),t===n);)n=t,h++;else h=this.currentRow;return h},this.updateRowLine=function(h,i){h===void 0&&(h=this.getDocumentRow());var t=h===this.session.getLength()-1,n=t?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(h),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[h];s&&(i===void 0&&(i=this.getSplitIndex()),i>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[u.L],this.line=i<s.length?this.line.substring(s[i-1],s[i]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[i])),i==s.length&&(this.line+=this.showInvisibles?n:u.DOT)}else this.line+=this.showInvisibles?n:u.DOT;var l=this.session,f=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(S,A){return S==="	"||l.isFullWidth(S.charCodeAt(0))?(v=S==="	"?l.getScreenTabSize(A+f):2,f+=v-1,g.stringRepeat(u.DOT,v)):S}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==u.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var h=[];u.hasBidiCharacters(this.line,h)||this.isRtlDir?this.bidiMap=u.doBidiReorder(this.line,h,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(h){if(this.characterWidth!==h.$characterSize.width){this.fontMetrics=h;var i=this.characterWidth=h.$characterSize.width,t=h.$measureCharWidth("\u05D4");this.charWidths[u.L]=this.charWidths[u.EN]=this.charWidths[u.ON_R]=i,this.charWidths[u.R]=this.charWidths[u.AN]=t,this.charWidths[u.R_H]=t*.45,this.charWidths[u.B]=this.charWidths[u.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(h){this.showInvisibles=h,this.currentRow=null},this.setEolChar=function(h){this.EOL=h},this.setContentWidth=function(h){this.contentWidth=h},this.isRtlLine=function(h){return this.$isRtl?!0:h!=null?this.session.getLine(h).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(h,i){for(var t=h.getCursorPosition(),n=h.selection.getSelectionAnchor().row;n<=t.row;n++)!i&&h.session.getLine(n).charAt(0)===h.session.$bidiHandler.RLE?h.session.doc.removeInLine(n,0,1):i&&h.session.getLine(n).charAt(0)!==h.session.$bidiHandler.RLE&&h.session.doc.insert({column:0,row:n},h.session.$bidiHandler.RLE)},this.getPosLeft=function(h){h-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,t=h>i?this.session.getOverwrite()?h:h-1:i,n=u.getVisualFromLogicalIdx(t,this.bidiMap),s=this.bidiMap.bidiLevels,l=0;!this.session.getOverwrite()&&h<=i&&s[n]%2!=0&&n++;for(var f=0;f<n;f++)l+=this.charWidths[s[f]];return!this.session.getOverwrite()&&h>i&&s[n]%2==0&&(l+=this.charWidths[s[n]]),this.wrapIndent&&(l+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(l+=this.rtlLineOffset),l},this.getSelections=function(h,i){var t=this.bidiMap,n=t.bidiLevels,s,l=[],f=0,v=Math.min(h,i)-this.wrapIndent,S=Math.max(h,i)-this.wrapIndent,A=!1,C=!1,$=0;this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var p,y=0;y<n.length;y++)p=t.logicalFromVisual[y],s=n[y],A=p>=v&&p<S,A&&!C?$=f:!A&&C&&l.push({left:$,width:f-$}),f+=this.charWidths[s],C=A;if(A&&y===n.length&&l.push({left:$,width:f-$}),this.isRtlDir)for(var w=0;w<l.length;w++)l[w].left+=this.rtlLineOffset;return l},this.offsetToCol=function(h){this.isRtlDir&&(h-=this.rtlLineOffset);var i=0,h=Math.max(h,0),t=0,n=0,s=this.bidiMap.bidiLevels,l=this.charWidths[s[n]];for(this.wrapIndent&&(h-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);h>t+l/2;){if(t+=l,n===s.length-1){l=0;break}l=this.charWidths[s[++n]]}return n>0&&s[n-1]%2!=0&&s[n]%2==0?(h<t&&n--,i=this.bidiMap.logicalFromVisual[n]):n>0&&s[n-1]%2==0&&s[n]%2!=0?i=1+(h>t?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===s.length-1&&l===0&&s[n-1]%2==0||!this.isRtlDir&&n===0&&s[n]%2!=0?i=1+this.bidiMap.logicalFromVisual[n]:(n>0&&s[n-1]%2!=0&&l!==0&&n--,i=this.bidiMap.logicalFromVisual[n]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent}}).call(a.prototype),r.BidiHandler=a});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,h=function(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(n){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){u.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(i,t){this.$isEmpty=!1,this.anchor.setPosition(i,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var i=this.anchor,t=this.lead;return i.row>t.row||i.row==t.row&&i.column>t.column},this.getRange=function(){var i=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,i):a.fromPoints(i,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(i,t){var n=t?i.end:i.start,s=t?i.start:i.end;this.$setSelection(n.row,n.column,s.row,s.column)},this.$setSelection=function(i,t,n,s){if(!this.$silent){var l=this.$isEmpty,f=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,t),this.cursor.setPosition(n,s),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||l!=this.$isEmpty||f)&&this._emit("changeSelection")}},this.$moveSelection=function(i){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),i.call(this)},this.selectTo=function(i,t){this.$moveSelection(function(){this.moveCursorTo(i,t)})},this.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},this.moveTo=function(i,t){this.clearSelection(),this.moveCursorTo(i,t)},this.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(i,t){if(typeof t=="undefined"){var n=i||this.lead;i=n.row,t=n.column}return this.session.getWordRange(i,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var i=this.getCursor(),t=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(t)},this.getLineRange=function(i,t){var n=typeof i=="number"?i:this.lead.row,s,l=this.session.getFoldLine(n);return l?(n=l.start.row,s=l.end.row):s=n,t===!0?new a(n,0,s,this.session.getLine(s).length):new a(n,0,s+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(i,t,n){var s=i.column,l=i.column+t;return n<0&&(s=i.column-t,l=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(s,l).split(" ").length-1==t},this.moveCursorLeft=function(){var i=this.lead.getPosition(),t;if(t=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var i=this.lead.getPosition(),t;if(t=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var i=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(i,t),s=this.session.screenToDocumentPosition(n,0),l=this.session.getDisplayLine(i,null,s.row,s.column),f=l.match(/^\s*/);f[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(s.column+=f[0].length),this.moveCursorToPosition(s)},this.moveCursorLineEnd=function(){var i=this.lead,t=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var s=n.search(/\s+$/);s>0&&(t.column=s)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,t=this.doc.getLine(i).length;this.moveCursorTo(i,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var i=this.lead.row,t=this.lead.column,n=this.doc.getLine(i),s=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var l=this.session.getFoldAt(i,t,1);if(l){this.moveCursorTo(l.end.row,l.end.column);return}if(this.session.nonTokenRe.exec(s)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,s=n.substring(t)),t>=n.length){this.moveCursorTo(i,n.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(s)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,t)},this.moveCursorLongWordLeft=function(){var i=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(i,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var s=this.session.getFoldStringAt(i,t,-1);s==null&&(s=this.doc.getLine(i).substring(0,t));var l=g.stringReverse(s);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(l)&&(t-=this.session.nonTokenRe.lastIndex,l=l.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),t<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(l)&&(t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,t)},this.$shortWordEndIndex=function(i){var t=0,n,s=/\s/,l=this.session.tokenRe;if(l.lastIndex=0,this.session.tokenRe.exec(i))t=this.session.tokenRe.lastIndex;else{for(;(n=i[t])&&s.test(n);)t++;if(t<1){for(l.lastIndex=0;(n=i[t])&&!l.test(n);)if(l.lastIndex=0,t++,s.test(n))if(t>2){t--;break}else{for(;(n=i[t])&&s.test(n);)t++;if(t>2)break}}}return l.lastIndex=0,t},this.moveCursorShortWordRight=function(){var i=this.lead.row,t=this.lead.column,n=this.doc.getLine(i),s=n.substring(t),l=this.session.getFoldAt(i,t,1);if(l)return this.moveCursorTo(l.end.row,l.end.column);if(t==n.length){var f=this.doc.getLength();do i++,s=this.doc.getLine(i);while(i<f&&/^\s*$/.test(s));/^\s+/.test(s)||(s=""),t=0}var v=this.$shortWordEndIndex(s);this.moveCursorTo(i,t+v)},this.moveCursorShortWordLeft=function(){var i=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(i,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var s=this.session.getLine(i).substring(0,t);if(t===0){do i--,s=this.doc.getLine(i);while(i>0&&/^\s*$/.test(s));t=s.length,/\s+$/.test(s)||(s="")}var l=g.stringReverse(s),f=this.$shortWordEndIndex(l);return this.moveCursorTo(i,t-f)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(i,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),s;if(t===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(s=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(s/this.session.$bidiHandler.charWidths[0])):s=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var l=this.session.lineWidgets[this.lead.row];i<0?i-=l.rowsAbove||0:i>0&&(i+=l.rowCount-(l.rowsAbove||0))}var f=this.session.screenToDocumentPosition(n.row+i,n.column,s);i!==0&&t===0&&f.row===this.lead.row&&f.column===this.lead.column,this.moveCursorTo(f.row,f.column+t,t===0)},this.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},this.moveCursorTo=function(i,t,n){var s=this.session.getFoldAt(i,t,1);s&&(i=s.start.row,t=s.start.column),this.$keepDesiredColumnOnChange=!0;var l=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(l.charAt(t))&&l.charAt(t-1)&&(this.lead.row==i&&this.lead.column==t+1?t=t-1:t=t+1),this.lead.setPosition(i,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(i,t,n){var s=this.session.screenToDocumentPosition(i,t);this.moveCursorTo(s.row,s.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(i){var t=this.getRange();return i?(i.start.column=t.start.column,i.start.row=t.start.row,i.end.column=t.end.column,i.end.row=t.end.row):i=t,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},this.getRangeOfMovements=function(i){var t=this.getCursor();try{i(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(s){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(t){var n=t.clone();return n.isBackwards=t.cursor==t.start,n});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},this.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var t=i.length;t--;){var n=a.fromPoints(i[t].start,i[t].end);i[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},this.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(i[t]))return!1;return!0}}).call(h.prototype),r.Selection=h});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,r,c){"use strict";var u=e("./config"),g=2e3,o=function(a){this.states=a,this.regExps={},this.matchMappings={};for(var h in this.states){for(var i=this.states[h],t=[],n=0,s=this.matchMappings[h]={defaultToken:"text"},l="g",f=[],v=0;v<i.length;v++){var S=i[v];if(S.defaultToken&&(s.defaultToken=S.defaultToken),S.caseInsensitive&&(l="gi"),S.regex!=null){S.regex instanceof RegExp&&(S.regex=S.regex.toString().slice(1,-1));var A=S.regex,C=new RegExp("(?:("+A+")|(.))").exec("a").length-2;Array.isArray(S.token)?S.token.length==1||C==1?S.token=S.token[0]:C-1!=S.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:S,groupCount:C-1}),S.token=S.token[0]):(S.tokenArray=S.token,S.token=null,S.onMatch=this.$arrayTokens):typeof S.token=="function"&&!S.onMatch&&(C>1?S.onMatch=this.$applyToken:S.onMatch=S.token),C>1&&(/\\\d/.test(S.regex)?A=S.regex.replace(/\\([0-9]+)/g,function($,p){return"\\"+(parseInt(p,10)+n+1)}):(C=1,A=this.removeCapturingGroups(S.regex)),!S.splitRegex&&typeof S.token!="string"&&f.push(S)),s[n]=v,n+=C,t.push(A),S.onMatch||(S.onMatch=null)}}t.length||(s[0]=0,t.push("$")),f.forEach(function($){$.splitRegex=this.createSplitterRegexp($.regex,l)},this),this.regExps[h]=new RegExp("("+t.join(")|(")+")|($)",l)}};(function(){this.$setMaxTokenCount=function(a){g=a|0},this.$applyToken=function(a){var h=this.splitRegex.exec(a).slice(1),i=this.token.apply(this,h);if(typeof i=="string")return[{type:i,value:a}];for(var t=[],n=0,s=i.length;n<s;n++)h[n]&&(t[t.length]={type:i[n],value:h[n]});return t},this.$arrayTokens=function(a){if(!a)return[];var h=this.splitRegex.exec(a);if(!h)return"text";for(var i=[],t=this.tokenArray,n=0,s=t.length;n<s;n++)h[n+1]&&(i[i.length]={type:t[n],value:h[n+1]});return i},this.removeCapturingGroups=function(a){var h=a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,t){return t?"(?:":i});return h},this.createSplitterRegexp=function(a,h){if(a.indexOf("(?=")!=-1){var i=0,t=!1,n={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(s,l,f,v,S,A){return t?t=S!="]":S?t=!0:v?(i==n.stack&&(n.end=A+1,n.stack=-1),i--):f&&(i++,f.length!=1&&(n.stack=i,n.start=A)),s}),n.end!=null&&/^\)*$/.test(a.substr(n.end))&&(a=a.substring(0,n.start)+a.substr(n.end))}return a.charAt(0)!="^"&&(a="^"+a),a.charAt(a.length-1)!="$"&&(a+="$"),new RegExp(a,(h||"").replace("g",""))},this.getLineTokens=function(a,h){if(h&&typeof h!="string"){var i=h.slice(0);h=i[0],h==="#tmp"&&(i.shift(),h=i.shift())}else var i=[];var t=h||"start",n=this.states[t];n||(t="start",n=this.states[t]);var s=this.matchMappings[t],l=this.regExps[t];l.lastIndex=0;for(var f,v=[],S=0,A=0,C={type:null,value:""};f=l.exec(a);){var $=s.defaultToken,p=null,y=f[0],w=l.lastIndex;if(w-y.length>S){var m=a.substring(S,w-y.length);C.type==$?C.value+=m:(C.type&&v.push(C),C={type:$,value:m})}for(var b=0;b<f.length-2;b++)if(f[b+1]!==void 0){p=n[s[b]],p.onMatch?$=p.onMatch(y,t,i,a):$=p.token,p.next&&(typeof p.next=="string"?t=p.next:t=p.next(t,i),n=this.states[t],n||(this.reportError("state doesn't exist",t),t="start",n=this.states[t]),s=this.matchMappings[t],S=w,l=this.regExps[t],l.lastIndex=w),p.consumeLineEnd&&(S=w);break}if(y){if(typeof $=="string")(!p||p.merge!==!1)&&C.type===$?C.value+=y:(C.type&&v.push(C),C={type:$,value:y});else if($){C.type&&v.push(C),C={type:null,value:""};for(var b=0;b<$.length;b++)v.push($[b])}}if(S==a.length)break;if(S=w,A++>g){for(A>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:h,line:a});S<a.length;)C.type&&v.push(C),C={value:a.substring(S,S+=500),type:"overflow"};t="start",i=[];break}}return C.type&&v.push(C),i.length>1&&i[0]!==t&&i.unshift("#tmp",t),{tokens:v,state:i.length?i:t}},this.reportError=u.reportError}).call(o.prototype),r.Tokenizer=o});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,r,c){"use strict";var u=e("../lib/lang"),g=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(h,i){if(!i){for(var t in h)this.$rules[t]=h[t];return}for(var t in h){for(var n=h[t],s=0;s<n.length;s++){var l=n[s];(l.next||l.onMatch)&&(typeof l.next=="string"&&l.next.indexOf(i)!==0&&(l.next=i+l.next),l.nextState&&l.nextState.indexOf(i)!==0&&(l.nextState=i+l.nextState))}this.$rules[i+t]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(h,i,t,n,s){var l=typeof h=="function"?new h().getRules():h;if(n)for(var f=0;f<n.length;f++)n[f]=i+n[f];else{n=[];for(var v in l)n.push(i+v)}if(this.addRules(l,i),t)for(var S=Array.prototype[s?"push":"unshift"],f=0;f<n.length;f++)S.apply(this.$rules[n[f]],u.deepCopy(t));this.$embeds||(this.$embeds=[]),this.$embeds.push(i)},this.getEmbeds=function(){return this.$embeds};var o=function(h,i){return(h!="start"||i.length)&&i.unshift(this.nextState,h),this.nextState},a=function(h,i){return i.shift(),i.shift()||"start"};this.normalizeRules=function(){var h=0,i=this.$rules;function t(n){var s=i[n];s.processed=!0;for(var l=0;l<s.length;l++){var f=s[l],v=null;Array.isArray(f)&&(v=f,f={}),!f.regex&&f.start&&(f.regex=f.start,f.next||(f.next=[]),f.next.push({defaultToken:f.token},{token:f.token+".end",regex:f.end||f.start,next:"pop"}),f.token=f.token+".start",f.push=!0);var S=f.next||f.push;if(S&&Array.isArray(S)){var A=f.stateName;A||(A=f.token,typeof A!="string"&&(A=A[0]||""),i[A]&&(A+=h++)),i[A]=S,f.next=A,t(A)}else S=="pop"&&(f.next=a);if(f.push&&(f.nextState=f.next||f.push,f.next=o,delete f.push),f.rules)for(var C in f.rules)i[C]?i[C].push&&i[C].push.apply(i[C],f.rules[C]):i[C]=f.rules[C];var $=typeof f=="string"?f:f.include;if($&&(Array.isArray($)?v=$.map(function(y){return i[y]}):v=i[$]),v){var p=[l,1].concat(v);f.noEscape&&(p=p.filter(function(y){return!y.next})),s.splice.apply(s,p),l--}f.keywordMap&&(f.token=this.createKeywordMapper(f.keywordMap,f.defaultToken||"text",f.caseInsensitive),delete f.defaultToken)}}Object.keys(i).forEach(t,this)},this.createKeywordMapper=function(h,i,t,n){var s=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(l){for(var f=h[l],v=f.split(n||"|"),S=v.length;S--;){var A=v[S];this.$keywordList.push(A),t&&(A=A.toLowerCase()),s[A]=l}},this),h=null,t?function(l){return s[l.toLowerCase()]||i}:function(l){return s[l]||i}},this.getKeywords=function(){return this.$keywords}}).call(g.prototype),r.TextHighlightRules=g});ace.define("ace/mode/behaviour",["require","exports","module"],function(e,r,c){"use strict";var u=function(){this.$behaviours={}};(function(){this.add=function(g,o,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[g]:this.$behaviours[g]={}}this.$behaviours[g][o]=a},this.addBehaviours=function(g){for(var o in g)for(var a in g[o])this.add(o,a,g[o][a])},this.remove=function(g){this.$behaviours&&this.$behaviours[g]&&delete this.$behaviours[g]},this.inherit=function(g,o){if(typeof g=="function")var a=new g().getBehaviours(o);else var a=g.getBehaviours(o);this.addBehaviours(a)},this.getBehaviours=function(g){if(g){for(var o={},a=0;a<g.length;a++)this.$behaviours[g[a]]&&(o[g[a]]=this.$behaviours[g[a]]);return o}else return this.$behaviours}}).call(u.prototype),r.Behaviour=u});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=e("./range").Range,g=function(o,a,h){this.$session=o,this.$row=a,this.$rowTokens=o.getTokens(a);var i=o.getTokenAt(a,h);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var o=this.$rowTokens,a=this.$tokenIndex,h=o[a].start;if(h!==void 0)return h;for(h=0;a>0;)a-=1,h+=o[a].value.length;return h},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],a=this.getCurrentTokenColumn();return new u(this.$row,a,this.$row,a+o.value.length)}}).call(g.prototype),r.TokenIterator=g});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,r,c){"use strict";var u=e("../../lib/oop"),g=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],i=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],t,n={},s={'"':'"',"'":"'"},l=function(S){var A=-1;if(S.multiSelect&&(A=S.selection.index,n.rangeCount!=S.multiSelect.rangeCount&&(n={rangeCount:S.multiSelect.rangeCount})),n[A])return t=n[A];t=n[A]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(S,A,C,$){var p=S.end.row-S.start.row;return{text:C+A+$,selection:[0,S.start.column+1,p,S.end.column+(p?0:1)]}},v=function(S){this.add("braces","insertion",function(A,C,$,p,y){var w=$.getCursorPosition(),m=p.doc.getLine(w.row);if(y=="{"){l($);var b=$.getSelectionRange(),d=p.doc.getTextRange(b);if(d!==""&&d!=="{"&&$.getWrapBehavioursEnabled())return f(b,d,"{","}");if(v.isSaneInsertion($,p))return/[\]\}\)]/.test(m[w.column])||$.inMultiSelectMode||S&&S.braces?(v.recordAutoInsert($,p,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert($,p,"{"),{text:"{",selection:[1,1]})}else if(y=="}"){l($);var _=m.substring(w.column,w.column+1);if(_=="}"){var k=p.$findOpeningBracket("}",{column:w.column+1,row:w.row});if(k!==null&&v.isAutoInsertedClosing(w,m,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(y==`
`||y==`\r
`){l($);var L="";v.isMaybeInsertedClosing(w,m)&&(L=a.stringRepeat("}",t.maybeInsertedBrackets),v.clearMaybeInsertedClosing());var _=m.substring(w.column,w.column+1);if(_==="}"){var E=p.findMatchingBracket({row:w.row,column:w.column+1},"}");if(!E)return null;var R=this.$getIndent(p.getLine(E.row))}else if(L)var R=this.$getIndent(m);else{v.clearMaybeInsertedClosing();return}var x=R+p.getTabString();return{text:`
`+x+`
`+R+L,selection:[1,x.length,1,x.length]}}else v.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(A,C,$,p,y){var w=p.doc.getTextRange(y);if(!y.isMultiLine()&&w=="{"){l($);var m=p.doc.getLine(y.start.row),b=m.substring(y.end.column,y.end.column+1);if(b=="}")return y.end.column++,y;t.maybeInsertedBrackets--}}),this.add("parens","insertion",function(A,C,$,p,y){if(y=="("){l($);var w=$.getSelectionRange(),m=p.doc.getTextRange(w);if(m!==""&&$.getWrapBehavioursEnabled())return f(w,m,"(",")");if(v.isSaneInsertion($,p))return v.recordAutoInsert($,p,")"),{text:"()",selection:[1,1]}}else if(y==")"){l($);var b=$.getCursorPosition(),d=p.doc.getLine(b.row),_=d.substring(b.column,b.column+1);if(_==")"){var k=p.$findOpeningBracket(")",{column:b.column+1,row:b.row});if(k!==null&&v.isAutoInsertedClosing(b,d,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(A,C,$,p,y){var w=p.doc.getTextRange(y);if(!y.isMultiLine()&&w=="("){l($);var m=p.doc.getLine(y.start.row),b=m.substring(y.start.column+1,y.start.column+2);if(b==")")return y.end.column++,y}}),this.add("brackets","insertion",function(A,C,$,p,y){if(y=="["){l($);var w=$.getSelectionRange(),m=p.doc.getTextRange(w);if(m!==""&&$.getWrapBehavioursEnabled())return f(w,m,"[","]");if(v.isSaneInsertion($,p))return v.recordAutoInsert($,p,"]"),{text:"[]",selection:[1,1]}}else if(y=="]"){l($);var b=$.getCursorPosition(),d=p.doc.getLine(b.row),_=d.substring(b.column,b.column+1);if(_=="]"){var k=p.$findOpeningBracket("]",{column:b.column+1,row:b.row});if(k!==null&&v.isAutoInsertedClosing(b,d,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(A,C,$,p,y){var w=p.doc.getTextRange(y);if(!y.isMultiLine()&&w=="["){l($);var m=p.doc.getLine(y.start.row),b=m.substring(y.start.column+1,y.start.column+2);if(b=="]")return y.end.column++,y}}),this.add("string_dquotes","insertion",function(A,C,$,p,y){var w=p.$mode.$quotes||s;if(y.length==1&&w[y]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(y)!=-1)return;l($);var m=y,b=$.getSelectionRange(),d=p.doc.getTextRange(b);if(d!==""&&(d.length!=1||!w[d])&&$.getWrapBehavioursEnabled())return f(b,d,m,m);if(!d){var _=$.getCursorPosition(),k=p.doc.getLine(_.row),L=k.substring(_.column-1,_.column),E=k.substring(_.column,_.column+1),R=p.getTokenAt(_.row,_.column),x=p.getTokenAt(_.row,_.column+1);if(L=="\\"&&R&&/escape/.test(R.type))return null;var O=R&&/string|escape/.test(R.type),T=!x||/string|escape/.test(x.type),F;if(E==m)F=O!==T,F&&/string\.end/.test(x.type)&&(F=!1);else{if(O&&!T||O&&T)return null;var I=p.$mode.tokenRe;I.lastIndex=0;var M=I.test(L);I.lastIndex=0;var W=I.test(L);if(M||W||E&&!/[\s;,.})\]\\]/.test(E))return null;var D=k[_.column-2];if(L==m&&(D==m||I.test(D)))return null;F=!0}return{text:F?m+m:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(A,C,$,p,y){var w=p.$mode.$quotes||s,m=p.doc.getTextRange(y);if(!y.isMultiLine()&&w.hasOwnProperty(m)){l($);var b=p.doc.getLine(y.start.row),d=b.substring(y.start.column+1,y.start.column+2);if(d==m)return y.end.column++,y}})};v.isSaneInsertion=function(S,A){var C=S.getCursorPosition(),$=new o(A,C.row,C.column);if(!this.$matchTokenType($.getCurrentToken()||"text",h)){if(/[)}\]]/.test(S.session.getLine(C.row)[C.column]))return!0;var p=new o(A,C.row,C.column+1);if(!this.$matchTokenType(p.getCurrentToken()||"text",h))return!1}return $.stepForward(),$.getCurrentTokenRow()!==C.row||this.$matchTokenType($.getCurrentToken()||"text",i)},v.$matchTokenType=function(S,A){return A.indexOf(S.type||S)>-1},v.recordAutoInsert=function(S,A,C){var $=S.getCursorPosition(),p=A.doc.getLine($.row);this.isAutoInsertedClosing($,p,t.autoInsertedLineEnd[0])||(t.autoInsertedBrackets=0),t.autoInsertedRow=$.row,t.autoInsertedLineEnd=C+p.substr($.column),t.autoInsertedBrackets++},v.recordMaybeInsert=function(S,A,C){var $=S.getCursorPosition(),p=A.doc.getLine($.row);this.isMaybeInsertedClosing($,p)||(t.maybeInsertedBrackets=0),t.maybeInsertedRow=$.row,t.maybeInsertedLineStart=p.substr(0,$.column)+C,t.maybeInsertedLineEnd=p.substr($.column),t.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(S,A,C){return t.autoInsertedBrackets>0&&S.row===t.autoInsertedRow&&C===t.autoInsertedLineEnd[0]&&A.substr(S.column)===t.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(S,A){return t.maybeInsertedBrackets>0&&S.row===t.maybeInsertedRow&&A.substr(S.column)===t.maybeInsertedLineEnd&&A.substr(0,S.column)==t.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){t.autoInsertedLineEnd=t.autoInsertedLineEnd.substr(1),t.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){t&&(t.maybeInsertedBrackets=0,t.maybeInsertedRow=-1)},u.inherits(v,g),r.CstyleBehaviour=v});ace.define("ace/unicode",["require","exports","module"],function(e,r,c){"use strict";for(var u=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],g=0,o=[],a=0;a<u.length;a+=2)o.push(g+=u[a]),u[a+1]&&o.push(45,g+=u[a+1]);r.wordChars=String.fromCharCode.apply(null,o)});ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,r,c){"use strict";var u=e("../config"),g=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,h=e("../unicode"),i=e("../lib/lang"),t=e("../token_iterator").TokenIterator,n=e("../range").Range,s=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new g(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(l,f,v,S){var A=f.doc,C=!0,$=!0,p=1/0,y=f.getTabSize(),w=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(i.escapeRegExp).join("|"),m=this.lineCommentStart[0];else var d=i.escapeRegExp(this.lineCommentStart),m=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),w=f.getUseSoftTabs();var L=function(W,D){var K=W.match(d);if(!!K){var V=K[1].length,ie=K[0].length;!x(W,V,ie)&&K[0][ie-1]==" "&&ie--,A.removeInLine(D,V,ie)}},R=m+" ",k=function(W,D){(!C||/\S/.test(W))&&(x(W,p,p)?A.insertInLine({row:D,column:p},R):A.insertInLine({row:D,column:p},m))},E=function(W,D){return d.test(W)},x=function(W,D,K){for(var V=0;D--&&W.charAt(D)==" ";)V++;if(V%y!=0)return!1;for(var V=0;W.charAt(K++)==" ";)V++;return y>2?V%y!=y-1:V%y==0}}else{if(!this.blockComment)return!1;var m=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+i.escapeRegExp(m)+")"),_=new RegExp("(?:"+i.escapeRegExp(b)+")\\s*$"),k=function(F,I){E(F,I)||(!C||/\S/.test(F))&&(A.insertInLine({row:I,column:F.length},b),A.insertInLine({row:I,column:p},m))},L=function(F,I){var M;(M=F.match(_))&&A.removeInLine(I,F.length-M[0].length,F.length),(M=F.match(d))&&A.removeInLine(I,M[1].length,M[0].length)},E=function(F,I){if(d.test(F))return!0;for(var M=f.getTokens(I),W=0;W<M.length;W++)if(M[W].type==="comment")return!0}}function O(F){for(var I=v;I<=S;I++)F(A.getLine(I),I)}var T=1/0;O(function(F,I){var M=F.search(/\S/);M!==-1?(M<p&&(p=M),$&&!E(F,I)&&($=!1)):T>F.length&&(T=F.length)}),p==1/0&&(p=T,C=!1,$=!1),w&&p%y!=0&&(p=Math.floor(p/y)*y),O($?L:k)},this.toggleBlockComment=function(l,f,v,S){var A=this.blockComment;if(!!A){!A.start&&A[0]&&(A=A[0]);var C=new t(f,S.row,S.column),$=C.getCurrentToken(),p=f.selection,y=f.selection.toOrientedRange(),w,m;if($&&/comment/.test($.type)){for(var b,d;$&&/comment/.test($.type);){var _=$.value.indexOf(A.start);if(_!=-1){var k=C.getCurrentTokenRow(),L=C.getCurrentTokenColumn()+_;b=new n(k,L,k,L+A.start.length);break}$=C.stepBackward()}for(var C=new t(f,S.row,S.column),$=C.getCurrentToken();$&&/comment/.test($.type);){var _=$.value.indexOf(A.end);if(_!=-1){var k=C.getCurrentTokenRow(),L=C.getCurrentTokenColumn()+_;d=new n(k,L,k,L+A.end.length);break}$=C.stepForward()}d&&f.remove(d),b&&(f.remove(b),w=b.start.row,m=-A.start.length)}else m=A.start.length,w=v.start.row,f.insert(v.end,A.end),f.insert(v.start,A.start);y.start.row==w&&(y.start.column+=m),y.end.row==w&&(y.end.column+=m),f.selection.fromOrientedRange(y)}},this.getNextLineIndent=function(l,f,v){return this.$getIndent(f)},this.checkOutdent=function(l,f,v){return!1},this.autoOutdent=function(l,f,v){},this.$getIndent=function(l){return l.match(/^\s*/)[0]},this.createWorker=function(l){return null},this.createModeDelegates=function(l){this.$embeds=[],this.$modes={};for(var f in l)if(l[f]){var v=l[f],S=v.prototype.$id,A=u.$modes[S];A||(u.$modes[S]=A=new v),u.$modes[f]||(u.$modes[f]=A),this.$embeds.push(f),this.$modes[f]=A}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],f=0;f<C.length;f++)(function(p){var y=C[f],w=p[y];p[C[f]]=function(){return this.$delegator(y,arguments,w)}})(this)},this.$delegator=function(l,f,v){var S=f[0]||"start";if(typeof S!="string"){if(Array.isArray(S[2])){var A=S[2][S[2].length-1],C=this.$modes[A];if(C)return C[l].apply(C,[S[1]].concat([].slice.call(f,1)))}S=S[0]||"start"}for(var $=0;$<this.$embeds.length;$++)if(!!this.$modes[this.$embeds[$]]){var p=S.split(this.$embeds[$]);if(!p[0]&&p[1]){f[0]=p[1];var C=this.$modes[this.$embeds[$]];return C[l].apply(C,f)}}var y=v.apply(this,f);return v?y:void 0},this.transformAction=function(l,f,v,S,A){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var $ in C)if(C[$][f]){var p=C[$][f].apply(this,arguments);if(p)return p}}},this.getKeywords=function(l){if(!this.completionKeywords){var f=this.$tokenizer.rules,v=[];for(var S in f)for(var A=f[S],C=0,$=A.length;C<$;C++)if(typeof A[C].token=="string")/keyword|support|storage/.test(A[C].token)&&v.push(A[C].regex);else if(typeof A[C].token=="object"){for(var p=0,y=A[C].token.length;p<y;p++)if(/keyword|support|storage/.test(A[C].token[p])){var S=A[C].regex.match(/\(.+?\)/g)[p];v.push(S.substr(1,S.length-2))}}this.completionKeywords=v}return l?v.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(l,f,v,S){var A=this.$keywordList||this.$createKeywordList();return A.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(s.prototype),r.Mode=s});ace.define("ace/apply_delta",["require","exports","module"],function(e,r,c){"use strict";function u(a,h){throw console.log("Invalid Delta:",a),"Invalid Delta: "+h}function g(a,h){return h.row>=0&&h.row<a.length&&h.column>=0&&h.column<=a[h.row].length}function o(a,h){h.action!="insert"&&h.action!="remove"&&u(h,"delta.action must be 'insert' or 'remove'"),h.lines instanceof Array||u(h,"delta.lines must be an Array"),(!h.start||!h.end)&&u(h,"delta.start/end must be an present");var i=h.start;g(a,h.start)||u(h,"delta.start must be contained in document");var t=h.end;h.action=="remove"&&!g(a,t)&&u(h,"delta.end must contained in document for 'remove' actions");var n=t.row-i.row,s=t.column-(n==0?i.column:0);(n!=h.lines.length-1||h.lines[n].length!=s)&&u(h,"delta.range must match delta lines")}r.applyDelta=function(a,h,i){var t=h.start.row,n=h.start.column,s=a[t]||"";switch(h.action){case"insert":var l=h.lines;if(l.length===1)a[t]=s.substring(0,n)+h.lines[0]+s.substring(n);else{var f=[t,1].concat(h.lines);a.splice.apply(a,f),a[t]=s.substring(0,n)+a[t],a[t+h.lines.length-1]+=s.substring(n)}break;case"remove":var v=h.end.column,S=h.end.row;t===S?a[t]=s.substring(0,n)+s.substring(v):a.splice(t,S-t+1,s.substring(0,n)+a[S].substring(v));break}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/event_emitter").EventEmitter,o=r.Anchor=function(a,h,i){this.$onChange=this.onChange.bind(this),this.attach(a),typeof i=="undefined"?this.setPosition(h.row,h.column):this.setPosition(h,i)};(function(){u.implement(this,g),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var t=h(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}};function a(i,t,n){var s=n?i.column<=t.column:i.column<t.column;return i.row<t.row||i.row==t.row&&s}function h(i,t,n){var s=i.action=="insert",l=(s?1:-1)*(i.end.row-i.start.row),f=(s?1:-1)*(i.end.column-i.start.column),v=i.start,S=s?v:i.end;return a(t,v,n)?{row:t.row,column:t.column}:a(S,t,!n)?{row:t.row+l,column:t.column+(t.row==S.row?f:0)}:{row:v.row,column:v.column}}this.setPosition=function(i,t,n){var s;if(n?s={row:i,column:t}:s=this.$clipPositionToDocument(i,t),!(this.row==s.row&&this.column==s.column)){var l={row:this.row,column:this.column};this.row=s.row,this.column=s.column,this._signal("change",{old:l,value:s})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(i,t){var n={};return i>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):i<0?(n.row=0,n.column=0):(n.row=i,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,h=e("./anchor").Anchor,i=function(t){this.$lines=[""],t.length===0?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){u.implement(this,o),this.setValue=function(t){var n=this.getLength()-1;this.remove(new a(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,n){return new h(this,t,n)},"aaa".split(/a/).length===0?this.$split=function(t){return t.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var n=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return t==`\r
`||t=="\r"||t==`
`},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,n){return this.$lines.slice(t,n+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var n;if(t.start.row===t.end.row)n=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{n=this.getLines(t.start.row,t.end.row),n[0]=(n[0]||"").substring(t.start.column);var s=n.length-1;t.end.row-t.start.row==s&&(n[s]=n[s].substring(0,t.end.column))}return n},this.insertLines=function(t,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,n)},this.removeLines=function(t,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,n)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(t,this.$split(n))},this.insertInLine=function(t,n){var s=this.clippedPos(t.row,t.column),l=this.pos(t.row,t.column+n.length);return this.applyDelta({start:s,end:l,action:"insert",lines:[n]},!0),this.clonePos(l)},this.clippedPos=function(t,n){var s=this.getLength();t===void 0?t=s:t<0?t=0:t>=s&&(t=s-1,n=void 0);var l=this.getLine(t);return n==null&&(n=l.length),n=Math.min(Math.max(n,0),l.length),{row:t,column:n}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,n){return{row:t,column:n}},this.$clipPosition=function(t){var n=this.getLength();return t.row>=n?(t.row=Math.max(0,n-1),t.column=this.getLine(n-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,n){t=Math.min(Math.max(t,0),this.getLength());var s=0;t<this.getLength()?(n=n.concat([""]),s=0):(n=[""].concat(n),t--,s=this.$lines[t].length),this.insertMergedLines({row:t,column:s},n)},this.insertMergedLines=function(t,n){var s=this.clippedPos(t.row,t.column),l={row:s.row+n.length-1,column:(n.length==1?s.column:0)+n[n.length-1].length};return this.applyDelta({start:s,end:l,action:"insert",lines:n}),this.clonePos(l)},this.remove=function(t){var n=this.clippedPos(t.start.row,t.start.column),s=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})}),this.clonePos(n)},this.removeInLine=function(t,n,s){var l=this.clippedPos(t,n),f=this.clippedPos(t,s);return this.applyDelta({start:l,end:f,action:"remove",lines:this.getLinesForRange({start:l,end:f})},!0),this.clonePos(l)},this.removeFullLines=function(t,n){t=Math.min(Math.max(0,t),this.getLength()-1),n=Math.min(Math.max(0,n),this.getLength()-1);var s=n==this.getLength()-1&&t>0,l=n<this.getLength()-1,f=s?t-1:t,v=s?this.getLine(f).length:0,S=l?n+1:n,A=l?0:this.getLine(S).length,C=new a(f,v,S,A),$=this.$lines.slice(t,n+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),$},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,n){if(t instanceof a||(t=a.fromPoints(t.start,t.end)),n.length===0&&t.isEmpty())return t.start;if(n==this.getTextRange(t))return t.end;this.remove(t);var s;return n?s=this.insert(t.start,n):s=t.start,s},this.applyDeltas=function(t){for(var n=0;n<t.length;n++)this.applyDelta(t[n])},this.revertDeltas=function(t){for(var n=t.length-1;n>=0;n--)this.revertDelta(t[n])},this.applyDelta=function(t,n){var s=t.action=="insert";(s?t.lines.length<=1&&!t.lines[0]:!a.comparePoints(t.start,t.end))||(s&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(g(this.$lines,t,n),this._signal("change",t)))},this.$safeApplyDelta=function(t){var n=this.$lines.length;(t.action=="remove"&&t.start.row<n&&t.end.row<n||t.action=="insert"&&t.start.row<=n)&&this.applyDelta(t)},this.$splitAndapplyLargeDelta=function(t,n){for(var s=t.lines,l=s.length-n+1,f=t.start.row,v=t.start.column,S=0,A=0;S<l;S=A){A+=n-1;var C=s.slice(S,A);C.push(""),this.applyDelta({start:this.pos(f+S,v),end:this.pos(f+A,v=0),action:t.action,lines:C},!0)}t.lines=s.slice(S),t.start.row=f+S,t.start.column=v,this.applyDelta(t,!0)},this.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:t.action=="insert"?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,n){for(var s=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,f=n||0,v=s.length;f<v;f++)if(t-=s[f].length+l,t<0)return{row:f,column:t+s[f].length+l};return{row:v-1,column:t+s[v-1].length+l}},this.positionToIndex=function(t,n){for(var s=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,f=0,v=Math.min(t.row,s.length),S=n||0;S<v;++S)f+=s[S].length+l;return f+t.column}}).call(i.prototype),r.Document=i});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/event_emitter").EventEmitter,o=function(a,h){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var i=this;this.$worker=function(){if(!!i.running){for(var t=new Date,n=i.currentLine,s=-1,l=i.doc,f=n;i.lines[n];)n++;var v=l.getLength(),S=0;for(i.running=!1;n<v;){i.$tokenizeRow(n),s=n;do n++;while(i.lines[n]);if(S++,S%5==0&&new Date-t>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=n,s==-1&&(s=n),f<=s&&i.fireUpdateEvent(f,s)}}};(function(){u.implement(this,g),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,h){var i={first:a,last:h};this._signal("update",{data:i})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(a){var h=a.start.row,i=a.end.row-h;if(i===0)this.lines[h]=null;else if(a.action=="remove")this.lines.splice(h,i+1,null),this.states.splice(h,i+1,null);else{var t=Array(i+1);t.unshift(h,1),this.lines.splice.apply(this.lines,t),this.states.splice.apply(this.states,t)}this.currentLine=Math.min(h,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var h=this.doc.getLine(a),i=this.states[a-1],t=this.tokenizer.getLineTokens(h,i,a);return this.states[a]+""!=t.state+""?(this.states[a]=t.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=t.tokens}}).call(o.prototype),r.BackgroundTokenizer=o});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,r,c){"use strict";var u=e("./lib/lang"),g=e("./lib/oop"),o=e("./range").Range,a=function(h,i,t){this.setRegexp(h),this.clazz=i,this.type=t||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},this.update=function(h,i,t,n){if(!!this.regExp)for(var s=n.firstRow,l=n.lastRow,f=s;f<=l;f++){var v=this.cache[f];v==null&&(v=u.getMatchOffsets(t.getLine(f),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(A){return new o(f,A.offset,f,A.offset+A.length)}),this.cache[f]=v.length?v:"");for(var S=v.length;S--;)i.drawSingleLineMarker(h,v[S].toScreenRange(t),this.clazz,n)}}}).call(a.prototype),r.SearchHighlight=a});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=e("../range").Range;function g(o,a){this.foldData=o,Array.isArray(a)?this.folds=a:a=this.folds=[a];var h=a[a.length-1];this.range=new u(a[0].start.row,a[0].start.column,h.end.row,h.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}(function(){this.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(a){a.start.row+=o,a.end.row+=o})},this.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(a,h){return-a.range.compareEnd(h.start.row,h.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},this.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},this.walk=function(o,a,h){var i=0,t=this.folds,n,s,l,f=!0;a==null&&(a=this.end.row,h=this.end.column);for(var v=0;v<t.length;v++){if(n=t[v],s=n.range.compareStart(a,h),s==-1){o(null,a,h,i,f);return}if(l=o(null,n.start.row,n.start.column,i,f),l=!l&&o(n.placeholder,n.start.row,n.start.column,i),l||s===0)return;f=!n.sameRow,i=n.end.column}o(null,a,h,i,f)},this.getNextFoldTo=function(o,a){for(var h,i,t=0;t<this.folds.length;t++){if(h=this.folds[t],i=h.range.compareEnd(o,a),i==-1)return{fold:h,kind:"after"};if(i===0)return{fold:h,kind:"inside"}}return null},this.addRemoveChars=function(o,a,h){var i=this.getNextFoldTo(o,a),t,n;if(i){if(t=i.fold,i.kind=="inside"&&t.start.column!=a&&t.start.row!=o)window.console&&window.console.log(o,a,t);else if(t.start.row==o){n=this.folds;var s=n.indexOf(t);for(s===0&&(this.start.column+=h),s;s<n.length;s++){if(t=n[s],t.start.column+=h,!t.sameRow)return;t.end.column+=h}this.end.column+=h}}},this.split=function(o,a){var h=this.getNextFoldTo(o,a);if(!h||h.kind=="inside")return null;var i=h.fold,t=this.folds,n=this.foldData,s=t.indexOf(i),l=t[s-1];this.end.row=l.end.row,this.end.column=l.end.column,t=t.splice(s,t.length-s);var f=new g(n,t);return n.splice(n.indexOf(this)+1,0,f),f},this.merge=function(o){for(var a=o.folds,h=0;h<a.length;h++)this.addFold(a[h]);var i=this.foldData;i.splice(i.indexOf(o),1)},this.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(a){o.push("  "+a.toString())}),o.push("]"),o.join(`
`)},this.idxToPosition=function(o){for(var a=0,h=0;h<this.folds.length;h++){var i=this.folds[h];if(o-=i.start.column-a,o<0)return{row:i.start.row,column:i.start.column+o};if(o-=i.placeholder.length,o<0)return i.start;a=i.end.column}return{row:this.end.row,column:this.end.column+o}}}).call(g.prototype),r.FoldLine=g});ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=e("./range").Range,g=u.comparePoints,o=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=g,this.pointIndex=function(a,h,i){for(var t=this.ranges,n=i||0;n<t.length;n++){var s=t[n],l=g(a,s.end);if(!(l>0)){var f=g(a,s.start);return l===0?h&&f!==0?-n-2:n:f>0||f===0&&!h?n:-n-1}}return-n-1},this.add=function(a){var h=!a.isEmpty(),i=this.pointIndex(a.start,h);i<0&&(i=-i-1);var t=this.pointIndex(a.end,h,i);return t<0?t=-t-1:t++,this.ranges.splice(i,t-i,a)},this.addList=function(a){for(var h=[],i=a.length;i--;)h.push.apply(h,this.add(a[i]));return h},this.substractPoint=function(a){var h=this.pointIndex(a);if(h>=0)return this.ranges.splice(h,1)},this.merge=function(){var a=[],h=this.ranges;h=h.sort(function(l,f){return g(l.start,f.start)});for(var i=h[0],t,n=1;n<h.length;n++){t=i,i=h[n];var s=g(t.end,i.start);s<0||s==0&&!t.isEmpty()&&!i.isEmpty()||(g(t.end,i.end)<0&&(t.end.row=i.end.row,t.end.column=i.end.column),h.splice(n,1),a.push(i),i=t,n--)}return this.ranges=h,a},this.contains=function(a,h){return this.pointIndex({row:a,column:h})>=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var h=this.pointIndex(a);if(h>=0)return this.ranges[h]},this.clipRows=function(a,h){var i=this.ranges;if(i[0].start.row>h||i[i.length-1].start.row<a)return[];var t=this.pointIndex({row:a,column:0});t<0&&(t=-t-1);var n=this.pointIndex({row:h,column:0},t);n<0&&(n=-n-1);for(var s=[],l=t;l<n;l++)s.push(i[l]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(a){for(var h=a.start,i=a.end,t=h.row,n=i.row,s=this.ranges,l=0,f=s.length;l<f;l++){var v=s[l];if(v.end.row>=t)break}if(a.action=="insert")for(var S=n-t,A=-h.column+i.column;l<f;l++){var v=s[l];if(v.start.row>t)break;if(v.start.row==t&&v.start.column>=h.column&&(v.start.column==h.column&&this.$bias<=0||(v.start.column+=A,v.start.row+=S)),v.end.row==t&&v.end.column>=h.column){if(v.end.column==h.column&&this.$bias<0)continue;v.end.column==h.column&&A>0&&l<f-1&&v.end.column>v.start.column&&v.end.column==s[l+1].start.column&&(v.end.column-=A),v.end.column+=A,v.end.row+=S}}else for(var S=t-n,A=h.column-i.column;l<f;l++){var v=s[l];if(v.start.row>n)break;v.end.row<n&&(t<v.end.row||t==v.end.row&&h.column<v.end.column)?(v.end.row=t,v.end.column=h.column):v.end.row==n?v.end.column<=i.column?(S||v.end.column>h.column)&&(v.end.column=h.column,v.end.row=h.row):(v.end.column+=A,v.end.row+=S):v.end.row>n&&(v.end.row+=S),v.start.row<n&&(t<v.start.row||t==v.start.row&&h.column<v.start.column)?(v.start.row=t,v.start.column=h.column):v.start.row==n?v.start.column<=i.column?(S||v.start.column>h.column)&&(v.start.column=h.column,v.start.row=h.row):(v.start.column+=A,v.start.row+=S):v.start.row>n&&(v.start.row+=S)}if(S!=0&&l<f)for(;l<f;l++){var v=s[l];v.start.row+=S,v.end.row+=S}}}).call(o.prototype),r.RangeList=o});ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(e,r,c){"use strict";var u=e("../range_list").RangeList,g=e("../lib/oop"),o=r.Fold=function(n,s){this.foldLine=null,this.placeholder=s,this.range=n,this.start=n.start,this.end=n.end,this.sameRow=n.start.row==n.end.row,this.subFolds=this.ranges=[]};g.inherits(o,u),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(s){s.setFoldLine(n)})},this.clone=function(){var n=this.range.clone(),s=new o(n,this.placeholder);return this.subFolds.forEach(function(l){s.subFolds.push(l.clone())}),s.collapseChildren=this.collapseChildren,s},this.addSubFold=function(n){if(!this.range.isEqual(n)){h(n,this.start);for(var s=n.start.row,l=n.start.column,f=0,v=-1;f<this.subFolds.length&&(v=this.subFolds[f].range.compare(s,l),v==1);f++);var S=this.subFolds[f],A=0;if(v==0){if(S.range.containsRange(n))return S.addSubFold(n);A=1}for(var s=n.range.end.row,l=n.range.end.column,C=f,v=-1;C<this.subFolds.length&&(v=this.subFolds[C].range.compare(s,l),v==1);C++);v==0&&C++;for(var $=this.subFolds.splice(f,C-f,n),p=v==0?$.length-1:$.length,y=A;y<p;y++)n.addSubFold($[y]);return n.setFoldLine(this.foldLine),n}},this.restoreRange=function(n){return t(n,this.start)}}.call(o.prototype);function a(n,s){n.row-=s.row,n.row==0&&(n.column-=s.column)}function h(n,s){a(n.start,s),a(n.end,s)}function i(n,s){n.row==0&&(n.column+=s.column),n.row+=s.row}function t(n,s){i(n.start,s),i(n.end,s)}});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,r,c){"use strict";var u=e("../range").Range,g=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;function h(){this.getFoldAt=function(i,t,n){var s=this.getFoldLine(i);if(!s)return null;for(var l=s.folds,f=0;f<l.length;f++){var v=l[f].range;if(v.contains(i,t)){if(n==1&&v.isEnd(i,t)&&!v.isEmpty())continue;if(n==-1&&v.isStart(i,t)&&!v.isEmpty())continue;return l[f]}}},this.getFoldsInRange=function(i){var t=i.start,n=i.end,s=this.$foldData,l=[];t.column+=1,n.column-=1;for(var f=0;f<s.length;f++){var v=s[f].range.compareRange(i);if(v!=2){if(v==-2)break;for(var S=s[f].folds,A=0;A<S.length;A++){var C=S[A];if(v=C.range.compareRange(i),v==-2)break;if(v==2)continue;if(v==42)break;l.push(C)}}}return t.column-=1,n.column+=1,l},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var t=[];i.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)}else var t=this.getFoldsInRange(i);return t},this.getAllFolds=function(){for(var i=[],t=this.$foldData,n=0;n<t.length;n++)for(var s=0;s<t[n].folds.length;s++)i.push(t[n].folds[s]);return i},this.getFoldStringAt=function(i,t,n,s){if(s=s||this.getFoldLine(i),!s)return null;for(var l={end:{column:0}},f,v,S=0;S<s.folds.length;S++){v=s.folds[S];var A=v.range.compareEnd(i,t);if(A==-1){f=this.getLine(v.start.row).substring(l.end.column,v.start.column);break}else if(A===0)return null;l=v}return f||(f=this.getLine(v.start.row).substring(l.end.column)),n==-1?f.substring(0,t-l.end.column):n==1?f.substring(t-l.end.column):f},this.getFoldLine=function(i,t){var n=this.$foldData,s=0;for(t&&(s=n.indexOf(t)),s==-1&&(s=0),s;s<n.length;s++){var l=n[s];if(l.start.row<=i&&l.end.row>=i)return l;if(l.end.row>i)return null}return null},this.getNextFoldLine=function(i,t){var n=this.$foldData,s=0;for(t&&(s=n.indexOf(t)),s==-1&&(s=0),s;s<n.length;s++){var l=n[s];if(l.end.row>=i)return l}return null},this.getFoldedRowCount=function(i,t){for(var n=this.$foldData,s=t-i+1,l=0;l<n.length;l++){var f=n[l],v=f.end.row,S=f.start.row;if(v>=t){S<t&&(S>=i?s-=t-S:s=0);break}else v>=i&&(S>=i?s-=v-S:s-=v-i+1)}return s},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(t,n){return t.start.row-n.start.row}),i},this.addFold=function(i,t){var n=this.$foldData,s=!1,l;i instanceof o?l=i:(l=new o(t,i),l.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(l.range);var f=l.start.row,v=l.start.column,S=l.end.row,A=l.end.column,C=this.getFoldAt(f,v,1),$=this.getFoldAt(S,A,-1);if(C&&$==C)return C.addSubFold(l);C&&!C.range.isStart(f,v)&&this.removeFold(C),$&&!$.range.isEnd(S,A)&&this.removeFold($);var p=this.getFoldsInRange(l.range);p.length>0&&(this.removeFolds(p),l.collapseChildren||p.forEach(function(b){l.addSubFold(b)}));for(var y=0;y<n.length;y++){var w=n[y];if(S==w.start.row){w.addFold(l),s=!0;break}else if(f==w.end.row){if(w.addFold(l),s=!0,!l.sameRow){var m=n[y+1];if(m&&m.start.row==S){w.merge(m);break}}break}else if(S<=w.start.row)break}return s||(w=this.$addFoldLine(new g(this.$foldData,l))),this.$useWrapMode?this.$updateWrapData(w.start.row,w.start.row):this.$updateRowLengthCache(w.start.row,w.start.row),this.$modified=!0,this._signal("changeFold",{data:l,action:"add"}),l},this.addFolds=function(i){i.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(i){var t=i.foldLine,n=t.start.row,s=t.end.row,l=this.$foldData,f=t.folds;if(f.length==1)l.splice(l.indexOf(t),1);else if(t.range.isEnd(i.end.row,i.end.column))f.pop(),t.end.row=f[f.length-1].end.row,t.end.column=f[f.length-1].end.column;else if(t.range.isStart(i.start.row,i.start.column))f.shift(),t.start.row=f[0].start.row,t.start.column=f[0].start.column;else if(i.sameRow)f.splice(f.indexOf(i),1);else{var v=t.split(i.start.row,i.start.column);f=v.folds,f.shift(),v.start.row=f[0].start.row,v.start.column=f[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,s):this.$updateRowLengthCache(n,s)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var t=[],n=0;n<i.length;n++)t.push(i[n]);t.forEach(function(s){this.removeFold(s)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(t){i.restoreRange(t),this.addFold(t)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(i,t){var n,s;if(i==null)n=new u(0,0,this.getLength(),0),t==null&&(t=!0);else if(typeof i=="number")n=new u(i,0,i,this.getLine(i).length);else if("row"in i)n=u.fromPoints(i,i);else{if(Array.isArray(i))return s=[],i.forEach(function(f){s=s.concat(this.unfold(f))},this),s;n=i}s=this.getFoldsInRangeList(n);for(var l=s;s.length==1&&u.comparePoints(s[0].start,n.start)<0&&u.comparePoints(s[0].end,n.end)>0;)this.expandFolds(s),s=this.getFoldsInRangeList(n);if(t!=!1?this.removeFolds(s):this.expandFolds(s),l.length)return l},this.isRowFolded=function(i,t){return!!this.getFoldLine(i,t)},this.getRowFoldEnd=function(i,t){var n=this.getFoldLine(i,t);return n?n.end.row:i},this.getRowFoldStart=function(i,t){var n=this.getFoldLine(i,t);return n?n.start.row:i},this.getFoldDisplayLine=function(i,t,n,s,l){s==null&&(s=i.start.row),l==null&&(l=0),t==null&&(t=i.end.row),n==null&&(n=this.getLine(t).length);var f=this.doc,v="";return i.walk(function(S,A,C,$){if(!(A<s)){if(A==s){if(C<l)return;$=Math.max(l,$)}S!=null?v+=S:v+=f.getLine(A).substring($,C)}},t,n),v},this.getDisplayLine=function(i,t,n,s){var l=this.getFoldLine(i);if(l)return this.getFoldDisplayLine(l,i,t,n,s);var f;return f=this.doc.getLine(i),f.substring(s||0,t||f.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(t){var n=t.folds.map(function(s){return s.clone()});return new g(i,n)}),i},this.toggleFold=function(i){var t=this.selection,n=t.getRange(),s,l;if(n.isEmpty()){var f=n.start;if(s=this.getFoldAt(f.row,f.column),s){this.expandFold(s);return}else(l=this.findMatchingBracket(f))?n.comparePoint(l)==1?n.end=l:(n.start=l,n.start.column++,n.end.column--):(l=this.findMatchingBracket({row:f.row,column:f.column+1}))?(n.comparePoint(l)==1?n.end=l:n.start=l,n.start.column++):n=this.getCommentFoldRange(f.row,f.column)||n}else{var v=this.getFoldsInRange(n);if(i&&v.length){this.expandFolds(v);return}else v.length==1&&(s=v[0])}if(s||(s=this.getFoldAt(n.start.row,n.start.column)),s&&s.range.toString()==n.toString()){this.expandFold(s);return}var S="...";if(!n.isMultiLine()){if(S=this.getTextRange(n),S.length<4)return;S=S.trim().substring(0,2)+".."}this.addFold(S,n)},this.getCommentFoldRange=function(i,t,n){var s=new a(this,i,t),l=s.getCurrentToken(),f=l&&l.type;if(l&&/^comment|string/.test(f)){f=f.match(/comment|string/)[0],f=="comment"&&(f+="|doc-start");var v=new RegExp(f),S=new u;if(n!=1){do l=s.stepBackward();while(l&&v.test(l.type));s.stepForward()}if(S.start.row=s.getCurrentTokenRow(),S.start.column=s.getCurrentTokenColumn()+2,s=new a(this,i,t),n!=-1){var A=-1;do if(l=s.stepForward(),A==-1){var C=this.getState(s.$row);v.test(C)||(A=s.$row)}else if(s.$row>A)break;while(l&&v.test(l.type));l=s.stepBackward()}else l=s.getCurrentToken();return S.end.row=s.getCurrentTokenRow(),S.end.column=s.getCurrentTokenColumn()+l.value.length-2,S}},this.foldAll=function(i,t,n,s){n==null&&(n=1e5);var l=this.foldWidgets;if(!!l){t=t||this.getLength(),i=i||0;for(var f=i;f<t;f++)if(l[f]==null&&(l[f]=this.getFoldWidget(f)),l[f]=="start"&&!(s&&!s(f))){var v=this.getFoldWidgetRange(f);v&&v.isMultiLine()&&v.end.row<=t&&v.start.row>=i&&(f=v.end.row,v.collapseChildren=n,this.addFold("...",v))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(t){for(var n=i.getTokens(t),s=0;s<n.length;s++){var l=n[s];if(!(l.type=="text"&&/^\s+$/.test(l.value)))return!!/comment/.test(l.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,t){var n=this.foldWidgets;if(!n||t&&n[i])return{};for(var s=i-1,l;s>=0;){var f=n[s];if(f==null&&(f=n[s]=this.getFoldWidget(s)),f=="start"){var v=this.getFoldWidgetRange(s);if(l||(l=v),v&&v.end.row>=i)break}s--}return{range:s!==-1&&v,firstRange:l}},this.onFoldWidgetClick=function(i,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},s=this.$toggleFoldWidget(i,n);if(!s){var l=t.target||t.srcElement;l&&/ace_fold-widget/.test(l.className)&&(l.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,t){if(!!this.getFoldWidget){var n=this.getFoldWidget(i),s=this.getLine(i),l=n==="end"?-1:1,f=this.getFoldAt(i,l===-1?0:s.length,l);if(f)return t.children||t.all?this.removeFold(f):this.expandFold(f),f;var v=this.getFoldWidgetRange(i,!0);if(v&&!v.isMultiLine()&&(f=this.getFoldAt(v.start.row,v.start.column,1),f&&v.isEqual(f.range)))return this.removeFold(f),f;if(t.siblings){var S=this.getParentFoldRangeData(i);if(S.range)var A=S.range.start.row+1,C=S.range.end.row;this.foldAll(A,C,t.all?1e4:0)}else t.children?(C=v?v.end.row:this.getLength(),this.foldAll(i+1,C,t.all?1e4:0)):v&&(t.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(i){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var s=this.getParentFoldRangeData(t,!0);if(n=s.range||s.firstRange,n){t=n.start.row;var l=this.getFoldAt(t,this.getLine(t).length,1);l?this.removeFold(l):this.addFold("...",n)}}},this.updateFoldWidgets=function(i){var t=i.start.row,n=i.end.row-t;if(n===0)this.foldWidgets[t]=null;else if(i.action=="remove")this.foldWidgets.splice(t,n+1,null);else{var s=Array(n+1);s.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}},this.tokenizerUpdateFoldWidgets=function(i){var t=i.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}r.Folding=h});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,r,c){"use strict";var u=e("../token_iterator").TokenIterator,g=e("../range").Range;function o(){this.findMatchingBracket=function(a,h){if(a.column==0)return null;var i=h||this.getLine(a.row).charAt(a.column-1);if(i=="")return null;var t=i.match(/([\(\[\{])|([\)\]\}])/);return t?t[1]?this.$findClosingBracket(t[1],a):this.$findOpeningBracket(t[2],a):null},this.getBracketRange=function(a){var h=this.getLine(a.row),i=!0,t,n=h.charAt(a.column-1),s=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(s||(n=h.charAt(a.column),a={row:a.row,column:a.column+1},s=n&&n.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var l=this.$findClosingBracket(s[1],a);if(!l)return null;t=g.fromPoints(a,l),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var l=this.$findOpeningBracket(s[2],a);if(!l)return null;t=g.fromPoints(l,a),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(a){var h=this.getLine(a.row),i=h.charAt(a.column-1),t=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(t||(i=h.charAt(a.column),a={row:a.row,column:a.column+1},t=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!t)return null;var n=new g(a.row,a.column-1,a.row,a.column),s=t[1]?this.$findClosingBracket(t[1],a):this.$findOpeningBracket(t[2],a);if(!s)return[n];var l=new g(s.row,s.column,s.row,s.column+1);return[n,l]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,h,i){var t=this.$brackets[a],n=1,s=new u(this,h.row,h.column),l=s.getCurrentToken();if(l||(l=s.stepForward()),!!l){i||(i=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var f=h.column-s.getCurrentTokenColumn()-2,v=l.value;;){for(;f>=0;){var S=v.charAt(f);if(S==t){if(n-=1,n==0)return{row:s.getCurrentTokenRow(),column:f+s.getCurrentTokenColumn()}}else S==a&&(n+=1);f-=1}do l=s.stepBackward();while(l&&!i.test(l.type));if(l==null)break;v=l.value,f=v.length-1}return null}},this.$findClosingBracket=function(a,h,i){var t=this.$brackets[a],n=1,s=new u(this,h.row,h.column),l=s.getCurrentToken();if(l||(l=s.stepForward()),!!l){i||(i=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var f=h.column-s.getCurrentTokenColumn();;){for(var v=l.value,S=v.length;f<S;){var A=v.charAt(f);if(A==t){if(n-=1,n==0)return{row:s.getCurrentTokenRow(),column:f+s.getCurrentTokenColumn()}}else A==a&&(n+=1);f+=1}do l=s.stepForward();while(l&&!i.test(l.type));if(l==null)break;f=0}return null}}}r.BracketMatch=o});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/lang"),o=e("./bidihandler").BidiHandler,a=e("./config"),h=e("./lib/event_emitter").EventEmitter,i=e("./selection").Selection,t=e("./mode/text").Mode,n=e("./range").Range,s=e("./document").Document,l=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,v=function(S,A){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++v.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof S!="object"||!S.getLine)&&(S=new s(S)),this.setDocument(S),this.selection=new i(this),this.$bidiHandler=new o(this),a.resetOptions(this),this.setMode(A),a._signal("session",this)};v.$uid=0,function(){u.implement(this,h),this.setDocument=function(d){this.doc&&this.doc.off("change",this.$onChange),this.doc=d,d.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(d){if(!d){this.$docRowCache=[],this.$screenRowCache=[];return}var _=this.$docRowCache.length,k=this.$getRowCacheIndex(this.$docRowCache,d)+1;_>k&&(this.$docRowCache.splice(k,_),this.$screenRowCache.splice(k,_))},this.$getRowCacheIndex=function(d,_){for(var k=0,L=d.length-1;k<=L;){var E=k+L>>1,R=d[E];if(_>R)k=E+1;else if(_<R)L=E-1;else return E}return k-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(d){var _=d.data;this.$resetRowCache(_.start.row)},this.onChange=function(d){this.$modified=!0,this.$bidiHandler.onChange(d),this.$resetRowCache(d.start.row);var _=this.$updateInternalDataOnChange(d);!this.$fromUndo&&this.$undoManager&&(_&&_.length&&(this.$undoManager.add({action:"removeFolds",folds:_},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(d,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(d),this._signal("change",d)},this.setValue=function(d){this.doc.setValue(d),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(d){return this.bgTokenizer.getState(d)},this.getTokens=function(d){return this.bgTokenizer.getTokens(d)},this.getTokenAt=function(d,_){var k=this.bgTokenizer.getTokens(d),L,E=0;if(_==null){var R=k.length-1;E=this.getLine(d).length}else for(var R=0;R<k.length&&(E+=k[R].value.length,!(E>=_));R++);return L=k[R],L?(L.index=R,L.start=E-L.value.length,L):null},this.setUndoManager=function(d){if(this.$undoManager=d,this.$informUndoManager&&this.$informUndoManager.cancel(),d){var _=this;d.addSession(this),this.$syncInformUndoManager=function(){_.$informUndoManager.cancel(),_.mergeUndoDeltas=!1},this.$informUndoManager=g.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?g.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(d){this.setOption("useSoftTabs",d)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(d){this.setOption("tabSize",d)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(d){return this.$useSoftTabs&&d.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(d){this.setOption("navigateWithinSoftTabs",d)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(d){this.setOption("overwrite",d)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(d,_){this.$decorations[d]||(this.$decorations[d]=""),this.$decorations[d]+=" "+_,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(d,_){this.$decorations[d]=(this.$decorations[d]||"").replace(" "+_,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(d){this.$breakpoints=[];for(var _=0;_<d.length;_++)this.$breakpoints[d[_]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(d,_){_===void 0&&(_="ace_breakpoint"),_?this.$breakpoints[d]=_:delete this.$breakpoints[d],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(d){delete this.$breakpoints[d],this._signal("changeBreakpoint",{})},this.addMarker=function(d,_,k,L){var E=this.$markerId++,R={range:d,type:k||"line",renderer:typeof k=="function"?k:null,clazz:_,inFront:!!L,id:E};return L?(this.$frontMarkers[E]=R,this._signal("changeFrontMarker")):(this.$backMarkers[E]=R,this._signal("changeBackMarker")),E},this.addDynamicMarker=function(d,_){if(!!d.update){var k=this.$markerId++;return d.id=k,d.inFront=!!_,_?(this.$frontMarkers[k]=d,this._signal("changeFrontMarker")):(this.$backMarkers[k]=d,this._signal("changeBackMarker")),d}},this.removeMarker=function(d){var _=this.$frontMarkers[d]||this.$backMarkers[d];if(!!_){var k=_.inFront?this.$frontMarkers:this.$backMarkers;delete k[d],this._signal(_.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(d){return d?this.$frontMarkers:this.$backMarkers},this.highlight=function(d){if(!this.$searchHighlight){var _=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(_)}this.$searchHighlight.setRegexp(d)},this.highlightLines=function(d,_,k,L){typeof _!="number"&&(k=_,_=d),k||(k="ace_step");var E=new n(d,0,_,1/0);return E.id=this.addMarker(E,k,"fullLine",L),E},this.setAnnotations=function(d){this.$annotations=d,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(d){var _=d.match(/^.*?(\r?\n)/m);_?this.$autoNewLine=_[1]:this.$autoNewLine=`
`},this.getWordRange=function(d,_){var k=this.getLine(d),L=!1;if(_>0&&(L=!!k.charAt(_-1).match(this.tokenRe)),L||(L=!!k.charAt(_).match(this.tokenRe)),L)var E=this.tokenRe;else if(/^\s+$/.test(k.slice(_-1,_+1)))var E=/\s/;else var E=this.nonTokenRe;var R=_;if(R>0){do R--;while(R>=0&&k.charAt(R).match(E));R++}for(var x=_;x<k.length&&k.charAt(x).match(E);)x++;return new n(d,R,d,x)},this.getAWordRange=function(d,_){for(var k=this.getWordRange(d,_),L=this.getLine(k.end.row);L.charAt(k.end.column).match(/[ \t]/);)k.end.column+=1;return k},this.setNewLineMode=function(d){this.doc.setNewLineMode(d)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(d){this.setOption("useWorker",d)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(d){var _=d.data;this.bgTokenizer.start(_.first),this._signal("tokenizerUpdate",d)},this.$modes=a.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(d,_){if(d&&typeof d=="object"){if(d.getTokenizer)return this.$onChangeMode(d);var k=d,L=k.path}else L=d||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new t),this.$modes[L]&&!k){this.$onChangeMode(this.$modes[L]),_&&_();return}this.$modeId=L,a.loadModule(["mode",L],function(E){if(this.$modeId!==L)return _&&_();this.$modes[L]&&!k?this.$onChangeMode(this.$modes[L]):E&&E.Mode&&(E=new E.Mode(k),k||(this.$modes[L]=E,E.$id=L),this.$onChangeMode(E)),_&&_()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(d,_){if(_||(this.$modeId=d.$id),this.$mode!==d){var k=this.$mode;this.$mode=d,this.$stopWorker(),this.$useWorker&&this.$startWorker();var L=d.getTokenizer();if(L.on!==void 0){var E=this.onReloadTokenizer.bind(this);L.on("update",E)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(L);else{this.bgTokenizer=new l(L);var R=this;this.bgTokenizer.on("update",function(x){R._signal("tokenizerUpdate",x)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=d.tokenRe,this.nonTokenRe=d.nonTokenRe,_||(d.attachToSession&&d.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(d.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:k,mode:d}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(d){a.warn("Could not load worker",d),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(d){this.$scrollTop===d||isNaN(d)||(this.$scrollTop=d,this._signal("changeScrollTop",d))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(d){this.$scrollLeft===d||isNaN(d)||(this.$scrollLeft=d,this._signal("changeScrollLeft",d))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var d=0;return this.lineWidgets.forEach(function(_){_&&_.screenWidth>d&&(d=_.screenWidth)}),this.lineWidgetWidth=d},this.$computeWidth=function(d){if(this.$modified||d){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var _=this.doc.getAllLines(),k=this.$rowLengthCache,L=0,E=0,R=this.$foldData[E],x=R?R.start.row:1/0,O=_.length,T=0;T<O;T++){if(T>x){if(T=R.end.row+1,T>=O)break;R=this.$foldData[E++],x=R?R.start.row:1/0}k[T]==null&&(k[T]=this.$getStringScreenWidth(_[T])[0]),k[T]>L&&(L=k[T])}this.screenWidth=L}},this.getLine=function(d){return this.doc.getLine(d)},this.getLines=function(d,_){return this.doc.getLines(d,_)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(d){return this.doc.getTextRange(d||this.selection.getRange())},this.insert=function(d,_){return this.doc.insert(d,_)},this.remove=function(d){return this.doc.remove(d)},this.removeFullLines=function(d,_){return this.doc.removeFullLines(d,_)},this.undoChanges=function(d,_){if(!!d.length){this.$fromUndo=!0;for(var k=d.length-1;k!=-1;k--){var L=d[k];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!_&&this.$undoSelect&&(d.selectionBefore?this.selection.fromJSON(d.selectionBefore):this.selection.setRange(this.$getUndoSelection(d,!0))),this.$fromUndo=!1}},this.redoChanges=function(d,_){if(!!d.length){this.$fromUndo=!0;for(var k=0;k<d.length;k++){var L=d[k];(L.action=="insert"||L.action=="remove")&&this.doc.$safeApplyDelta(L)}!_&&this.$undoSelect&&(d.selectionAfter?this.selection.fromJSON(d.selectionAfter):this.selection.setRange(this.$getUndoSelection(d,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(d){this.$undoSelect=d},this.$getUndoSelection=function(d,_){function k(O){return _?O.action!=="insert":O.action==="insert"}for(var L,E,R=0;R<d.length;R++){var x=d[R];if(!!x.start){if(!L){k(x)?L=n.fromPoints(x.start,x.end):L=n.fromPoints(x.start,x.start);continue}k(x)?(E=x.start,L.compare(E.row,E.column)==-1&&L.setStart(E),E=x.end,L.compare(E.row,E.column)==1&&L.setEnd(E)):(E=x.start,L.compare(E.row,E.column)==-1&&(L=n.fromPoints(x.start,x.start)))}}return L},this.replace=function(d,_){return this.doc.replace(d,_)},this.moveText=function(d,_,k){var L=this.getTextRange(d),E=this.getFoldsInRange(d),R=n.fromPoints(_,_);if(!k){this.remove(d);var x=d.start.row-d.end.row,O=x?-d.end.column:d.start.column-d.end.column;O&&(R.start.row==d.end.row&&R.start.column>d.end.column&&(R.start.column+=O),R.end.row==d.end.row&&R.end.column>d.end.column&&(R.end.column+=O)),x&&R.start.row>=d.end.row&&(R.start.row+=x,R.end.row+=x)}if(R.end=this.insert(R.start,L),E.length){var T=d.start,F=R.start,x=F.row-T.row,O=F.column-T.column;this.addFolds(E.map(function(W){return W=W.clone(),W.start.row==T.row&&(W.start.column+=O),W.end.row==T.row&&(W.end.column+=O),W.start.row+=x,W.end.row+=x,W}))}return R},this.indentRows=function(d,_,k){k=k.replace(/\t/g,this.getTabString());for(var L=d;L<=_;L++)this.doc.insertInLine({row:L,column:0},k)},this.outdentRows=function(d){for(var _=d.collapseRows(),k=new n(0,0,0,0),L=this.getTabSize(),E=_.start.row;E<=_.end.row;++E){var R=this.getLine(E);k.start.row=E,k.end.row=E;for(var x=0;x<L&&R.charAt(x)==" ";++x);x<L&&R.charAt(x)=="	"?(k.start.column=x,k.end.column=x+1):(k.start.column=0,k.end.column=x),this.remove(k)}},this.$moveLines=function(d,_,k){if(d=this.getRowFoldStart(d),_=this.getRowFoldEnd(_),k<0){var L=this.getRowFoldStart(d+k);if(L<0)return 0;var E=L-d}else if(k>0){var L=this.getRowFoldEnd(_+k);if(L>this.doc.getLength()-1)return 0;var E=L-_}else{d=this.$clipRowToDocument(d),_=this.$clipRowToDocument(_);var E=_-d+1}var R=new n(d,0,_,Number.MAX_VALUE),x=this.getFoldsInRange(R).map(function(T){return T=T.clone(),T.start.row+=E,T.end.row+=E,T}),O=k==0?this.doc.getLines(d,_):this.doc.removeFullLines(d,_);return this.doc.insertFullLines(d+E,O),x.length&&this.addFolds(x),E},this.moveLinesUp=function(d,_){return this.$moveLines(d,_,-1)},this.moveLinesDown=function(d,_){return this.$moveLines(d,_,1)},this.duplicateLines=function(d,_){return this.$moveLines(d,_,0)},this.$clipRowToDocument=function(d){return Math.max(0,Math.min(d,this.doc.getLength()-1))},this.$clipColumnToRow=function(d,_){return _<0?0:Math.min(this.doc.getLine(d).length,_)},this.$clipPositionToDocument=function(d,_){if(_=Math.max(0,_),d<0)d=0,_=0;else{var k=this.doc.getLength();d>=k?(d=k-1,_=this.doc.getLine(k-1).length):_=Math.min(this.doc.getLine(d).length,_)}return{row:d,column:_}},this.$clipRangeToDocument=function(d){d.start.row<0?(d.start.row=0,d.start.column=0):d.start.column=this.$clipColumnToRow(d.start.row,d.start.column);var _=this.doc.getLength()-1;return d.end.row>_?(d.end.row=_,d.end.column=this.doc.getLine(_).length):d.end.column=this.$clipColumnToRow(d.end.row,d.end.column),d},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(d){if(d!=this.$useWrapMode){if(this.$useWrapMode=d,this.$modified=!0,this.$resetRowCache(0),d){var _=this.getLength();this.$wrapData=Array(_),this.$updateWrapData(0,_-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(d,_){(this.$wrapLimitRange.min!==d||this.$wrapLimitRange.max!==_)&&(this.$wrapLimitRange={min:d,max:_},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(d,_){var k=this.$wrapLimitRange;k.max<0&&(k={min:_,max:_});var L=this.$constrainWrapLimit(d,k.min,k.max);return L!=this.$wrapLimit&&L>1?(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(d,_,k){return _&&(d=Math.max(_,d)),k&&(d=Math.min(k,d)),d},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(d){this.setWrapLimitRange(d,d)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(d){var _=this.$useWrapMode,k=d.action,L=d.start,E=d.end,R=L.row,x=E.row,O=x-R,T=null;if(this.$updating=!0,O!=0)if(k==="remove"){this[_?"$wrapData":"$rowLengthCache"].splice(R,O);var F=this.$foldData;T=this.getFoldsInRange(d),this.removeFolds(T);var I=this.getFoldLine(E.row),M=0;if(I){I.addRemoveChars(E.row,E.column,L.column-E.column),I.shiftRow(-O);var W=this.getFoldLine(R);W&&W!==I&&(W.merge(I),I=W),M=F.indexOf(I)+1}for(M;M<F.length;M++){var I=F[M];I.start.row>=E.row&&I.shiftRow(-O)}x=R}else{var D=Array(O);D.unshift(R,0);var K=_?this.$wrapData:this.$rowLengthCache;K.splice.apply(K,D);var F=this.$foldData,I=this.getFoldLine(R),M=0;if(I){var V=I.range.compareInside(L.row,L.column);V==0?(I=I.split(L.row,L.column),I&&(I.shiftRow(O),I.addRemoveChars(x,0,E.column-L.column))):V==-1&&(I.addRemoveChars(R,0,E.column-L.column),I.shiftRow(O)),M=F.indexOf(I)+1}for(M;M<F.length;M++){var I=F[M];I.start.row>=R&&I.shiftRow(O)}}else{O=Math.abs(d.start.column-d.end.column),k==="remove"&&(T=this.getFoldsInRange(d),this.removeFolds(T),O=-O);var I=this.getFoldLine(R);I&&I.addRemoveChars(R,L.column,O)}return _&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,_?this.$updateWrapData(R,x):this.$updateRowLengthCache(R,x),T},this.$updateRowLengthCache=function(d,_,k){this.$rowLengthCache[d]=null,this.$rowLengthCache[_]=null},this.$updateWrapData=function(d,_){var k=this.doc.getAllLines(),L=this.getTabSize(),E=this.$wrapData,R=this.$wrapLimit,x,O,T=d;for(_=Math.min(_,k.length-1);T<=_;)O=this.getFoldLine(T,O),O?(x=[],O.walk(function(F,I,M,W){var D;if(F!=null){D=this.$getDisplayTokens(F,x.length),D[0]=C;for(var K=1;K<D.length;K++)D[K]=$}else D=this.$getDisplayTokens(k[I].substring(W,M),x.length);x=x.concat(D)}.bind(this),O.end.row,k[O.end.row].length+1),E[O.start.row]=this.$computeWrapSplits(x,R,L),T=O.end.row+1):(x=this.$getDisplayTokens(k[T]),E[T]=this.$computeWrapSplits(x,R,L),T++)};var S=1,A=2,C=3,$=4,p=9,y=10,w=11,m=12;this.$computeWrapSplits=function(d,_,k){if(d.length==0)return[];var L=[],E=d.length,R=0,x=0,O=this.$wrapAsCode,T=this.$indentedSoftWrap,F=_<=Math.max(2*k,8)||T===!1?0:Math.floor(_/2);function I(){var V=0;if(F===0)return V;if(T)for(var ie=0;ie<d.length;ie++){var ne=d[ie];if(ne==y)V+=1;else if(ne==w)V+=k;else{if(ne==m)continue;break}}return O&&T!==!1&&(V+=k),Math.min(V,F)}function M(V){for(var ie=V-R,ne=R;ne<V;ne++){var ce=d[ne];(ce===12||ce===2)&&(ie-=1)}L.length||(W=I(),L.indent=W),x+=ie,L.push(x),R=V}for(var W=0;E-R>_-W;){var D=R+_-W;if(d[D-1]>=y&&d[D]>=y){M(D);continue}if(d[D]==C||d[D]==$){for(D;D!=R-1&&d[D]!=C;D--);if(D>R){M(D);continue}for(D=R+_,D;D<d.length&&d[D]==$;D++);if(D==d.length)break;M(D);continue}for(var K=Math.max(D-(_-(_>>2)),R-1);D>K&&d[D]<C;)D--;if(O){for(;D>K&&d[D]<C;)D--;for(;D>K&&d[D]==p;)D--}else for(;D>K&&d[D]<y;)D--;if(D>K){M(++D);continue}D=R+_,d[D]==A&&D--,M(D-W)}return L},this.$getDisplayTokens=function(d,_){var k=[],L;_=_||0;for(var E=0;E<d.length;E++){var R=d.charCodeAt(E);if(R==9){L=this.getScreenTabSize(k.length+_),k.push(w);for(var x=1;x<L;x++)k.push(m)}else R==32?k.push(y):R>39&&R<48||R>57&&R<64?k.push(p):R>=4352&&b(R)?k.push(S,A):k.push(S)}return k},this.$getStringScreenWidth=function(d,_,k){if(_==0)return[0,0];_==null&&(_=1/0),k=k||0;var L,E;for(E=0;E<d.length&&(L=d.charCodeAt(E),L==9?k+=this.getScreenTabSize(k):L>=4352&&b(L)?k+=2:k+=1,!(k>_));E++);return[k,E]},this.lineWidgets=null,this.getRowLength=function(d){var _=1;return this.lineWidgets&&(_+=this.lineWidgets[d]&&this.lineWidgets[d].rowCount||0),!this.$useWrapMode||!this.$wrapData[d]?_:this.$wrapData[d].length+_},this.getRowLineCount=function(d){return!this.$useWrapMode||!this.$wrapData[d]?1:this.$wrapData[d].length+1},this.getRowWrapIndent=function(d){if(this.$useWrapMode){var _=this.screenToDocumentPosition(d,Number.MAX_VALUE),k=this.$wrapData[_.row];return k.length&&k[0]<_.column?k.indent:0}else return 0},this.getScreenLastRowColumn=function(d){var _=this.screenToDocumentPosition(d,Number.MAX_VALUE);return this.documentToScreenColumn(_.row,_.column)},this.getDocumentLastRowColumn=function(d,_){var k=this.documentToScreenRow(d,_);return this.getScreenLastRowColumn(k)},this.getDocumentLastRowColumnPosition=function(d,_){var k=this.documentToScreenRow(d,_);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10)},this.getRowSplitData=function(d){if(this.$useWrapMode)return this.$wrapData[d]},this.getScreenTabSize=function(d){return this.$tabSize-(d%this.$tabSize|0)},this.screenToDocumentRow=function(d,_){return this.screenToDocumentPosition(d,_).row},this.screenToDocumentColumn=function(d,_){return this.screenToDocumentPosition(d,_).column},this.screenToDocumentPosition=function(d,_,k){if(d<0)return{row:0,column:0};var L,E=0,R=0,x,O=0,T=0,F=this.$screenRowCache,I=this.$getRowCacheIndex(F,d),M=F.length;if(M&&I>=0)var O=F[I],E=this.$docRowCache[I],W=d>F[M-1];else var W=!M;for(var D=this.getLength()-1,K=this.getNextFoldLine(E),V=K?K.start.row:1/0;O<=d&&(T=this.getRowLength(E),!(O+T>d||E>=D));)O+=T,E++,E>V&&(E=K.end.row+1,K=this.getNextFoldLine(E,K),V=K?K.start.row:1/0),W&&(this.$docRowCache.push(E),this.$screenRowCache.push(O));if(K&&K.start.row<=E)L=this.getFoldDisplayLine(K),E=K.start.row;else{if(O+T<=d||E>D)return{row:D,column:this.getLine(D).length};L=this.getLine(E),K=null}var ie=0,ne=Math.floor(d-O);if(this.$useWrapMode){var ce=this.$wrapData[E];ce&&(x=ce[ne],ne>0&&ce.length&&(ie=ce.indent,R=ce[ne-1]||ce[ce.length-1],L=L.substring(R)))}return k!==void 0&&this.$bidiHandler.isBidiRow(O+ne,E,ne)&&(_=this.$bidiHandler.offsetToCol(k)),R+=this.$getStringScreenWidth(L,_-ie)[1],this.$useWrapMode&&R>=x&&(R=x-1),K?K.idxToPosition(R):{row:E,column:R}},this.documentToScreenPosition=function(d,_){if(typeof _=="undefined")var k=this.$clipPositionToDocument(d.row,d.column);else k=this.$clipPositionToDocument(d,_);d=k.row,_=k.column;var L=0,E=null,R=null;R=this.getFoldAt(d,_,1),R&&(d=R.start.row,_=R.start.column);var x,O=0,T=this.$docRowCache,F=this.$getRowCacheIndex(T,d),I=T.length;if(I&&F>=0)var O=T[F],L=this.$screenRowCache[F],M=d>T[I-1];else var M=!I;for(var W=this.getNextFoldLine(O),D=W?W.start.row:1/0;O<d;){if(O>=D){if(x=W.end.row+1,x>d)break;W=this.getNextFoldLine(x,W),D=W?W.start.row:1/0}else x=O+1;L+=this.getRowLength(O),O=x,M&&(this.$docRowCache.push(O),this.$screenRowCache.push(L))}var K="";W&&O>=D?(K=this.getFoldDisplayLine(W,d,_),E=W.start.row):(K=this.getLine(d).substring(0,_),E=d);var V=0;if(this.$useWrapMode){var ie=this.$wrapData[E];if(ie){for(var ne=0;K.length>=ie[ne];)L++,ne++;K=K.substring(ie[ne-1]||0,K.length),V=ne>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[O]&&this.lineWidgets[O].rowsAbove&&(L+=this.lineWidgets[O].rowsAbove),{row:L,column:V+this.$getStringScreenWidth(K)[0]}},this.documentToScreenColumn=function(d,_){return this.documentToScreenPosition(d,_).column},this.documentToScreenRow=function(d,_){return this.documentToScreenPosition(d,_).row},this.getScreenLength=function(){var d=0,_=null;if(this.$useWrapMode)for(var E=this.$wrapData.length,R=0,L=0,_=this.$foldData[L++],x=_?_.start.row:1/0;R<E;){var O=this.$wrapData[R];d+=O?O.length+1:1,R++,R>x&&(R=_.end.row+1,_=this.$foldData[L++],x=_?_.start.row:1/0)}else{d=this.getLength();for(var k=this.$foldData,L=0;L<k.length;L++)_=k[L],d-=_.end.row-_.start.row}return this.lineWidgets&&(d+=this.$getWidgetScreenLength()),d},this.$setFontMetrics=function(d){!this.$enableVarChar||(this.$getStringScreenWidth=function(_,k,L){if(k===0)return[0,0];k||(k=1/0),L=L||0;var E,R;for(R=0;R<_.length&&(E=_.charAt(R),E==="	"?L+=this.getScreenTabSize(L):L+=d.getCharacterWidth(E),!(L>k));R++);return[L,R]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=b;function b(d){return d<4352?!1:d>=4352&&d<=4447||d>=4515&&d<=4519||d>=4602&&d<=4607||d>=9001&&d<=9002||d>=11904&&d<=11929||d>=11931&&d<=12019||d>=12032&&d<=12245||d>=12272&&d<=12283||d>=12288&&d<=12350||d>=12353&&d<=12438||d>=12441&&d<=12543||d>=12549&&d<=12589||d>=12593&&d<=12686||d>=12688&&d<=12730||d>=12736&&d<=12771||d>=12784&&d<=12830||d>=12832&&d<=12871||d>=12880&&d<=13054||d>=13056&&d<=19903||d>=19968&&d<=42124||d>=42128&&d<=42182||d>=43360&&d<=43388||d>=44032&&d<=55203||d>=55216&&d<=55238||d>=55243&&d<=55291||d>=63744&&d<=64255||d>=65040&&d<=65049||d>=65072&&d<=65106||d>=65108&&d<=65126||d>=65128&&d<=65131||d>=65281&&d<=65376||d>=65504&&d<=65510}}.call(v.prototype),e("./edit_session/folding").Folding.call(v.prototype),e("./edit_session/bracket_match").BracketMatch.call(v.prototype),a.defineOptions(v.prototype,"session",{wrap:{set:function(S){if(!S||S=="off"?S=!1:S=="free"?S=!0:S=="printMargin"?S=-1:typeof S=="string"&&(S=parseInt(S,10)||!1),this.$wrap!=S)if(this.$wrap=S,!S)this.setUseWrapMode(!1);else{var A=typeof S=="number"?S:null;this.setWrapLimitRange(A,A),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(S){S=S=="auto"?this.$mode.type!="text":S!="text",S!=this.$wrapAsCode&&(this.$wrapAsCode=S,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(S){this.$useWorker=S,this.$stopWorker(),S&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(S){S=parseInt(S),S>0&&this.$tabSize!==S&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=S,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(S){this.setFoldStyle(S)},handlesSet:!0},overwrite:{set:function(S){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(S){this.doc.setNewLineMode(S)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(S){this.setMode(S)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=v});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,r,c){"use strict";var u=e("./lib/lang"),g=e("./lib/oop"),o=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(i){return g.mixin(this.$options,i),this},this.getOptions=function(){return u.copyObject(this.$options)},this.setOptions=function(i){this.$options=i},this.find=function(i){var t=this.$options,n=this.$matchIterator(i,t);if(!n)return!1;var s=null;return n.forEach(function(l,f,v,S){return s=new o(l,f,v,S),f==S&&t.start&&t.start.start&&t.skipCurrent!=!1&&s.isEqual(t.start)?(s=null,!1):!0}),s},this.findAll=function(i){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,s=n?i.getLines(n.start.row,n.end.row):i.doc.getAllLines(),l=[],f=t.re;if(t.$isMultiLine){var v=f.length,S=s.length-v,A;e:for(var C=f.offset||0;C<=S;C++){for(var $=0;$<v;$++)if(s[C+$].search(f[$])==-1)continue e;var p=s[C],y=s[C+v-1],w=p.length-p.match(f[0])[0].length,m=y.match(f[v-1])[0].length;A&&A.end.row===C&&A.end.column>w||(l.push(A=new o(C,w,C+v-1,m)),v>2&&(C=C+v-2))}}else for(var b=0;b<s.length;b++)for(var d=u.getMatchOffsets(s[b],f),$=0;$<d.length;$++){var _=d[$];l.push(new o(b,_.offset,b,_.offset+_.length))}if(n){for(var k=n.start.column,L=n.start.column,b=0,$=l.length-1;b<$&&l[b].start.column<k&&l[b].start.row==n.start.row;)b++;for(;b<$&&l[$].end.column>L&&l[$].end.row==n.end.row;)$--;for(l=l.slice(b,$+1),b=0,$=l.length;b<$;b++)l[b].start.row+=n.start.row,l[b].end.row+=n.start.row}return l},this.replace=function(i,t){var n=this.$options,s=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!!s){var l=s.exec(i);if(!l||l[0].length!=i.length)return null;if(t=i.replace(s,t),n.preserveCase){t=t.split("");for(var f=Math.min(i.length,i.length);f--;){var v=i[f];v&&v.toLowerCase()!=v?t[f]=t[f].toUpperCase():t[f]=t[f].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(i,t){if(i.needle instanceof RegExp)return i.re=i.needle;var n=i.needle;if(!i.needle)return i.re=!1;i.regExp||(n=u.escapeRegExp(n)),i.wholeWord&&(n=h(n,i));var s=i.caseSensitive?"gm":"gmi";if(i.$isMultiLine=!t&&/[\n\r]/.test(n),i.$isMultiLine)return i.re=this.$assembleMultilineRegExp(n,s);try{var l=new RegExp(n,s)}catch(f){l=!1}return i.re=l},this.$assembleMultilineRegExp=function(i,t){for(var n=i.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),s=[],l=0;l<n.length;l++)try{s.push(new RegExp(n[l],t))}catch(f){return!1}return s},this.$matchIterator=function(i,t){var n=this.$assembleRegExp(t);if(!n)return!1;var s=t.backwards==!0,l=t.skipCurrent!=!1,f=t.range,v=t.start;v||(v=f?f[s?"end":"start"]:i.selection.getRange()),v.start&&(v=v[l!=s?"end":"start"]);var S=f?f.start.row:0,A=f?f.end.row:i.getLength()-1;if(s)var C=function(y){var w=v.row;if(!p(w,v.column,y)){for(w--;w>=S;w--)if(p(w,Number.MAX_VALUE,y))return;if(t.wrap!=!1){for(w=A,S=v.row;w>=S;w--)if(p(w,Number.MAX_VALUE,y))return}}};else var C=function(w){var m=v.row;if(!p(m,v.column,w)){for(m=m+1;m<=A;m++)if(p(m,0,w))return;if(t.wrap!=!1){for(m=S,A=v.row;m<=A;m++)if(p(m,0,w))return}}};if(t.$isMultiLine)var $=n.length,p=function(y,w,m){var b=s?y-$+1:y;if(!(b<0||b+$>i.getLength())){var d=i.getLine(b),_=d.search(n[0]);if(!(!s&&_<w||_===-1)){for(var k=1;k<$;k++)if(d=i.getLine(b+k),d.search(n[k])==-1)return;var L=d.match(n[$-1])[0].length;if(!(s&&L>w)&&m(b,_,b+$-1,L))return!0}}};else if(s)var p=function(w,m,b){var d=i.getLine(w),_=[],k,L=0;for(n.lastIndex=0;k=n.exec(d);){var E=k[0].length;if(L=k.index,!E){if(L>=d.length)break;n.lastIndex=L+=1}if(k.index+E>m)break;_.push(k.index,E)}for(var R=_.length-1;R>=0;R-=2){var x=_[R-1],E=_[R];if(b(w,x,w,x+E))return!0}};else var p=function(w,m,b){var d=i.getLine(w),_,k;for(n.lastIndex=m;k=n.exec(d);){var L=k[0].length;if(_=k.index,b(w,_,w,_+L))return!0;if(!L&&(n.lastIndex=_+=1,_>=d.length))return!1}};return{forEach:C}}}).call(a.prototype);function h(i,t){function n(s){return/\w/.test(s)||t.regExp?"\\b":""}return n(i[0])+i+n(i[i.length-1])}r.Search=a});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("../lib/keys"),g=e("../lib/useragent"),o=u.KEY_MODS;function a(i,t){this.platform=t||(g.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(i),this.$singleCommand=!0}function h(i,t){a.call(this,i,t),this.$singleCommand=!1}h.prototype=a.prototype,function(){this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,n){var s=t&&(typeof t=="string"?t:t.name);t=this.commands[s],n||delete this.commands[s];var l=this.commandKeyBinding;for(var f in l){var v=l[f];if(v==t)delete l[f];else if(Array.isArray(v)){var S=v.indexOf(t);S!=-1&&(v.splice(S,1),v.length==1&&(l[f]=v[0]))}}},this.bindKey=function(t,n,s){if(typeof t=="object"&&t&&(s==null&&(s=t.position),t=t[this.platform]),!!t){if(typeof n=="function")return this.addCommand({exec:n,bindKey:t,name:n.name||t});t.split("|").forEach(function(l){var f="";if(l.indexOf(" ")!=-1){var v=l.split(/\s+/);l=v.pop(),v.forEach(function(C){var $=this.parseKeys(C),p=o[$.hashId]+$.key;f+=(f?" ":"")+p,this._addCommandToBinding(f,"chainKeys")},this),f+=" "}var S=this.parseKeys(l),A=o[S.hashId]+S.key;this._addCommandToBinding(f+A,n,s)},this)}};function i(t){return typeof t=="object"&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this._addCommandToBinding=function(t,n,s){var l=this.commandKeyBinding,f;if(!n)delete l[t];else if(!l[t]||this.$singleCommand)l[t]=n;else{Array.isArray(l[t])?(f=l[t].indexOf(n))!=-1&&l[t].splice(f,1):l[t]=[l[t]],typeof s!="number"&&(s=i(n));var v=l[t];for(f=0;f<v.length;f++){var S=v[f],A=i(S);if(A>s)break}v.splice(f,0,n)}},this.addCommands=function(t){t&&Object.keys(t).forEach(function(n){var s=t[n];if(!!s){if(typeof s=="string")return this.bindKey(s,n);typeof s=="function"&&(s={exec:s}),typeof s=="object"&&(s.name||(s.name=n),this.addCommand(s))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(n){this.removeCommand(t[n])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(n){this.bindKey(n,t[n])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var n=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(A){return A}),s=n.pop(),l=u[s];if(u.FUNCTION_KEYS[l])s=u.FUNCTION_KEYS[l].toLowerCase();else if(n.length){if(n.length==1&&n[0]=="shift")return{key:s.toUpperCase(),hashId:-1}}else return{key:s,hashId:-1};for(var f=0,v=n.length;v--;){var S=u.KEY_MODS[n[v]];if(S==null)return typeof console!="undefined"&&console.error("invalid modifier "+n[v]+" in "+t),!1;f|=S}return{key:s,hashId:f}},this.findKeyCommand=function(n,s){var l=o[n]+s;return this.commandKeyBinding[l]},this.handleKeyboard=function(t,n,s,l){if(!(l<0)){var f=o[n]+s,v=this.commandKeyBinding[f];return t.$keyChain&&(t.$keyChain+=" "+f,v=this.commandKeyBinding[t.$keyChain]||v),v&&(v=="chainKeys"||v[v.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||f,{command:"null"}):(t.$keyChain&&((!n||n==4)&&s.length==1?t.$keyChain=t.$keyChain.slice(0,-f.length-1):(n==-1||l>0)&&(t.$keyChain="")),{command:v})}},this.getStatusText=function(t,n){return n.$keyChain||""}}.call(a.prototype),r.HashHandler=a,r.MultiHashHandler=h});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,r,c){"use strict";var u=e("../lib/oop"),g=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,a=function(h,i){g.call(this,i,h),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};u.inherits(a,g),function(){u.implement(this,o),this.exec=function(h,i,t){if(Array.isArray(h)){for(var n=h.length;n--;)if(this.exec(h[n],i,t))return!0;return!1}if(typeof h=="string"&&(h=this.commands[h]),!h||i&&i.$readOnly&&!h.readOnly||this.$checkCommandState!=!1&&h.isAvailable&&!h.isAvailable(i))return!1;var s={editor:i,command:h,args:t};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),s.returnValue!==!1},this.toggleRecording=function(h){if(!this.$inReplay)return h&&h._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(i){this.macro.push([i.command,i.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(h){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(h);try{this.$inReplay=!0,this.macro.forEach(function(i){typeof i=="string"?this.exec(i,h):this.exec(i[0],h,i[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(h){return h.map(function(i){return typeof i[0]!="string"&&(i[0]=i[0].name),i[1]||(i=i[0]),i})}}.call(a.prototype),r.CommandManager=a});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,r,c){"use strict";var u=e("../lib/lang"),g=e("../config"),o=e("../range").Range;function a(i,t){return{win:i,mac:t}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(i){g.loadModule("ace/ext/settings_menu",function(t){t.init(i),i.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(i){g.loadModule("./ext/error_marker",function(t){t.showErrorMarker(i,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(i){g.loadModule("./ext/error_marker",function(t){t.showErrorMarker(i,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(i){i.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(i){i.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(i,t){typeof t=="number"&&!isNaN(t)&&i.gotoLine(t),i.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(i){i.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(i){i.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(i){i.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(i){i.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(i){i.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(i){i.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(i){i.session.foldAll(),i.session.unfold(i.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(i){i.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(i){i.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(i){i.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(i){i.selection.isEmpty()?i.selection.selectWord():i.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(i){i.selection.isEmpty()?i.selection.selectWord():i.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(i){g.loadModule("ace/ext/searchbox",function(t){t.Search(i)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(i){i.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(i){i.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(i){i.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(i){i.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(i,t){i.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(i){i.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(i){i.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(i){i.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(i,t){i.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(i){i.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(i){i.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(i){i.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(i){i.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(i){i.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(i,t){i.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(i){i.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(i){i.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(i){i.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(i){i.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(i){i.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(i,t){i.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(i){i.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(i){i.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(i){i.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(i){i.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(i){i.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(i){i.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(i){i.renderer.scrollBy(0,-2*i.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(i){i.renderer.scrollBy(0,2*i.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(i){i.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(i){i.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(i){i.commands.toggleRecording(i)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(i){i.commands.replay(i)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(i){i.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(i){i.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(i){i.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(i){},readOnly:!0},{name:"cut",description:"Cut",exec:function(i){var t=i.$copyWithEmptySelection&&i.selection.isEmpty(),n=t?i.selection.getLineRange():i.selection.getRange();i._emit("cut",n),n.isEmpty()||i.session.remove(n),i.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(i,t){i.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(i){i.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(i){i.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(i){i.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(i){i.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(i){i.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(i){i.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(i){i.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(i){g.loadModule("ace/ext/searchbox",function(t){t.Search(i,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(i){i.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(i){i.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(i){i.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(i){i.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(i){i.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(i){i.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(i){i.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(i){i.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(i){if(i.selection.isEmpty())i.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(i){i.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(i){i.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(i){var t=i.selection.getRange();t.start.column=0,i.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(i){var t=i.selection.getRange();t.end.column=Number.MAX_VALUE,i.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(i){i.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(i){i.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(i){i.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(i){i.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(i){i.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(i){i.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(i,t){i.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(i,t){i.insert(u.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(i){i.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(i){i.transposeLetters()},multiSelectAction:function(i){i.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(i){i.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(i){i.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(i){i.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(i){var t=i.selection.getRange();t.start.column=t.end.column=0,t.end.row++,i.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(i){for(var t=i.selection.isBackwards(),n=t?i.selection.getSelectionLead():i.selection.getSelectionAnchor(),s=t?i.selection.getSelectionAnchor():i.selection.getSelectionLead(),l=i.session.doc.getLine(n.row).length,f=i.session.doc.getTextRange(i.selection.getRange()),v=f.replace(/\n\s*/," ").length,S=i.session.doc.getLine(n.row),A=n.row+1;A<=s.row+1;A++){var C=u.stringTrimLeft(u.stringTrimRight(i.session.doc.getLine(A)));C.length!==0&&(C=" "+C),S+=C}s.row+1<i.session.doc.getLength()-1&&(S+=i.session.doc.getNewLineCharacter()),i.clearSelection(),i.session.doc.replace(new o(n.row,0,s.row+2,0),S),v>0?(i.selection.moveCursorTo(n.row,n.column),i.selection.selectTo(n.row,n.column+v)):(l=i.session.doc.getLine(n.row).length>l?l+1:l,i.selection.moveCursorTo(n.row,l))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(i){var t=i.session.doc.getLength()-1,n=i.session.doc.getLine(t).length,s=i.selection.rangeList.ranges,l=[];s.length<1&&(s=[i.selection.getRange()]);for(var f=0;f<s.length;f++)f==s.length-1&&(s[f].end.row===t&&s[f].end.column===n||l.push(new o(s[f].end.row,s[f].end.column,t,n))),f===0?s[f].start.row===0&&s[f].start.column===0||l.push(new o(0,0,s[f].start.row,s[f].start.column)):l.push(new o(s[f-1].end.row,s[f-1].end.column,s[f].start.row,s[f].start.column));i.exitMultiSelectMode(),i.clearSelection();for(var f=0;f<l.length;f++)i.selection.addRange(l[f],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(i){i.selection.clearSelection(),i.navigateLineEnd(),i.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(i){i.selection.clearSelection();var t=i.getCursorPosition();i.selection.moveTo(t.row-1,Number.MAX_VALUE),i.insert(`
`),t.row===0&&i.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:a("F1","F1"),exec:function(i){i.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(i){i.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)r.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(i){i.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,r,c){"use strict";e("./lib/fixoldbrowsers");var u=e("./lib/oop"),g=e("./lib/dom"),o=e("./lib/lang"),a=e("./lib/useragent"),h=e("./keyboard/textinput").TextInput,i=e("./mouse/mouse_handler").MouseHandler,t=e("./mouse/fold_handler").FoldHandler,n=e("./keyboard/keybinding").KeyBinding,s=e("./edit_session").EditSession,l=e("./search").Search,f=e("./range").Range,v=e("./lib/event_emitter").EventEmitter,S=e("./commands/command_manager").CommandManager,A=e("./commands/default_commands").commands,C=e("./config"),$=e("./token_iterator").TokenIterator,p=e("./clipboard"),y=function(m,b,d){this.$toDestroy=[];var _=m.getContainerElement();this.container=_,this.renderer=m,this.id="editor"+ ++y.$uid,this.commands=new S(a.isMac?"mac":"win",A),typeof document=="object"&&(this.textInput=new h(m.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new t(this)),this.keyBinding=new n(this),this.$search=new l().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(k,L){L._$emitInputEvent.schedule(31)}),this.setSession(b||d&&d.session||new s("")),C.resetOptions(this),d&&this.setOptions(d),C._signal("editor",this)};y.$uid=0,function(){u.implement(this,v),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(m){if(this.curOp){if(!m||this.curOp.command)return;this.prevOp=this.curOp}m||(this.previousCommand=null,m={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:m.command||{},args:m.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(m){if(this.curOp&&this.session){if(m&&m.returnValue===!1||!this.session)return this.curOp=null;if(m==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var b=this.curOp.command,d=b&&b.scrollIntoView;if(d){switch(d){case"center-animate":d="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var _=this.selection.getRange(),k=this.renderer.layerConfig;(_.start.row>=k.lastRow||_.end.row<=k.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}d=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var L=this.selection.toJSON();this.curOp.selectionAfter=L,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(L),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(m){if(!!this.$mergeUndoDeltas){var b=this.prevOp,d=this.$mergeableCommands,_=b.command&&m.command.name==b.command.name;if(m.command.name=="insertstring"){var k=m.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),_=_&&this.mergeNextCommand&&(!/\s/.test(k)||/\s/.test(b.args)),this.mergeNextCommand=!0}else _=_&&d.indexOf(m.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(_=!1),_?this.session.mergeUndoDeltas=!0:d.indexOf(m.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(m,b){if(m&&typeof m=="string"&&m!="ace"){this.$keybindingId=m;var d=this;C.loadModule(["keybinding",m],function(_){d.$keybindingId==m&&d.keyBinding.setKeyboardHandler(_&&_.handler),b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(m),b&&b()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(m){if(this.session!=m){this.curOp&&this.endOperation(),this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var d=this.session.getSelection();d.off("changeCursor",this.$onCursorChange),d.off("changeSelection",this.$onSelectionChange)}this.session=m,m?(this.$onDocumentChange=this.onDocumentChange.bind(this),m.on("change",this.$onDocumentChange),this.renderer.setSession(m),this.$onChangeMode=this.onChangeMode.bind(this),m.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),m.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),m.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),m.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),m.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),m.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=m.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(m)),this._signal("changeSession",{session:m,oldSession:b}),this.curOp=null,b&&b._signal("changeEditor",{oldEditor:this}),m&&m._signal("changeEditor",{editor:this}),m&&m.bgTokenizer&&m.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(m,b){return this.session.doc.setValue(m),b?b==1?this.navigateFileEnd():b==-1&&this.navigateFileStart():this.selectAll(),m},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(m){this.renderer.onResize(m)},this.setTheme=function(m,b){this.renderer.setTheme(m,b)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(m){this.renderer.setStyle(m)},this.unsetStyle=function(m){this.renderer.unsetStyle(m)},this.getFontSize=function(){return this.getOption("fontSize")||g.computedStyle(this.container).fontSize},this.setFontSize=function(m){this.setOption("fontSize",m)},this.$highlightBrackets=function(){if(!this.$highlightPending){var m=this;this.$highlightPending=!0,setTimeout(function(){m.$highlightPending=!1;var b=m.session;if(!(!b||!b.bgTokenizer)){b.$bracketHighlight&&(b.$bracketHighlight.markerIds.forEach(function(k){b.removeMarker(k)}),b.$bracketHighlight=null);var d=b.getMatchingBracketRanges(m.getCursorPosition());if(!d&&b.$mode.getMatching&&(d=b.$mode.getMatching(m.session)),!!d){var _="ace_bracket";Array.isArray(d)?d.length==1&&(_="ace_error_bracket"):d=[d],d.length==2&&(f.comparePoints(d[0].end,d[1].start)==0?d=[f.fromPoints(d[0].start,d[1].end)]:f.comparePoints(d[0].start,d[1].end)==0&&(d=[f.fromPoints(d[1].start,d[0].end)])),b.$bracketHighlight={ranges:d,markerIds:d.map(function(k){return b.addMarker(k,_,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var m=this;this.$highlightTagPending=!0,setTimeout(function(){m.$highlightTagPending=!1;var b=m.session;if(!(!b||!b.bgTokenizer)){var d=m.getCursorPosition(),_=new $(m.session,d.row,d.column),k=_.getCurrentToken();if(!k||!/\b(?:tag-open|tag-name)/.test(k.type)){b.removeMarker(b.$tagHighlight),b.$tagHighlight=null;return}if(!(k.type.indexOf("tag-open")!==-1&&(k=_.stepForward(),!k))){var L=k.value,E=k.value,R=0,x=_.stepBackward();if(x.value==="<")do x=k,k=_.stepForward(),k&&(k.type.indexOf("tag-name")!==-1?(E=k.value,L===E&&(x.value==="<"?R++:x.value==="</"&&R--)):L===E&&k.value==="/>"&&R--);while(k&&R>=0);else{do if(k=x,x=_.stepBackward(),k){if(k.type.indexOf("tag-name")!==-1)L===k.value&&(x.value==="<"?R++:x.value==="</"&&R--);else if(k.value==="/>"){for(var O=0,T=x;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===L){R--;break}else if(T.value==="<")break;T=_.stepBackward(),O++}for(var F=0;F<O;F++)_.stepForward()}}while(x&&R<=0);_.stepForward()}if(!k){b.removeMarker(b.$tagHighlight),b.$tagHighlight=null;return}var I=_.getCurrentTokenRow(),M=_.getCurrentTokenColumn(),W=new f(I,M,I,M+k.value.length),D=b.$backMarkers[b.$tagHighlight];b.$tagHighlight&&D!=null&&W.compareRange(D.range)!==0&&(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null),b.$tagHighlight||(b.$tagHighlight=b.addMarker(W,"ace_bracket","text"))}}},50)}},this.focus=function(){var m=this;setTimeout(function(){m.isFocused()||m.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(m){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",m))},this.onBlur=function(m){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",m))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(m){var b=this.session.$useWrapMode,d=m.start.row==m.end.row?m.end.row:1/0;this.renderer.updateLines(m.start.row,d,b),this._signal("change",m),this.$cursorChange()},this.onTokenizerUpdate=function(m){var b=m.data;this.renderer.updateLines(b.first,b.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var m=this.getSession(),b;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(b=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(b=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(b=!1)),m.$highlightLineMarker&&!b)m.removeMarker(m.$highlightLineMarker.id),m.$highlightLineMarker=null;else if(!m.$highlightLineMarker&&b){var d=new f(b.row,b.column,b.row,1/0);d.id=m.addMarker(d,"ace_active-line","screenLine"),m.$highlightLineMarker=d}else b&&(m.$highlightLineMarker.start.row=b.row,m.$highlightLineMarker.end.row=b.row,m.$highlightLineMarker.start.column=b.column,m._signal("changeBackMarker"))},this.onSelectionChange=function(m){var b=this.session;if(b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var d=this.selection.getRange(),_=this.getSelectionStyle();b.$selectionMarker=b.addMarker(d,"ace_selection",_)}var k=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(k),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var m=this.session,b=this.getSelectionRange();if(!(b.isEmpty()||b.isMultiLine())){var d=b.start.column,_=b.end.column,k=m.getLine(b.start.row),L=k.substring(d,_);if(!(L.length>5e3||!/[\w\d]/.test(L))){var E=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:L}),R=k.substring(d-1,_+1);if(!!E.test(R))return E}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(m){this.renderer.updateText(),this._emit("changeMode",m)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var m=this.getSelectedText(),b=this.session.doc.getNewLineCharacter(),d=!1;if(!m&&this.$copyWithEmptySelection){d=!0;for(var _=this.selection.getAllRanges(),k=0;k<_.length;k++){var L=_[k];k&&_[k-1].start.row==L.start.row||(m+=this.session.getLine(L.start.row)+b)}}var E={text:m};return this._signal("copy",E),p.lineMode=d?E.text:!1,E.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(m,b){var d={text:m,event:b};this.commands.exec("paste",this,d)},this.$handlePaste=function(m){typeof m=="string"&&(m={text:m}),this._signal("paste",m);var b=m.text,d=b===p.lineMode,_=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)d?_.insert({row:this.selection.lead.row,column:0},b):this.insert(b);else if(d)this.selection.rangeList.ranges.forEach(function(O){_.insert({row:O.start.row,column:0},b)});else{var k=b.split(/\r\n|\r|\n/),L=this.selection.rangeList.ranges,E=k.length==2&&(!k[0]||!k[1]);if(k.length!=L.length||E)return this.commands.exec("insertstring",this,b);for(var R=L.length;R--;){var x=L[R];x.isEmpty()||_.remove(x),_.insert(x.start,k[R])}}},this.execCommand=function(m,b){return this.commands.exec(m,this,b)},this.insert=function(m,b){var d=this.session,_=d.getMode(),k=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var L=_.transformAction(d.getState(k.row),"insertion",this,d,m);L&&(m!==L.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),m=L.text)}if(m=="	"&&(m=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&m.indexOf(`
`)==-1){var E=new f.fromPoints(k,k);E.end.column+=m.length,this.session.remove(E)}}else{var E=this.getSelectionRange();k=this.session.remove(E),this.clearSelection()}if(m==`
`||m==`\r
`){var T=d.getLine(k.row);if(k.column>T.search(/\S|$/)){var R=T.substr(k.column).search(/\S|$/);d.doc.removeInLine(k.row,k.column,k.column+R)}}this.clearSelection();var x=k.column,O=d.getState(k.row),T=d.getLine(k.row),F=_.checkOutdent(O,T,m);if(d.insert(k,m),L&&L.selection&&(L.selection.length==2?this.selection.setSelectionRange(new f(k.row,x+L.selection[0],k.row,x+L.selection[1])):this.selection.setSelectionRange(new f(k.row+L.selection[0],L.selection[1],k.row+L.selection[2],L.selection[3]))),this.$enableAutoIndent){if(d.getDocument().isNewLine(m)){var I=_.getNextLineIndent(O,T.slice(0,k.column),d.getTabString());d.insert({row:k.row+1,column:0},I)}F&&_.autoOutdent(O,d,k.row)}},this.autoIndent=function(){var m=this.session,b=m.getMode(),d,_;if(this.selection.isEmpty())d=0,_=m.doc.getLength()-1;else{var k=this.getSelectionRange();d=k.start.row,_=k.end.row}for(var L="",E="",R="",x,O,T,F=m.getTabString(),I=d;I<=_;I++)I>0&&(L=m.getState(I-1),E=m.getLine(I-1),R=b.getNextLineIndent(L,E,F)),x=m.getLine(I),O=b.$getIndent(x),R!==O&&(O.length>0&&(T=new f(I,0,I,O.length),m.remove(T)),R.length>0&&m.insert({row:I,column:0},R)),b.autoOutdent(L,m,I)},this.onTextInput=function(m,b){if(!b)return this.keyBinding.onTextInput(m);this.startOperation({command:{name:"insertstring"}});var d=this.applyComposition.bind(this,m,b);this.selection.rangeCount?this.forEachSelection(d):d(),this.endOperation()},this.applyComposition=function(m,b){if(b.extendLeft||b.extendRight){var d=this.selection.getRange();d.start.column-=b.extendLeft,d.end.column+=b.extendRight,d.start.column<0&&(d.start.row--,d.start.column+=this.session.getLine(d.start.row).length+1),this.selection.setRange(d),!m&&!d.isEmpty()&&this.remove()}if((m||!this.selection.isEmpty())&&this.insert(m,!0),b.restoreStart||b.restoreEnd){var d=this.selection.getRange();d.start.column-=b.restoreStart,d.end.column-=b.restoreEnd,this.selection.setRange(d)}},this.onCommandKey=function(m,b,d){return this.keyBinding.onCommandKey(m,b,d)},this.setOverwrite=function(m){this.session.setOverwrite(m)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(m){this.setOption("scrollSpeed",m)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(m){this.setOption("dragDelay",m)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(m){this.setOption("selectionStyle",m)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(m){this.setOption("highlightActiveLine",m)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(m){this.setOption("highlightGutterLine",m)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(m){this.setOption("highlightSelectedWord",m)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(m){this.renderer.setAnimatedScroll(m)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(m){this.renderer.setShowInvisibles(m)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(m){this.renderer.setDisplayIndentGuides(m)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(m){this.renderer.setShowPrintMargin(m)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(m){this.renderer.setPrintMarginColumn(m)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(m){this.setOption("readOnly",m)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(m){this.setOption("behavioursEnabled",m)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(m){this.setOption("wrapBehavioursEnabled",m)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(m){this.setOption("showFoldWidgets",m)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(m){this.setOption("fadeFoldWidgets",m)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(m){this.selection.isEmpty()&&(m=="left"?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var d=this.session,_=d.getState(b.start.row),k=d.getMode().transformAction(_,"deletion",this,d,b);if(b.end.column===0){var L=d.getTextRange(b);if(L[L.length-1]==`
`){var E=d.getLine(b.end.row);/^\s+$/.test(E)&&(b.end.column=E.length)}}k&&(b=k)}this.session.remove(b),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var m=this.getSelectionRange();m.start.column==m.end.column&&m.start.row==m.end.row&&(m.end.column=0,m.end.row++),this.session.remove(m),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var m=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(m)},this.transposeLetters=function(){if(!!this.selection.isEmpty()){var m=this.getCursorPosition(),b=m.column;if(b!==0){var d=this.session.getLine(m.row),_,k;b<d.length?(_=d.charAt(b)+d.charAt(b-1),k=new f(m.row,b-1,m.row,b+1)):(_=d.charAt(b-1)+d.charAt(b-2),k=new f(m.row,b-2,m.row,b)),this.session.replace(k,_),this.session.selection.moveToPosition(k.end)}}},this.toLowerCase=function(){var m=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),d=this.session.getTextRange(b);this.session.replace(b,d.toLowerCase()),this.selection.setSelectionRange(m)},this.toUpperCase=function(){var m=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),d=this.session.getTextRange(b);this.session.replace(b,d.toUpperCase()),this.selection.setSelectionRange(m)},this.indent=function(){var m=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row){var d=this.$getSelectedRows();m.indentRows(d.first,d.last,"	");return}else if(b.start.column<b.end.column){var _=m.getTextRange(b);if(!/^\s+$/.test(_)){var d=this.$getSelectedRows();m.indentRows(d.first,d.last,"	");return}}var k=m.getLine(b.start.row),L=b.start,E=m.getTabSize(),R=m.documentToScreenColumn(L.row,L.column);if(this.session.getUseSoftTabs())var x=E-R%E,O=o.stringRepeat(" ",x);else{for(var x=R%E;k[b.start.column-1]==" "&&x;)b.start.column--,x--;this.selection.setSelectionRange(b),O="	"}return this.insert(O)},this.blockIndent=function(){var m=this.$getSelectedRows();this.session.indentRows(m.first,m.last,"	")},this.blockOutdent=function(){var m=this.session.getSelection();this.session.outdentRows(m.getRange())},this.sortLines=function(){for(var m=this.$getSelectedRows(),b=this.session,d=[],_=m.first;_<=m.last;_++)d.push(b.getLine(_));d.sort(function(E,R){return E.toLowerCase()<R.toLowerCase()?-1:E.toLowerCase()>R.toLowerCase()?1:0});for(var k=new f(0,0,0,0),_=m.first;_<=m.last;_++){var L=b.getLine(_);k.start.row=_,k.end.row=_,k.end.column=L.length,b.replace(k,d[_-m.first])}},this.toggleCommentLines=function(){var m=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(m,this.session,b.first,b.last)},this.toggleBlockComment=function(){var m=this.getCursorPosition(),b=this.session.getState(m.row),d=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,d,m)},this.getNumberAt=function(m,b){var d=/[\-]?[0-9]+(?:\.[0-9]+)?/g;d.lastIndex=0;for(var _=this.session.getLine(m);d.lastIndex<b;){var k=d.exec(_);if(k.index<=b&&k.index+k[0].length>=b){var L={value:k[0],start:k.index,end:k.index+k[0].length};return L}}return null},this.modifyNumber=function(m){var b=this.selection.getCursor().row,d=this.selection.getCursor().column,_=new f(b,d-1,b,d),k=this.session.getTextRange(_);if(!isNaN(parseFloat(k))&&isFinite(k)){var L=this.getNumberAt(b,d);if(L){var E=L.value.indexOf(".")>=0?L.start+L.value.indexOf(".")+1:L.end,R=L.start+L.value.length-E,x=parseFloat(L.value);x*=Math.pow(10,R),E!==L.end&&d<E?m*=Math.pow(10,L.end-d-1):m*=Math.pow(10,L.end-d),x+=m,x/=Math.pow(10,R);var O=x.toFixed(R),T=new f(b,L.start,b,L.end);this.session.replace(T,O),this.moveCursorTo(b,Math.max(L.start+1,d+O.length-L.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var m=this.selection.getCursor().row,b=this.selection.getCursor().column;this.selection.selectWord();var d=this.getSelectedText(),_=this.selection.getWordRange().start.column,k=d.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),L=b-_-1;L<0&&(L=0);var E=0,R=0,x=this;d.match(/[A-Za-z0-9_]+/)&&k.forEach(function(V,ie){R=E+V.length,L>=E&&L<=R&&(d=V,x.selection.clearSelection(),x.moveCursorTo(m,E+_),x.selection.selectTo(m,R+_)),E=R});for(var O=this.$toggleWordPairs,T,F=0;F<O.length;F++)for(var I=O[F],M=0;M<=1;M++){var W=+!M,D=d.match(new RegExp("^\\s?_?("+o.escapeRegExp(I[M])+")\\s?$","i"));if(D){var K=d.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(D[1])+")($|\\s)","g"));K&&(T=d.replace(new RegExp(o.escapeRegExp(I[M]),"i"),function(V){var ie=I[W];return V.toUpperCase()==V?ie=ie.toUpperCase():V.charAt(0).toUpperCase()==V.charAt(0)&&(ie=ie.substr(0,0)+I[W].charAt(0).toUpperCase()+ie.substr(1)),ie}),this.insert(T),T="")}}},this.removeLines=function(){var m=this.$getSelectedRows();this.session.removeFullLines(m.first,m.last),this.clearSelection()},this.duplicateSelection=function(){var m=this.selection,b=this.session,d=m.getRange(),_=m.isBackwards();if(d.isEmpty()){var k=d.start.row;b.duplicateLines(k,k)}else{var L=_?d.start:d.end,E=b.insert(L,b.getTextRange(d),!1);d.start=L,d.end=E,m.setSelectionRange(d,_)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(m,b,d){return this.session.moveText(m,b,d)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(m,b){var d,_,k=this.selection;if(!k.inMultiSelectMode||this.inVirtualSelectionMode){var L=k.toOrientedRange();d=this.$getSelectedRows(L),_=this.session.$moveLines(d.first,d.last,b?0:m),b&&m==-1&&(_=0),L.moveBy(_,0),k.fromOrientedRange(L)}else{var E=k.rangeList.ranges;k.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var R=0,x=0,O=E.length,T=0;T<O;T++){var F=T;E[T].moveBy(R,0),d=this.$getSelectedRows(E[T]);for(var I=d.first,M=d.last;++T<O;){x&&E[T].moveBy(x,0);var W=this.$getSelectedRows(E[T]);if(b&&W.first!=M)break;if(!b&&W.first>M+1)break;M=W.last}for(T--,R=this.session.$moveLines(I,M,b?0:m),b&&m==-1&&(F=T+1);F<=T;)E[F].moveBy(R,0),F++;b||(R=0),x+=R}k.fromOrientedRange(k.ranges[0]),k.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(m){return m=(m||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(m.start.row),last:this.session.getRowFoldEnd(m.end.row)}},this.onCompositionStart=function(m){this.renderer.showComposition(m)},this.onCompositionUpdate=function(m){this.renderer.setCompositionText(m)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(m){return m>=this.getFirstVisibleRow()&&m<=this.getLastVisibleRow()},this.isRowFullyVisible=function(m){return m>=this.renderer.getFirstFullyVisibleRow()&&m<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(m,b){var d=this.renderer,_=this.renderer.layerConfig,k=m*Math.floor(_.height/_.lineHeight);b===!0?this.selection.$moveSelection(function(){this.moveCursorBy(k,0)}):b===!1&&(this.selection.moveCursorBy(k,0),this.selection.clearSelection());var L=d.scrollTop;d.scrollBy(0,k*_.lineHeight),b!=null&&d.scrollCursorIntoView(null,.5),d.animateScrolling(L)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(m){this.renderer.scrollToRow(m)},this.scrollToLine=function(m,b,d,_){this.renderer.scrollToLine(m,b,d,_)},this.centerSelection=function(){var m=this.getSelectionRange(),b={row:Math.floor(m.start.row+(m.end.row-m.start.row)/2),column:Math.floor(m.start.column+(m.end.column-m.start.column)/2)};this.renderer.alignCursor(b,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(m,b){this.selection.moveCursorTo(m,b)},this.moveCursorToPosition=function(m){this.selection.moveCursorToPosition(m)},this.jumpToMatching=function(m,b){var d=this.getCursorPosition(),_=new $(this.session,d.row,d.column),k=_.getCurrentToken(),L=k||_.stepForward();if(!!L){var E,R=!1,x={},O=d.column-L.start,T,F={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(L.value.match(/[{}()\[\]]/g)){for(;O<L.value.length&&!R;O++)if(!!F[L.value[O]])switch(T=F[L.value[O]]+"."+L.type.replace("rparen","lparen"),isNaN(x[T])&&(x[T]=0),L.value[O]){case"(":case"[":case"{":x[T]++;break;case")":case"]":case"}":x[T]--,x[T]===-1&&(E="bracket",R=!0);break}}else L.type.indexOf("tag-name")!==-1&&(isNaN(x[L.value])&&(x[L.value]=0),k.value==="<"?x[L.value]++:k.value==="</"&&x[L.value]--,x[L.value]===-1&&(E="tag",R=!0));R||(k=L,L=_.stepForward(),O=0)}while(L&&!R);if(!!E){var I,M;if(E==="bracket")I=this.session.getBracketRange(d),I||(I=new f(_.getCurrentTokenRow(),_.getCurrentTokenColumn()+O-1,_.getCurrentTokenRow(),_.getCurrentTokenColumn()+O-1),M=I.start,(b||M.row===d.row&&Math.abs(M.column-d.column)<2)&&(I=this.session.getBracketRange(M)));else if(E==="tag"){if(L&&L.type.indexOf("tag-name")!==-1)var W=L.value;else return;if(I=new f(_.getCurrentTokenRow(),_.getCurrentTokenColumn()-2,_.getCurrentTokenRow(),_.getCurrentTokenColumn()-2),I.compare(d.row,d.column)===0){R=!1;do L=k,k=_.stepBackward(),k&&(k.type.indexOf("tag-close")!==-1&&I.setEnd(_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1),L.value===W&&L.type.indexOf("tag-name")!==-1&&(k.value==="<"?x[W]++:k.value==="</"&&x[W]--,x[W]===0&&(R=!0)));while(k&&!R)}L&&L.type.indexOf("tag-name")&&(M=I.start,M.row==d.row&&Math.abs(M.column-d.column)<2&&(M=I.end))}M=I&&I.cursor||M,M&&(m?I&&b?this.selection.setRange(I):I&&I.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(M.row,M.column):this.selection.moveTo(M.row,M.column))}}},this.gotoLine=function(m,b,d){this.selection.clearSelection(),this.session.unfold({row:m-1,column:b||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(m-1,b||0),this.isRowFullyVisible(m-1)||this.scrollToLine(m-1,!0,d)},this.navigateTo=function(m,b){this.selection.moveTo(m,b)},this.navigateUp=function(m){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(-m||-1,0)},this.navigateDown=function(m){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(m||1,0)},this.navigateLeft=function(m){if(this.selection.isEmpty())for(m=m||1;m--;)this.selection.moveCursorLeft();else{var b=this.getSelectionRange().start;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateRight=function(m){if(this.selection.isEmpty())for(m=m||1;m--;)this.selection.moveCursorRight();else{var b=this.getSelectionRange().end;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(m,b){b&&this.$search.set(b);var d=this.$search.find(this.session),_=0;return d&&(this.$tryReplace(d,m)&&(_=1),this.selection.setSelectionRange(d),this.renderer.scrollSelectionIntoView(d.start,d.end)),_},this.replaceAll=function(m,b){b&&this.$search.set(b);var d=this.$search.findAll(this.session),_=0;if(!d.length)return _;var k=this.getSelectionRange();this.selection.moveTo(0,0);for(var L=d.length-1;L>=0;--L)this.$tryReplace(d[L],m)&&_++;return this.selection.setSelectionRange(k),_},this.$tryReplace=function(m,b){var d=this.session.getTextRange(m);return b=this.$search.replace(d,b),b!==null?(m.end=this.session.replace(m,b),m):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(m,b,d){b||(b={}),typeof m=="string"||m instanceof RegExp?b.needle=m:typeof m=="object"&&u.mixin(b,m);var _=this.selection.getRange();b.needle==null&&(m=this.session.getTextRange(_)||this.$search.$options.needle,m||(_=this.session.getWordRange(_.start.row,_.start.column),m=this.session.getTextRange(_)),this.$search.set({needle:m})),this.$search.set(b),b.start||this.$search.set({start:_});var k=this.$search.find(this.session);if(b.preventScroll)return k;if(k)return this.revealRange(k,d),k;b.backwards?_.start=_.end:_.end=_.start,this.selection.setRange(_)},this.findNext=function(m,b){this.find({skipCurrent:!0,backwards:!1},m,b)},this.findPrevious=function(m,b){this.find(m,{skipCurrent:!0,backwards:!0},b)},this.revealRange=function(m,b){this.session.unfold(m),this.selection.setSelectionRange(m);var d=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(m.start,m.end,.5),b!==!1&&this.renderer.animateScrolling(d)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(m){m.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(m){if(!!m){var b,d=this,_=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var k=this.$scrollAnchor;k.style.cssText="position:absolute",this.container.insertBefore(k,this.container.firstChild);var L=this.on("changeSelection",function(){_=!0}),E=this.renderer.on("beforeRender",function(){_&&(b=d.renderer.container.getBoundingClientRect())}),R=this.renderer.on("afterRender",function(){if(_&&b&&(d.isFocused()||d.searchBox&&d.searchBox.isFocused())){var x=d.renderer,O=x.$cursorLayer.$pixelPos,T=x.layerConfig,F=O.top-T.offset;O.top>=0&&F+b.top<0?_=!0:O.top<T.height&&O.top+b.top+T.lineHeight>window.innerHeight?_=!1:_=null,_!=null&&(k.style.top=F+"px",k.style.left=O.left+"px",k.style.height=T.lineHeight+"px",k.scrollIntoView(_)),_=b=null}});this.setAutoScrollEditorIntoView=function(x){x||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",L),this.renderer.off("afterRender",R),this.renderer.off("beforeRender",E))}}},this.$resetCursorStyle=function(){var m=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;!b||(b.setSmoothBlinking(/smooth/.test(m)),b.isBlinking=!this.$readOnly&&m!="wide",g.setCssClass(b.element,"ace_slim-cursors",/slim/.test(m)))},this.prompt=function(m,b,d){var _=this;C.loadModule("./ext/prompt",function(k){k.prompt(_,m,b,d)})}}.call(y.prototype),C.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(m){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:m})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(m){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(m){this.textInput.setReadOnly(m),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(m){this.textInput.setCopyWithEmptySelection(m)},initialValue:!1},cursorStyle:{set:function(m){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(m){this.setAutoScrollEditorIntoView(m)}},keyboardHandler:{set:function(m){this.setKeyboardHandler(m)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(m){this.session.setValue(m)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(m){this.setSession(m)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(m){this.renderer.$gutterLayer.setShowLineNumbers(m),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),m&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(m){this.$showLineNumbers&&m?w.attach(this):w.detach(this)}},placeholder:{set:function(m){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var b=this.session&&(this.renderer.$composition||this.getValue());if(b&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),g.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!b&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),g.addCssClass(this.container,"ace_hasPlaceholder");var d=g.createElement("div");d.className="ace_placeholder",d.textContent=this.$placeholder||"",this.renderer.placeholderNode=d,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!b&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(m,b){return(Math.abs(m.selection.lead.row-b)||b+1+(b<9?"\xB7":""))+""},getWidth:function(m,b,d){return Math.max(b.toString().length,(d.lastRow+1).toString().length,2)*d.characterWidth},update:function(m,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(m){m.renderer.$gutterLayer.$renderer=this,m.on("changeSelection",this.update),this.update(null,m)},detach:function(m){m.renderer.$gutterLayer.$renderer==this&&(m.renderer.$gutterLayer.$renderer=null),m.off("changeSelection",this.update),this.update(null,m)}};r.Editor=y});ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(w){this.$session=w},this.add=function(w,m,b){this.$fromUndo||w!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(m===!1||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),w.id=this.$rev=++this.$maxRev),(w.action=="remove"||w.action=="insert")&&(this.$lastDelta=w),this.lastDeltas.push(w))},this.addSelection=function(w,m){this.selections.push({value:w,rev:m||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(w,m){m==null&&(m=this.$rev+1);for(var b=this.$undoStack,d=b.length;d--;){var _=b[d][0];if(_.id<=w)break;_.id<m&&(_.ignore=!0)}this.lastDeltas=null},this.getSelection=function(w,m){for(var b=this.selections,d=b.length;d--;){var _=b[d];if(_.rev<w)return m&&(_=b[d+1]),_}},this.getRevision=function(){return this.$rev},this.getDeltas=function(w,m){m==null&&(m=this.$rev+1);for(var b=this.$undoStack,d=null,_=0,k=b.length;k--;){var L=b[k][0];if(L.id<m&&!d&&(d=k+1),L.id<=w){_=k+1;break}}return b.slice(_,d)},this.getChangedRanges=function(w,m){m==null&&(m=this.$rev+1)},this.getChangedLines=function(w,m){m==null&&(m=this.$rev+1)},this.undo=function(w,m){this.lastDeltas=null;var b=this.$undoStack;if(!!g(b,b.length)){w||(w=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var d=b.pop(),_=null;return d&&(_=w.undoChanges(d,m),this.$redoStack.push(d),this.$syncRev()),this.$fromUndo=!1,_}},this.redo=function(w,m){if(this.lastDeltas=null,w||(w=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var b=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);y(this.$redoStack,b),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(k){k[0].id=++this.$maxRev},this)}var d=this.$redoStack.pop(),_=null;return d&&(_=w.redoChanges(d,m),this.$undoStack.push(d),this.$syncRev()),this.$fromUndo=!1,_},this.$syncRev=function(){var w=this.$undoStack,m=w[w.length-1],b=m&&m[0].id||0;this.$redoStackBaseRev=b,this.$rev=b},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(w){w==null&&(w=this.$rev),this.mark=w},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(w){return w?s(w):s(this.$undoStack)+`
---
`+s(this.$redoStack)}}).call(u.prototype);function g(w,m){for(var b=m;b--;){var d=w[b];if(d&&!d[0].ignore){for(;b<m-1;){var _=v(w[b],w[b+1]);w[b]=_[0],w[b+1]=_[1],b++}return!0}}}var o=e("./range").Range,a=o.comparePoints,h=o.comparePoints;function i(w){var m=w.action=="insert",b=w.start,d=w.end,_=(d.row-b.row)*(m?1:-1),k=(d.column-b.column)*(m?1:-1);m&&(d=b);for(var L in this.marks){var E=this.marks[L],R=h(E,b);if(!(R<0)){if(R===0&&m)if(E.bias==1)R=1;else{E.bias==-1;continue}var x=m?R:h(E,d);if(x>0){E.row+=_,E.column+=E.row==d.row?k:0;continue}!m&&x<=0&&(E.row=b.row,E.column=b.column,x===0&&(E.bias=1))}}}function t(w){return{row:w.row,column:w.column}}function n(w){return{start:t(w.start),end:t(w.end),action:w.action,lines:w.lines.slice()}}function s(w){if(w=w||this,Array.isArray(w))return w.map(s).join(`
`);var m="";return w.action?(m=w.action=="insert"?"+":"-",m+="["+w.lines+"]"):w.value&&(Array.isArray(w.value)?m=w.value.map(l).join(`
`):m=l(w.value)),w.start&&(m+=l(w)),(w.id||w.rev)&&(m+="	("+(w.id||w.rev)+")"),m}function l(w){return w.start.row+":"+w.start.column+"=>"+w.end.row+":"+w.end.column}function f(w,m){var b=w.action=="insert",d=m.action=="insert";if(b&&d)if(a(m.start,w.end)>=0)A(m,w,-1);else if(a(m.start,w.start)<=0)A(w,m,1);else return null;else if(b&&!d)if(a(m.start,w.end)>=0)A(m,w,-1);else if(a(m.end,w.start)<=0)A(w,m,-1);else return null;else if(!b&&d)if(a(m.start,w.start)>=0)A(m,w,1);else if(a(m.start,w.start)<=0)A(w,m,1);else return null;else if(!b&&!d)if(a(m.start,w.start)>=0)A(m,w,1);else if(a(m.end,w.start)<=0)A(w,m,-1);else return null;return[m,w]}function v(w,m){for(var b=w.length;b--;)for(var d=0;d<m.length;d++)if(!f(w[b],m[d])){for(;b<w.length;){for(;d--;)f(m[d],w[b]);d=m.length,b++}return[w,m]}return w.selectionBefore=m.selectionBefore=w.selectionAfter=m.selectionAfter=null,[m,w]}function S(w,m){var b=w.action=="insert",d=m.action=="insert";if(b&&d)a(w.start,m.start)<0?A(m,w,1):A(w,m,1);else if(b&&!d)a(w.start,m.end)>=0?A(w,m,-1):(a(w.start,m.start)<=0||A(w,o.fromPoints(m.start,w.start),-1),A(m,w,1));else if(!b&&d)a(m.start,w.end)>=0?A(m,w,-1):(a(m.start,w.start)<=0||A(m,o.fromPoints(w.start,m.start),-1),A(w,m,1));else if(!b&&!d)if(a(m.start,w.end)>=0)A(m,w,-1);else if(a(m.end,w.start)<=0)A(w,m,-1);else{var _,k;return a(w.start,m.start)<0&&(_=w,w=$(w,m.start)),a(w.end,m.end)>0&&(k=$(w,m.end)),C(m.end,w.start,w.end,-1),k&&!_&&(w.lines=k.lines,w.start=k.start,w.end=k.end,k=w),[m,_,k].filter(Boolean)}return[m,w]}function A(w,m,b){C(w.start,m.start,m.end,b),C(w.end,m.start,m.end,b)}function C(w,m,b,d){w.row==(d==1?m:b).row&&(w.column+=d*(b.column-m.column)),w.row+=d*(b.row-m.row)}function $(w,m){var b=w.lines,d=w.end;w.end=t(m);var _=w.end.row-w.start.row,k=b.splice(_,b.length),L=_?m.column:m.column-w.start.column;b.push(k[0].substring(0,L)),k[0]=k[0].substr(L);var E={start:t(m),end:d,lines:k,action:w.action};return E}function p(w,m){m=n(m);for(var b=w.length;b--;){for(var d=w[b],_=0;_<d.length;_++){var k=d[_],L=S(k,m);m=L[0],L.length!=2&&(L[2]?(d.splice(_+1,1,L[1],L[2]),_++):L[1]||(d.splice(_,1),_--))}d.length||w.splice(b,1)}return w}function y(w,m){for(var b=0;b<m.length;b++)for(var d=m[b],_=0;_<d.length;_++)p(w,d[_])}r.UndoManager=u});ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=function(o,a){this.element=o,this.canvasHeight=a||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(o){u.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},this.pageChanged=function(o,a){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)},this.computeLineTop=function(o,a,h){var i=a.firstRowScreen*a.lineHeight,t=Math.floor(i/this.canvasHeight),n=h.documentToScreenRow(o,0)*a.lineHeight;return n-t*this.canvasHeight},this.computeLineHeight=function(o,a,h){return a.lineHeight*h.getRowLineCount(o)},this.getLength=function(){return this.cells.length},this.get=function(o){return this.cells[o]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var a=u.createFragment(this.element),h=0;h<o.length;h++)a.appendChild(o[h].element);this.element.appendChild(a)}else this.cells.push(o),this.element.appendChild(o.element)},this.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var a=u.createFragment(this.element),h=0;h<o.length;h++)a.appendChild(o[h].element);this.element.firstChild?this.element.insertBefore(a,this.element.firstChild):this.element.appendChild(a)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(o){!o||(o.element.remove(),this.cellCache.push(o))},this.createCell=function(o,a,h,i){var t=this.cellCache.pop();if(!t){var n=u.createElement("div");i&&i(n),this.element.appendChild(n),t={element:n,text:"",row:o}}return t.row=o,t}}).call(g.prototype),r.Lines=g});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=e("../lib/oop"),o=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,h=e("./lines").Lines,i=function(n){this.element=u.createElement("div"),this.element.className="ace_layer ace_gutter-layer",n.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1};(function(){g.implement(this,a),this.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n&&n.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(n,s){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,s)},this.removeGutterDecoration=function(n,s){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,s)},this.setAnnotations=function(n){this.$annotations=[];for(var s=0;s<n.length;s++){var l=n[s],f=l.row,v=this.$annotations[f];v||(v=this.$annotations[f]={text:[]});var S=l.text;S=S?o.escapeHTML(S):l.html||"",v.text.indexOf(S)===-1&&v.text.push(S);var A=l.type;A=="error"?v.className=" ace_error":A=="warning"&&v.className!=" ace_error"?v.className=" ace_warning":A=="info"&&!v.className&&(v.className=" ace_info")}},this.$updateAnnotations=function(n){if(!!this.$annotations.length){var s=n.start.row,l=n.end.row-s;if(l!==0)if(n.action=="remove")this.$annotations.splice(s,l+1,null);else{var f=new Array(l+1);f.unshift(s,1),this.$annotations.splice.apply(this.$annotations,f)}}},this.update=function(n){this.config=n;var s=this.session,l=n.firstRow,f=Math.min(n.lastRow+n.gutterOffset,s.getLength()-1);this.oldLastRow=f,this.config=n,this.$lines.moveContainer(n),this.$updateCursorRow();for(var v=s.getNextFoldLine(l),S=v?v.start.row:1/0,A=null,C=-1,$=l;;){if($>S&&($=v.end.row+1,v=s.getNextFoldLine($,v),S=v?v.start.row:1/0),$>f){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}A=this.$lines.get(++C),A?A.row=$:(A=this.$lines.createCell($,n,this.session,t),this.$lines.push(A)),this.$renderCell(A,n,v,$),$++}this._signal("afterRender"),this.$updateGutterWidth(n)},this.$updateGutterWidth=function(n){var s=this.session,l=s.gutterRenderer||this.$renderer,f=s.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||s.$useWrapMode)&&(v=s.getLength()+f-1);var S=l?l.getWidth(s,v,n):v.toString().length*n.characterWidth,A=this.$padding||this.$computePadding();S+=A.left+A.right,S!==this.gutterWidth&&!isNaN(S)&&(this.gutterWidth=S,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",S))},this.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},this.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var n=this.session.selection.cursor.row;if(this.$cursorRow=n,!(this.$cursorCell&&this.$cursorCell.row==n)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var s=this.$lines.cells;this.$cursorCell=null;for(var l=0;l<s.length;l++){var f=s[l];if(f.row>=this.$cursorRow){if(f.row>this.$cursorRow){var v=this.session.getFoldLine(this.$cursorRow);if(l>0&&v&&v.start.row==s[l-1].row)f=s[l-1];else break}f.element.className="ace_gutter-active-line "+f.element.className,this.$cursorCell=f;break}}}}},this.scrollLines=function(n){var s=this.config;if(this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(s,n))return this.update(n);this.$lines.moveContainer(n);var l=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),f=this.oldLastRow;if(this.oldLastRow=l,!s||f<n.firstRow)return this.update(n);if(l<s.firstRow)return this.update(n);if(s.firstRow<n.firstRow)for(var v=this.session.getFoldedRowCount(s.firstRow,n.firstRow-1);v>0;v--)this.$lines.shift();if(f>l)for(var v=this.session.getFoldedRowCount(l+1,f);v>0;v--)this.$lines.pop();n.firstRow<s.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,s.firstRow-1)),l>f&&this.$lines.push(this.$renderLines(n,f+1,l)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(n)},this.$renderLines=function(n,s,l){for(var f=[],v=s,S=this.session.getNextFoldLine(v),A=S?S.start.row:1/0;v>A&&(v=S.end.row+1,S=this.session.getNextFoldLine(v,S),A=S?S.start.row:1/0),!(v>l);){var C=this.$lines.createCell(v,n,this.session,t);this.$renderCell(C,n,S,v),f.push(C),v++}return f},this.$renderCell=function(n,s,l,f){var v=n.element,S=this.session,A=v.childNodes[0],C=v.childNodes[1],$=S.$firstLineNumber,p=S.$breakpoints,y=S.$decorations,w=S.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&S.foldWidgets,b=l?l.start.row:Number.MAX_VALUE,d="ace_gutter-cell ";if(this.$highlightGutterLine&&(f==this.$cursorRow||l&&f<this.$cursorRow&&f>=b&&this.$cursorRow<=l.end.row)&&(d+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),p[f]&&(d+=p[f]),y[f]&&(d+=y[f]),this.$annotations[f]&&(d+=this.$annotations[f].className),v.className!=d&&(v.className=d),m){var _=m[f];_==null&&(_=m[f]=S.getFoldWidget(f))}if(_){var d="ace_fold-widget ace_"+_;_=="start"&&f==b&&f<l.end.row?d+=" ace_closed":d+=" ace_open",C.className!=d&&(C.className=d);var k=s.lineHeight+"px";u.setStyle(C.style,"height",k),u.setStyle(C.style,"display","inline-block")}else C&&u.setStyle(C.style,"display","none");var L=(w?w.getText(S,f):f+$).toString();return L!==A.data&&(A.data=L),u.setStyle(n.element.style,"height",this.$lines.computeLineHeight(f,s,S)+"px"),u.setStyle(n.element.style,"top",this.$lines.computeLineTop(f,s,S)+"px"),n.text=L,n},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(n){n?u.addCssClass(this.element,"ace_folding-enabled"):u.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=n,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=u.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},this.getRegion=function(n){var s=this.$padding||this.$computePadding(),l=this.element.getBoundingClientRect();if(n.x<s.left+l.left)return"markers";if(this.$showFoldWidgets&&n.x>l.right-s.right)return"foldWidgets"}}).call(i.prototype);function t(n){var s=document.createTextNode("");n.appendChild(s);var l=u.createElement("span");return n.appendChild(l),n}r.Gutter=i});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,r,c){"use strict";var u=e("../range").Range,g=e("../lib/dom"),o=function(a){this.element=g.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(h){this.$padding=h},this.setSession=function(h){this.session=h},this.setMarkers=function(h){this.markers=h},this.elt=function(h,i){var t=this.i!=-1&&this.element.childNodes[this.i];t?this.i++:(t=document.createElement("div"),this.element.appendChild(t),this.i=-1),t.style.cssText=i,t.className=h},this.update=function(h){if(!!h){this.config=h,this.i=0;var i;for(var t in this.markers){var n=this.markers[t];if(!n.range){n.update(i,this,this.session,h);continue}var s=n.range.clipRows(h.firstRow,h.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var l=this.$getTop(s.start.row,h),f=this.$padding+s.start.column*h.characterWidth;n.renderer(i,s,f,l,h)}else n.type=="fullLine"?this.drawFullLineMarker(i,s,n.clazz,h):n.type=="screenLine"?this.drawScreenLineMarker(i,s,n.clazz,h):s.isMultiLine()?n.type=="text"?this.drawTextMarker(i,s,n.clazz,h):this.drawMultiLineMarker(i,s,n.clazz,h):this.drawSingleLineMarker(i,s,n.clazz+" ace_start ace_br15",h)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(h,i){return(h-i.firstRowScreen)*i.lineHeight};function a(h,i,t,n){return(h?1:0)|(i?2:0)|(t?4:0)|(n?8:0)}this.drawTextMarker=function(h,i,t,n,s){for(var l=this.session,f=i.start.row,v=i.end.row,S=f,A=0,C=0,$=l.getScreenLastRowColumn(S),p=new u(S,i.start.column,S,C);S<=v;S++)p.start.row=p.end.row=S,p.start.column=S==f?i.start.column:l.getRowWrapIndent(S),p.end.column=$,A=C,C=$,$=S+1<v?l.getScreenLastRowColumn(S+1):S==v?0:i.end.column,this.drawSingleLineMarker(h,p,t+(S==f?" ace_start":"")+" ace_br"+a(S==f||S==f+1&&i.start.column,A<C,C>$,S==v),n,S==v?0:1,s)},this.drawMultiLineMarker=function(h,i,t,n,s){var l=this.$padding,f=n.lineHeight,v=this.$getTop(i.start.row,n),S=l+i.start.column*n.characterWidth;if(s=s||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var A=i.clone();A.end.row=A.start.row,A.end.column=this.session.getLine(A.start.row).length,this.drawBidiSingleLineMarker(h,A,t+" ace_br1 ace_start",n,null,s)}else this.elt(t+" ace_br1 ace_start","height:"+f+"px;right:0;top:"+v+"px;left:"+S+"px;"+(s||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var A=i.clone();A.start.row=A.end.row,A.start.column=0,this.drawBidiSingleLineMarker(h,A,t+" ace_br12",n,null,s)}else{v=this.$getTop(i.end.row,n);var C=i.end.column*n.characterWidth;this.elt(t+" ace_br12","height:"+f+"px;width:"+C+"px;top:"+v+"px;left:"+l+"px;"+(s||""))}if(f=(i.end.row-i.start.row-1)*n.lineHeight,!(f<=0)){v=this.$getTop(i.start.row+1,n);var $=(i.start.column?1:0)|(i.end.column?0:8);this.elt(t+($?" ace_br"+$:""),"height:"+f+"px;right:0;top:"+v+"px;left:"+l+"px;"+(s||""))}},this.drawSingleLineMarker=function(h,i,t,n,s,l){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(h,i,t,n,s,l);var f=n.lineHeight,v=(i.end.column+(s||0)-i.start.column)*n.characterWidth,S=this.$getTop(i.start.row,n),A=this.$padding+i.start.column*n.characterWidth;this.elt(t,"height:"+f+"px;width:"+v+"px;top:"+S+"px;left:"+A+"px;"+(l||""))},this.drawBidiSingleLineMarker=function(h,i,t,n,s,l){var f=n.lineHeight,v=this.$getTop(i.start.row,n),S=this.$padding,A=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);A.forEach(function(C){this.elt(t,"height:"+f+"px;width:"+C.width+(s||0)+"px;top:"+v+"px;left:"+(S+C.left)+"px;"+(l||""))},this)},this.drawFullLineMarker=function(h,i,t,n,s){var l=this.$getTop(i.start.row,n),f=n.lineHeight;i.start.row!=i.end.row&&(f+=this.$getTop(i.end.row,n)-l),this.elt(t,"height:"+f+"px;top:"+l+"px;left:0;right:0;"+(s||""))},this.drawScreenLineMarker=function(h,i,t,n,s){var l=this.$getTop(i.start.row,n),f=n.lineHeight;this.elt(t,"height:"+f+"px;top:"+l+"px;left:0;right:0;"+(s||""))}}).call(o.prototype),r.Marker=o});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,r,c){"use strict";var u=e("../lib/oop"),g=e("../lib/dom"),o=e("../lib/lang"),a=e("./lines").Lines,h=e("../lib/event_emitter").EventEmitter,i=function(t){this.dom=g,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)};(function(){u.implement(this,h),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,n=t.getNewLineCharacter()==`
`&&t.getNewLineMode()!="windows",s=n?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=s)return this.EOL_CHAR=s,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(t){return this.showInvisibles==t?!1:(this.showInvisibles=t,typeof t=="string"?(this.showSpaces=/tab/i.test(t),this.showTabs=/space/i.test(t),this.showEOL=/eol/i.test(t)):this.showSpaces=this.showTabs=this.showEOL=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides==t?!1:(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var n=this.$tabStrings=[0],s=1;s<t+1;s++)if(this.showTabs){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_tab",l.textContent=o.stringRepeat(this.TAB_CHAR,s),n.push(l)}else n.push(this.dom.createTextNode(o.stringRepeat(" ",s),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",v=this.showSpaces?" ace_invisible ace_invisible_space":"",S=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),A=this.showTabs?" ace_invisible ace_invisible_tab":"",C=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):S,l=this.dom.createElement("span");l.className=f+v,l.textContent=S,this.$tabStrings[" "]=l;var l=this.dom.createElement("span");l.className=f+A,l.textContent=C,this.$tabStrings["	"]=l}},this.updateLines=function(t,n,s){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var l=Math.max(n,t.firstRow),f=Math.min(s,t.lastRow),v=this.element.childNodes,S=0,C=t.firstRow;C<l;C++){var $=this.session.getFoldLine(C);if($)if($.containsRow(l)){l=$.start.row;break}else C=$.end.row;S++}for(var A=!1,C=l,$=this.session.getNextFoldLine(C),p=$?$.start.row:1/0;C>p&&(C=$.end.row+1,$=this.session.getNextFoldLine(C,$),p=$?$.start.row:1/0),!(C>f);){var y=v[S++];if(y){this.dom.removeChildren(y),this.$renderLine(y,C,C==p?$:!1),A&&(y.style.top=this.$lines.computeLineTop(C,t,this.session)+"px");var w=t.lineHeight*this.session.getRowLength(C)+"px";y.style.height!=w&&(A=!0,y.style.height=w)}C++}if(A)for(;S<this.$lines.cells.length;){var m=this.$lines.cells[S++];m.element.style.top=this.$lines.computeLineTop(m.row,t,this.session)+"px"}},this.scrollLines=function(t){var n=this.config;if(this.config=t,this.$lines.pageChanged(n,t))return this.update(t);this.$lines.moveContainer(t);var s=t.lastRow,l=n?n.lastRow:-1;if(!n||l<t.firstRow)return this.update(t);if(s<n.firstRow)return this.update(t);if(!n||n.lastRow<t.firstRow)return this.update(t);if(t.lastRow<n.firstRow)return this.update(t);if(n.firstRow<t.firstRow)for(var f=this.session.getFoldedRowCount(n.firstRow,t.firstRow-1);f>0;f--)this.$lines.shift();if(n.lastRow>t.lastRow)for(var f=this.session.getFoldedRowCount(t.lastRow+1,n.lastRow);f>0;f--)this.$lines.pop();t.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,n.firstRow-1)),t.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(t,n.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,n,s){for(var l=[],f=n,v=this.session.getNextFoldLine(f),S=v?v.start.row:1/0;f>S&&(f=v.end.row+1,v=this.session.getNextFoldLine(f,v),S=v?v.start.row:1/0),!(f>s);){var A=this.$lines.createCell(f,t,this.session),C=A.element;this.dom.removeChildren(C),g.setStyle(C.style,"height",this.$lines.computeLineHeight(f,t,this.session)+"px"),g.setStyle(C.style,"top",this.$lines.computeLineTop(f,t,this.session)+"px"),this.$renderLine(C,f,f==S?v:!1),this.$useLineGroups()?C.className="ace_line_group":C.className="ace_line",l.push(A),f++}return l},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var n=t.firstRow,s=t.lastRow,l=this.$lines;l.getLength();)l.pop();l.push(this.$renderLinesFragment(t,n,s))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,n,s,l){for(var f=this,v=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,S=this.dom.createFragment(this.element),A,C=0;A=v.exec(l);){var $=A[1],p=A[2],y=A[3],w=A[4],m=A[5];if(!(!f.showSpaces&&p)){var b=C!=A.index?l.slice(C,A.index):"";if(C=A.index+A[0].length,b&&S.appendChild(this.dom.createTextNode(b,this.element)),$){var d=f.session.getScreenTabSize(n+A.index);S.appendChild(f.$tabStrings[d].cloneNode(!0)),n+=d-1}else if(p)if(f.showSpaces){var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_space",_.textContent=o.stringRepeat(f.SPACE_CHAR,p.length),S.appendChild(_)}else S.appendChild(this.com.createTextNode(p,this.element));else if(y){var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_space ace_invalid",_.textContent=o.stringRepeat(f.SPACE_CHAR,y.length),S.appendChild(_)}else if(w){n+=1;var _=this.dom.createElement("span");_.style.width=f.config.characterWidth*2+"px",_.className=f.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",_.textContent=f.showSpaces?f.SPACE_CHAR:w,S.appendChild(_)}else if(m){n+=1;var _=this.dom.createElement("span");_.style.width=f.config.characterWidth*2+"px",_.className="ace_cjk",_.textContent=m,S.appendChild(_)}}}if(S.appendChild(this.dom.createTextNode(C?l.slice(C):l,this.element)),this.$textToken[s.type])t.appendChild(S);else{var k="ace_"+s.type.replace(/\./g," ace_"),_=this.dom.createElement("span");s.type=="fold"&&(_.style.width=s.value.length*this.config.characterWidth+"px"),_.className=k,_.appendChild(S),t.appendChild(_)}return n+l.length},this.renderIndentGuide=function(t,n,s){var l=n.search(this.$indentGuideRe);if(l<=0||l>=s)return n;if(n[0]==" "){l-=l%this.tabSize;for(var f=l/this.tabSize,v=0;v<f;v++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return n.substr(l)}else if(n[0]=="	"){for(var v=0;v<l;v++)t.appendChild(this.$tabStrings["	"].cloneNode(!0));return n.substr(l)}return n},this.$createLineElement=function(t){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},this.$renderWrappedLine=function(t,n,s){var l=0,f=0,v=s[0],S=0,A=this.$createLineElement();t.appendChild(A);for(var C=0;C<n.length;C++){var $=n[C],p=$.value;if(C==0&&this.displayIndentGuides){if(l=p.length,p=this.renderIndentGuide(A,p,v),!p)continue;l-=p.length}if(l+p.length<v)S=this.$renderToken(A,S,$,p),l+=p.length;else{for(;l+p.length>=v;)S=this.$renderToken(A,S,$,p.substring(0,v-l)),p=p.substring(v-l),l=v,A=this.$createLineElement(),t.appendChild(A),A.appendChild(this.dom.createTextNode(o.stringRepeat("\xA0",s.indent),this.element)),f++,S=0,v=s[f]||Number.MAX_VALUE;p.length!=0&&(l+=p.length,S=this.$renderToken(A,S,$,p))}}s[s.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(A,S,null,"",!0)},this.$renderSimpleLine=function(t,n){var s=0,l=n[0],f=l.value;this.displayIndentGuides&&(f=this.renderIndentGuide(t,f)),f&&(s=this.$renderToken(t,s,l,f));for(var v=1;v<n.length;v++){if(l=n[v],f=l.value,s+f.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,s,l,f);s=this.$renderToken(t,s,l,f)}},this.$renderOverflowMessage=function(t,n,s,l,f){s&&this.$renderToken(t,n,s,l.slice(0,this.MAX_LINE_LENGTH-n));var v=this.dom.createElement("span");v.className="ace_inline_button ace_keyword ace_toggle_wrap",v.textContent=f?"<hide>":"<click to see more...>",t.appendChild(v)},this.$renderLine=function(t,n,s){if(!s&&s!=!1&&(s=this.session.getFoldLine(n)),s)var l=this.$getFoldLineTokens(n,s);else var l=this.session.getTokens(n);var f=t;if(l.length){var v=this.session.getRowSplitData(n);if(v&&v.length){this.$renderWrappedLine(t,l,v);var f=t.lastChild}else{var f=t;this.$useLineGroups()&&(f=this.$createLineElement(),t.appendChild(f)),this.$renderSimpleLine(f,l)}}else this.$useLineGroups()&&(f=this.$createLineElement(),t.appendChild(f));if(this.showEOL&&f){s&&(n=s.end.row);var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_eol",S.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,f.appendChild(S)}},this.$getFoldLineTokens=function(t,n){var s=this.session,l=[];function f(S,A,C){for(var $=0,p=0;p+S[$].value.length<A;)if(p+=S[$].value.length,$++,$==S.length)return;if(p!=A){var y=S[$].value.substring(A-p);y.length>C-A&&(y=y.substring(0,C-A)),l.push({type:S[$].type,value:y}),p=A+y.length,$+=1}for(;p<C&&$<S.length;){var y=S[$].value;y.length+p>C?l.push({type:S[$].type,value:y.substring(0,C-p)}):l.push(S[$]),p+=y.length,$+=1}}var v=s.getTokens(t);return n.walk(function(S,A,C,$,p){S!=null?l.push({type:"fold",value:S}):(p&&(v=s.getTokens(A)),v.length&&f(v,$,C))},n.end.row,this.session.getLine(n.end.row).length),l},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(i.prototype),r.Text=i});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=function(o){this.element=u.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),u.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(o){for(var a=this.cursors,h=a.length;h--;)u.setStyle(a[h].style,"opacity",o?"":"0")},this.$startCssAnimation=function(){for(var o=this.cursors,a=o.length;a--;)o[a].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&u.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,u.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(o){this.$padding=o},this.setSession=function(o){this.session=o},this.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},this.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},this.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,u.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var o=u.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},this.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},this.hideCursor=function(){this.isVisible=!1,u.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,u.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,u.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&u.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),u.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var a=function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){o(!0),a()},this.blinkInterval),a()}},this.getPixelPosition=function(o,a){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var h=this.session.documentToScreenPosition(o),i=this.$padding+(this.session.$bidiHandler.isBidiRow(h.row,o.row)?this.session.$bidiHandler.getPosLeft(h.column):h.column*this.config.characterWidth),t=(h.row-(a?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:t}},this.isCursorInView=function(o,a){return o.top>=0&&o.top<a.maxHeight},this.update=function(o){this.config=o;var a=this.session.$selectionMarkers,h=0,i=0;(a===void 0||a.length===0)&&(a=[{cursor:null}]);for(var h=0,t=a.length;h<t;h++){var n=this.getPixelPosition(a[h].cursor,!0);if(!((n.top>o.height+o.offset||n.top<0)&&h>1)){var s=this.cursors[i++]||this.addCursor(),l=s.style;this.drawCursor?this.drawCursor(s,n,o,a[h],this.session):this.isCursorInView(n,o)?(u.setStyle(l,"display","block"),u.translate(s,n.left,n.top),u.setStyle(l,"width",Math.round(o.characterWidth)+"px"),u.setStyle(l,"height",o.lineHeight+"px")):u.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=n,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?u.addCssClass(this.element,"ace_overwrite-cursors"):u.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(g.prototype),r.Cursor=g});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,h=32768,i=function(s){this.element=g.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=g.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),s.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){u.implement(this,a),this.setVisible=function(s){this.element.style.display=s?"":"none",this.isVisible=s,this.coeff=1}}).call(i.prototype);var t=function(s,l){i.call(this,s),this.scrollTop=0,this.scrollHeight=0,l.$scrollbarWidth=this.width=g.scrollbarWidth(s.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};u.inherits(t,i),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var s=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-s)/(this.coeff-s)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(s){this.element.style.height=s+"px"},this.setInnerHeight=this.setScrollHeight=function(s){this.scrollHeight=s,s>h?(this.coeff=h/s,s=h):this.coeff!=1&&(this.coeff=1),this.inner.style.height=s+"px"},this.setScrollTop=function(s){this.scrollTop!=s&&(this.skipEvent=!0,this.scrollTop=s,this.element.scrollTop=s*this.coeff)}}.call(t.prototype);var n=function(s,l){i.call(this,s),this.scrollLeft=0,this.height=l.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};u.inherits(n,i),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(s){this.element.style.width=s+"px"},this.setInnerWidth=function(s){this.inner.style.width=s+"px"},this.setScrollWidth=function(s){this.inner.style.width=s+"px"},this.setScrollLeft=function(s){this.scrollLeft!=s&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=s)}}.call(n.prototype),r.ScrollBar=t,r.ScrollBarV=t,r.ScrollBarH=n,r.VScrollBar=t,r.HScrollBar=n});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,r,c){"use strict";var u=e("./lib/event"),g=function(o,a){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=a||window;var h=this;this._flush=function(i){h.pending=!1;var t=h.changes;if(t&&(u.blockIdle(100),h.changes=0,h.onRender(t)),h.changes){if(h.$recursionLimit--<0)return;h.schedule()}else h.$recursionLimit=2}};(function(){this.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(u.nextFrame(this._flush),this.pending=!0)},this.clear=function(o){var a=this.changes;return this.changes=0,a}}).call(g.prototype),r.RenderLoop=g});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,r,c){var u=e("../lib/oop"),g=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/event"),h=e("../lib/useragent"),i=e("../lib/event_emitter").EventEmitter,t=256,n=typeof ResizeObserver=="function",s=200,l=r.FontMetrics=function(f){this.el=g.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=g.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=g.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),f.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",t),this.$characterSize={width:0,height:0},n?this.$addObserver():this.checkForSizeChanges()};(function(){u.implement(this,i),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(f,v){f.width=f.height="auto",f.left=f.top="0px",f.visibility="hidden",f.position="absolute",f.whiteSpace="pre",h.isIE<8?f["font-family"]="inherit":f.font="inherit",f.overflow=v?"hidden":"visible"},this.checkForSizeChanges=function(f){if(f===void 0&&(f=this.$measureSizes()),f&&(this.$characterSize.width!==f.width||this.$characterSize.height!==f.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=f,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===f.width&&v.height===f.height,this._emit("changeCharacterSize",{data:f})}},this.$addObserver=function(){var f=this;this.$observer=new window.ResizeObserver(function(v){f.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var f=this;return this.$pollSizeChangesTimer=a.onIdle(function v(){f.checkForSizeChanges(),a.onIdle(v,500)},500)},this.setPolling=function(f){f?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(f){var v={height:(f||this.$measureNode).clientHeight,width:(f||this.$measureNode).clientWidth/t};return v.width===0||v.height===0?null:v},this.$measureCharWidth=function(f){this.$main.textContent=o.stringRepeat(f,t);var v=this.$main.getBoundingClientRect();return v.width/t},this.getCharacterWidth=function(f){var v=this.charSizes[f];return v===void 0&&(v=this.charSizes[f]=this.$measureCharWidth(f)/this.$characterSize.width),v},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function f(v){return!v||!v.parentElement?1:(window.getComputedStyle(v).zoom||1)*f(v.parentElement)},this.$initTransformMeasureNodes=function(){var f=function(v,S){return["div",{style:"position: absolute;top:"+v+"px;left:"+S+"px;"}]};this.els=g.buildDom([f(0,0),f(s,0),f(0,s),f(s,s)],this.el)},this.transformCoordinates=function(f,v){if(f){var S=this.$getZoom(this.el);f=p(1/S,f)}function A(F,I,M){var W=F[1]*I[0]-F[0]*I[1];return[(-I[1]*M[0]+I[0]*M[1])/W,(+F[1]*M[0]-F[0]*M[1])/W]}function C(F,I){return[F[0]-I[0],F[1]-I[1]]}function $(F,I){return[F[0]+I[0],F[1]+I[1]]}function p(F,I){return[F*I[0],F*I[1]]}this.els||this.$initTransformMeasureNodes();function y(F){var I=F.getBoundingClientRect();return[I.left,I.top]}var w=y(this.els[0]),m=y(this.els[1]),b=y(this.els[2]),d=y(this.els[3]),_=A(C(d,m),C(d,b),C($(m,b),$(d,w))),k=p(1+_[0],C(m,w)),L=p(1+_[1],C(b,w));if(v){var E=v,R=_[0]*E[0]/s+_[1]*E[1]/s+1,x=$(p(E[0],k),p(E[1],L));return $(p(1/R/s,x),w)}var O=C(f,w),T=A(C(k,p(_[0],O)),C(L,p(_[1],O)),O);return p(s,T)}}).call(l.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/dom"),o=e("./config"),a=e("./layer/gutter").Gutter,h=e("./layer/marker").Marker,i=e("./layer/text").Text,t=e("./layer/cursor").Cursor,n=e("./scrollbar").HScrollBar,s=e("./scrollbar").VScrollBar,l=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,v=e("./lib/event_emitter").EventEmitter,S=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}`,A=e("./lib/useragent"),C=A.isIE;g.importCssString(S,"ace_editor.css",!1);var $=function(p,y){var w=this;this.container=p||g.createElement("div"),g.addCssClass(this.container,"ace_editor"),g.HI_DPI&&g.addCssClass(this.container,"ace_hidpi"),this.setTheme(y),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=g.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=g.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=g.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new h(this.content);var m=this.$textLayer=new i(this.content);this.canvas=m.element,this.$markerFront=new h(this.content),this.$cursorLayer=new t(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new s(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.on("scroll",function(b){w.$scrollAnimation||w.session.setScrollTop(b.data-w.scrollMargin.top)}),this.scrollBarH.on("scroll",function(b){w.$scrollAnimation||w.session.setScrollLeft(b.data-w.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(b){w.updateCharacterSize(),w.onResize(!0,w.gutterWidth,w.$size.width,w.$size.height),w._signal("changeCharacterSize",b)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!A.isIOS,this.$loop=new l(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,u.implement(this,v),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),g.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(p){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=p,p&&this.scrollMargin.top&&p.getScrollTop()<=0&&p.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(p),this.$markerBack.setSession(p),this.$markerFront.setSession(p),this.$gutterLayer.setSession(p),this.$textLayer.setSession(p),!!p&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(p,y,w){if(y===void 0&&(y=1/0),this.$changedLines?(this.$changedLines.firstRow>p&&(this.$changedLines.firstRow=p),this.$changedLines.lastRow<y&&(this.$changedLines.lastRow=y)):this.$changedLines={firstRow:p,lastRow:y},this.$changedLines.lastRow<this.layerConfig.firstRow)if(w)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(p){p?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(p,y,w,m){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=p?1:0;var b=this.container;m||(m=b.clientHeight||b.scrollHeight),w||(w=b.clientWidth||b.scrollWidth);var d=this.$updateCachedSize(p,y,w,m);if(!this.$size.scrollerHeight||!w&&!m)return this.resizing=0;p&&(this.$gutterLayer.$padding=null),p?this.$renderChanges(d|this.$changes,!0):this.$loop.schedule(d|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(p,y,w,m){m-=this.$extraHeight||0;var b=0,d=this.$size,_={width:d.width,height:d.height,scrollerHeight:d.scrollerHeight,scrollerWidth:d.scrollerWidth};if(m&&(p||d.height!=m)&&(d.height=m,b|=this.CHANGE_SIZE,d.scrollerHeight=d.height,this.$horizScroll&&(d.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",b=b|this.CHANGE_SCROLL),w&&(p||d.width!=w)){b|=this.CHANGE_SIZE,d.width=w,y==null&&(y=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=y,g.setStyle(this.scrollBarH.element.style,"left",y+"px"),g.setStyle(this.scroller.style,"left",y+this.margin.left+"px"),d.scrollerWidth=Math.max(0,w-y-this.scrollBarV.getWidth()-this.margin.h),g.setStyle(this.$gutter.style,"left",this.margin.left+"px");var k=this.scrollBarV.getWidth()+"px";g.setStyle(this.scrollBarH.element.style,"right",k),g.setStyle(this.scroller.style,"right",k),g.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||p)&&(b|=this.CHANGE_FULL)}return d.$dirty=!w||!m,b&&this._signal("resize",_),b},this.onGutterResize=function(p){var y=this.$showGutter?p:0;y!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,y,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var p=this.$size.scrollerWidth-this.$padding*2,y=Math.floor(p/this.characterWidth);return this.session.adjustWrapLimit(y,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(p){this.setOption("animatedScroll",p)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(p){this.setOption("showInvisibles",p),this.session.$bidiHandler.setShowInvisibles(p)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(p){this.setOption("displayIndentGuides",p)},this.setShowPrintMargin=function(p){this.setOption("showPrintMargin",p)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(p){this.setOption("printMarginColumn",p)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(p){return this.setOption("showGutter",p)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(p){this.setOption("fadeFoldWidgets",p)},this.setHighlightGutterLine=function(p){this.setOption("highlightGutterLine",p)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var p=g.createElement("div");p.className="ace_layer ace_print-margin-layer",this.$printMarginEl=g.createElement("div"),this.$printMarginEl.className="ace_print-margin",p.appendChild(this.$printMarginEl),this.content.insertBefore(p,this.content.firstChild)}var y=this.$printMarginEl.style;y.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",y.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var p=this.textarea.style,y=this.$composition;if(!this.$keepTextAreaAtCursor&&!y){g.translate(this.textarea,-100,0);return}var w=this.$cursorLayer.$pixelPos;if(!!w){y&&y.markerRange&&(w=this.$cursorLayer.getPixelPosition(y.markerRange.start,!0));var m=this.layerConfig,b=w.top,d=w.left;b-=m.offset;var _=y&&y.useTextareaForIME?this.lineHeight:C?0:1;if(b<0||b>m.height-_){g.translate(this.textarea,0,0);return}var k=1,L=this.$size.height-_;if(!y)b+=this.lineHeight;else if(y.useTextareaForIME){var E=this.textarea.value;k=this.characterWidth*this.session.$getStringScreenWidth(E)[0]}else b+=this.lineHeight+2;d-=this.scrollLeft,d>this.$size.scrollerWidth-k&&(d=this.$size.scrollerWidth-k),d+=this.gutterWidth+this.margin.left,g.setStyle(p,"height",_+"px"),g.setStyle(p,"width",k+"px"),g.translate(this.textarea,Math.min(d,this.$size.scrollerWidth-k),Math.min(b,L))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var p=this.layerConfig,y=p.lastRow,w=this.session.documentToScreenRow(y,0)*p.lineHeight;return w-this.session.getScrollTop()>p.height-p.lineHeight?y-1:y},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(p){this.$padding=p,this.$textLayer.setPadding(p),this.$cursorLayer.setPadding(p),this.$markerFront.setPadding(p),this.$markerBack.setPadding(p),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(p,y,w,m){var b=this.scrollMargin;b.top=p|0,b.bottom=y|0,b.right=m|0,b.left=w|0,b.v=b.top+b.bottom,b.h=b.left+b.right,b.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-b.top),this.updateFull()},this.setMargin=function(p,y,w,m){var b=this.margin;b.top=p|0,b.bottom=y|0,b.right=m|0,b.left=w|0,b.v=b.top+b.bottom,b.h=b.left+b.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(p){this.setOption("hScrollBarAlwaysVisible",p)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(p){this.setOption("vScrollBarAlwaysVisible",p)},this.$updateScrollBarV=function(){var p=this.layerConfig.maxHeight,y=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(p-=(y-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>p-y&&(p=this.scrollTop+y,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(p+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(p,y){if(this.$changes&&(p|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!p&&!y){this.$changes|=p;return}if(this.$size.$dirty)return this.$changes|=p,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",p),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var w=this.layerConfig;if(p&this.CHANGE_FULL||p&this.CHANGE_SIZE||p&this.CHANGE_TEXT||p&this.CHANGE_LINES||p&this.CHANGE_SCROLL||p&this.CHANGE_H_SCROLL){if(p|=this.$computeLayerConfig()|this.$loop.clear(),w.firstRow!=this.layerConfig.firstRow&&w.firstRowScreen==this.layerConfig.firstRowScreen){var m=this.scrollTop+(w.firstRow-this.layerConfig.firstRow)*this.lineHeight;m>0&&(this.scrollTop=m,p=p|this.CHANGE_SCROLL,p|=this.$computeLayerConfig()|this.$loop.clear())}w=this.layerConfig,this.$updateScrollBarV(),p&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),g.translate(this.content,-this.scrollLeft,-w.offset);var b=w.width+2*this.$padding+"px",d=w.minHeight+"px";g.setStyle(this.content.style,"width",b),g.setStyle(this.content.style,"height",d)}if(p&this.CHANGE_H_SCROLL&&(g.translate(this.content,-this.scrollLeft,-w.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),p&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",p);return}if(p&this.CHANGE_SCROLL){this.$changedLines=null,p&this.CHANGE_TEXT||p&this.CHANGE_LINES?this.$textLayer.update(w):this.$textLayer.scrollLines(w),this.$showGutter&&(p&this.CHANGE_GUTTER||p&this.CHANGE_LINES?this.$gutterLayer.update(w):this.$gutterLayer.scrollLines(w)),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",p);return}p&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w)):p&this.CHANGE_LINES?(this.$updateLines()||p&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(w):p&this.CHANGE_TEXT||p&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(w):p&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(w),p&this.CHANGE_CURSOR&&(this.$cursorLayer.update(w),this.$moveTextAreaToCursor()),p&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(w),p&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(w),this._signal("afterRender",p)},this.$autosize=function(){var p=this.session.getScreenLength()*this.lineHeight,y=this.$maxLines*this.lineHeight,w=Math.min(y,Math.max((this.$minLines||1)*this.lineHeight,p))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(w+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&w>this.$maxPixelHeight&&(w=this.$maxPixelHeight);var m=w<=2*this.lineHeight,b=!m&&p>y;if(w!=this.desiredHeight||this.$size.height!=this.desiredHeight||b!=this.$vScroll){b!=this.$vScroll&&(this.$vScroll=b,this.scrollBarV.setVisible(b));var d=this.container.clientWidth;this.container.style.height=w+"px",this.$updateCachedSize(!0,this.$gutterWidth,d,w),this.desiredHeight=w,this._signal("autosize")}},this.$computeLayerConfig=function(){var p=this.session,y=this.$size,w=y.height<=2*this.lineHeight,m=this.session.getScreenLength(),b=m*this.lineHeight,d=this.$getLongestLine(),_=!w&&(this.$hScrollBarAlwaysVisible||y.scrollerWidth-d-2*this.$padding<0),k=this.$horizScroll!==_;k&&(this.$horizScroll=_,this.scrollBarH.setVisible(_));var L=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var E=y.scrollerHeight+this.lineHeight,R=!this.$maxLines&&this.$scrollPastEnd?(y.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;b+=R;var x=this.scrollMargin;this.session.setScrollTop(Math.max(-x.top,Math.min(this.scrollTop,b-y.scrollerHeight+x.bottom))),this.session.setScrollLeft(Math.max(-x.left,Math.min(this.scrollLeft,d+2*this.$padding-y.scrollerWidth+x.right)));var O=!w&&(this.$vScrollBarAlwaysVisible||y.scrollerHeight-b+R<0||this.scrollTop>x.top),T=L!==O;T&&(this.$vScroll=O,this.scrollBarV.setVisible(O));var F=this.scrollTop%this.lineHeight,I=Math.ceil(E/this.lineHeight)-1,M=Math.max(0,Math.round((this.scrollTop-F)/this.lineHeight)),W=M+I,D,K,V=this.lineHeight;M=p.screenToDocumentRow(M,0);var ie=p.getFoldLine(M);ie&&(M=ie.start.row),D=p.documentToScreenRow(M,0),K=p.getRowLength(M)*V,W=Math.min(p.screenToDocumentRow(W,0),p.getLength()-1),E=y.scrollerHeight+p.getRowLength(W)*V+K,F=this.scrollTop-D*V;var ne=0;return(this.layerConfig.width!=d||k)&&(ne=this.CHANGE_H_SCROLL),(k||T)&&(ne|=this.$updateCachedSize(!0,this.gutterWidth,y.width,y.height),this._signal("scrollbarVisibilityChanged"),T&&(d=this.$getLongestLine())),this.layerConfig={width:d,padding:this.$padding,firstRow:M,firstRowScreen:D,lastRow:W,lineHeight:V,characterWidth:this.characterWidth,minHeight:E,maxHeight:b,offset:F,gutterOffset:V?Math.max(0,Math.ceil((F+y.height-y.scrollerHeight)/V)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(d-this.$padding),ne},this.$updateLines=function(){if(!!this.$changedLines){var p=this.$changedLines.firstRow,y=this.$changedLines.lastRow;this.$changedLines=null;var w=this.layerConfig;if(!(p>w.lastRow+1)&&!(y<w.firstRow)){if(y===1/0){this.$showGutter&&this.$gutterLayer.update(w),this.$textLayer.update(w);return}return this.$textLayer.updateLines(w,p,y),!0}}},this.$getLongestLine=function(){var p=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(p+=1),this.$textLayer&&p>this.$textLayer.MAX_LINE_LENGTH&&(p=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(p*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(p,y){this.$gutterLayer.addGutterDecoration(p,y)},this.removeGutterDecoration=function(p,y){this.$gutterLayer.removeGutterDecoration(p,y)},this.updateBreakpoints=function(p){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(p){this.$gutterLayer.setAnnotations(p),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(p,y,w){this.scrollCursorIntoView(p,w),this.scrollCursorIntoView(y,w)},this.scrollCursorIntoView=function(p,y,w){if(this.$size.scrollerHeight!==0){var m=this.$cursorLayer.getPixelPosition(p),b=m.left,d=m.top,_=w&&w.top||0,k=w&&w.bottom||0,L=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;L+_>d?(y&&L+_>d+this.lineHeight&&(d-=y*this.$size.scrollerHeight),d===0&&(d=-this.scrollMargin.top),this.session.setScrollTop(d)):L+this.$size.scrollerHeight-k<d+this.lineHeight&&(y&&L+this.$size.scrollerHeight-k<d-this.lineHeight&&(d+=y*this.$size.scrollerHeight),this.session.setScrollTop(d+this.lineHeight+k-this.$size.scrollerHeight));var E=this.scrollLeft;E>b?(b<this.$padding+2*this.layerConfig.characterWidth&&(b=-this.scrollMargin.left),this.session.setScrollLeft(b)):E+this.$size.scrollerWidth<b+this.characterWidth?this.session.setScrollLeft(Math.round(b+this.characterWidth-this.$size.scrollerWidth)):E<=this.$padding&&b-E<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(p){this.session.setScrollTop(p*this.lineHeight)},this.alignCursor=function(p,y){typeof p=="number"&&(p={row:p,column:0});var w=this.$cursorLayer.getPixelPosition(p),m=this.$size.scrollerHeight-this.lineHeight,b=w.top-m*(y||0);return this.session.setScrollTop(b),b},this.STEPS=8,this.$calcSteps=function(p,y){var w=0,m=this.STEPS,b=[],d=function(_,k,L){return L*(Math.pow(_-1,3)+1)+k};for(w=0;w<m;++w)b.push(d(w/this.STEPS,p,y-p));return b},this.scrollToLine=function(p,y,w,m){var b=this.$cursorLayer.getPixelPosition({row:p,column:0}),d=b.top;y&&(d-=this.$size.scrollerHeight/2);var _=this.scrollTop;this.session.setScrollTop(d),w!==!1&&this.animateScrolling(_,m)},this.animateScrolling=function(p,y){var w=this.scrollTop;if(!!this.$animatedScroll){var m=this;if(p!=w){if(this.$scrollAnimation){var b=this.$scrollAnimation.steps;if(b.length&&(p=b[0],p==w))return}var d=m.$calcSteps(p,w);this.$scrollAnimation={from:p,to:w,steps:d},clearInterval(this.$timer),m.session.setScrollTop(d.shift()),m.session.$scrollTop=w,this.$timer=setInterval(function(){if(!m.session)return clearInterval(m.$timer);d.length?(m.session.setScrollTop(d.shift()),m.session.$scrollTop=w):w!=null?(m.session.$scrollTop=-1,m.session.setScrollTop(w),w=null):(m.$timer=clearInterval(m.$timer),m.$scrollAnimation=null,y&&y())},10)}}},this.scrollToY=function(p){this.scrollTop!==p&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=p)},this.scrollToX=function(p){this.scrollLeft!==p&&(this.scrollLeft=p),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(p,y){this.session.setScrollTop(y),this.session.setScrollLeft(p)},this.scrollBy=function(p,y){y&&this.session.setScrollTop(this.session.getScrollTop()+y),p&&this.session.setScrollLeft(this.session.getScrollLeft()+p)},this.isScrollableBy=function(p,y){if(y<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||y>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||p<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||p>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(p,y){var w;if(this.$hasCssTransforms){w={top:0,left:0};var m=this.$fontMetrics.transformCoordinates([p,y]);p=m[1]-this.gutterWidth-this.margin.left,y=m[0]}else w=this.scroller.getBoundingClientRect();var b=p+this.scrollLeft-w.left-this.$padding,d=b/this.characterWidth,_=Math.floor((y+this.scrollTop-w.top)/this.lineHeight),k=this.$blockCursor?Math.floor(d):Math.round(d);return{row:_,column:k,side:d-k>0?1:-1,offsetX:b}},this.screenToTextCoordinates=function(p,y){var w;if(this.$hasCssTransforms){w={top:0,left:0};var m=this.$fontMetrics.transformCoordinates([p,y]);p=m[1]-this.gutterWidth-this.margin.left,y=m[0]}else w=this.scroller.getBoundingClientRect();var b=p+this.scrollLeft-w.left-this.$padding,d=b/this.characterWidth,_=this.$blockCursor?Math.floor(d):Math.round(d),k=Math.floor((y+this.scrollTop-w.top)/this.lineHeight);return this.session.screenToDocumentPosition(k,Math.max(_,0),b)},this.textToScreenCoordinates=function(p,y){var w=this.scroller.getBoundingClientRect(),m=this.session.documentToScreenPosition(p,y),b=this.$padding+(this.session.$bidiHandler.isBidiRow(m.row,p)?this.session.$bidiHandler.getPosLeft(m.column):Math.round(m.column*this.characterWidth)),d=m.row*this.lineHeight;return{pageX:w.left+b-this.scrollLeft,pageY:w.top+d-this.scrollTop}},this.visualizeFocus=function(){g.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){g.removeCssClass(this.container,"ace_focus")},this.showComposition=function(p){this.$composition=p,p.cssText||(p.cssText=this.textarea.style.cssText),p.useTextareaForIME==null&&(p.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(g.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):p.markerId=this.session.addMarker(p.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(p){var y=this.session.selection.cursor;this.addToken(p,"composition_placeholder",y.row,y.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),g.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var p=this.session.selection.cursor;this.removeExtraToken(p.row,p.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(p,y,w,m){var b=this.session;b.bgTokenizer.lines[w]=null;var d={type:y,value:p},_=b.getTokens(w);if(m==null)_.push(d);else for(var k=0,L=0;L<_.length;L++){var E=_[L];if(k+=E.value.length,m<=k){var R=E.value.length-(k-m),x=E.value.slice(0,R),O=E.value.slice(R);_.splice(L,1,{type:E.type,value:x},d,{type:E.type,value:O});break}}this.updateLines(w,w)},this.removeExtraToken=function(p,y){this.updateLines(p,p)},this.setTheme=function(p,y){var w=this;if(this.$themeId=p,w._dispatchEvent("themeChange",{theme:p}),!p||typeof p=="string"){var m=p||this.$options.theme.initialValue;o.loadModule(["theme",m],b)}else b(p);function b(d){if(w.$themeId!=p)return y&&y();if(!d||!d.cssClass)throw new Error("couldn't load module "+p+" or it didn't call define");d.$id&&(w.$themeId=d.$id),g.importCssString(d.cssText,d.cssClass,w.container),w.theme&&g.removeCssClass(w.container,w.theme.cssClass);var _="padding"in d?d.padding:"padding"in(w.theme||{})?4:w.$padding;w.$padding&&_!=w.$padding&&w.setPadding(_),w.$theme=d.cssClass,w.theme=d,g.addCssClass(w.container,d.cssClass),g.setCssClass(w.container,"ace_dark",d.isDark),w.$size&&(w.$size.width=0,w.$updateSizeAsync()),w._dispatchEvent("themeLoaded",{theme:d}),y&&y()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(p,y){g.setCssClass(this.container,p,y!==!1)},this.unsetStyle=function(p){g.removeCssClass(this.container,p)},this.setCursorStyle=function(p){g.setStyle(this.scroller.style,"cursor",p)},this.setMouseCursor=function(p){g.setStyle(this.scroller.style,"cursor",p)},this.attachToShadowRoot=function(){g.importCssString(S,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call($.prototype),o.defineOptions($.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(p){this.$textLayer.setShowInvisibles(p)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(p){typeof p=="number"&&(this.$printMarginColumn=p),this.$showPrintMargin=!!p,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(p){this.$gutter.style.display=p?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(p){g.setCssClass(this.$gutter,"ace_fade-fold-widgets",p)},initialValue:!1},showFoldWidgets:{set:function(p){this.$gutterLayer.setShowFoldWidgets(p),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(p){this.$textLayer.setDisplayIndentGuides(p)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(p){this.$gutterLayer.setHighlightGutterLine(p),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(p){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(p){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(p){typeof p=="number"&&(p=p+"px"),this.container.style.fontSize=p,this.updateFontSize()},initialValue:12},fontFamily:{set:function(p){this.container.style.fontFamily=p,this.updateFontSize()}},maxLines:{set:function(p){this.updateFull()}},minLines:{set:function(p){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(p){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(p){p=+p||0,this.$scrollPastEnd!=p&&(this.$scrollPastEnd=p,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(p){this.$gutterLayer.$fixedWidth=!!p,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(p){this.setTheme(p)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!A.isMobile&&!A.isIE}}),r.VirtualRenderer=$});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,r,c){"use strict";var u=e("../lib/oop"),g=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config");function h(s){var l="importScripts('"+g.qualifyURL(s)+"');";try{return new Blob([l],{type:"application/javascript"})}catch(S){var f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,v=new f;return v.append(l),v.getBlob("application/javascript")}}function i(s){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var l=h(s),f=window.URL||window.webkitURL,v=f.createObjectURL(l);return new Worker(v)}return new Worker(s)}var t=function(s){s.postMessage||(s=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=s,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){u.implement(this,o),this.$createWorkerFromOldConfig=function(s,l,f,v,S){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)v=v||a.moduleUrl(l,"worker");else{var A=this.$normalizePath;v=v||A(e.toUrl("ace/worker/worker.js",null,"_"));var C={};s.forEach(function($){C[$]=A(e.toUrl($,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=i(v),S&&this.send("importScripts",S),this.$worker.postMessage({init:!0,tlns:C,module:l,classname:f}),this.$worker},this.onMessage=function(s){var l=s.data;switch(l.type){case"event":this._signal(l.name,{data:l.data});break;case"call":var f=this.callbacks[l.id];f&&(f(l.data),delete this.callbacks[l.id]);break;case"error":this.reportError(l.data);break;case"log":window.console&&console.log&&console.log.apply(console,l.data);break}},this.reportError=function(s){window.console&&console.error&&console.error(s)},this.$normalizePath=function(s){return g.qualifyURL(s)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(s,l){this.$worker.postMessage({command:s,args:l})},this.call=function(s,l,f){if(f){var v=this.callbackId++;this.callbacks[v]=f,l.push(v)}this.send(s,l)},this.emit=function(s,l){try{l.data&&l.data.err&&(l.data.err={message:l.data.err.message,stack:l.data.err.stack,code:l.data.err.code}),this.$worker.postMessage({event:s,data:{data:l.data}})}catch(f){console.error(f.stack)}},this.attachToDocument=function(s){this.$doc&&this.terminate(),this.$doc=s,this.call("setValue",[s.getValue()]),s.on("change",this.changeListener)},this.changeListener=function(s){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),s.action=="insert"?this.deltaQueue.push(s.start,s.lines):this.deltaQueue.push(s.start,s.end)},this.$sendDeltaQueue=function(){var s=this.deltaQueue;!s||(this.deltaQueue=null,s.length>50&&s.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:s}))}}).call(t.prototype);var n=function(s,l,f){var v=null,S=!1,A=Object.create(o),C=[],$=new t({messageBuffer:C,terminate:function(){},postMessage:function(y){C.push(y),!!v&&(S?setTimeout(p):p())}});$.setEmitSync=function(y){S=y};var p=function(){var y=C.shift();y.command?v[y.command].apply(v,y.args):y.event&&A._signal(y.event,y.data)};return A.postMessage=function(y){$.onMessage({data:y})},A.callback=function(y,w){this.postMessage({type:"call",id:w,data:y})},A.emit=function(y,w){this.postMessage({type:"event",name:y,data:w})},a.loadModule(["worker",l],function(y){for(v=new y[f](A);C.length;)p()}),$};r.UIWorkerClient=n,r.WorkerClient=t,r.createWorker=i});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,r,c){"use strict";var u=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),a=function(h,i,t,n,s,l){var f=this;this.length=i,this.session=h,this.doc=h.getDocument(),this.mainClass=s,this.othersClass=l,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){f.onCursorChange()})},this.$pos=t;var v=h.getUndoManager().$undoStack||h.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),h.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,g),this.setup=function(){var h=this,i=this.doc,t=this.session;this.selectionBefore=t.selection.toJSON(),t.selection.inMultiSelectMode&&t.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=t.addMarker(new u(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(s){var l=i.createAnchor(s.row,s.column);l.$insertRight=!0,l.detach(),h.others.push(l)}),t.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var h=this.session,i=this;this.othersActive=!0,this.others.forEach(function(t){t.markerId=h.addMarker(new u(t.row,t.column,t.row,t.column+i.length),i.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var h=0;h<this.others.length;h++)this.session.removeMarker(this.others[h].markerId)}},this.onUpdate=function(h){if(this.$updating)return this.updateAnchors(h);var i=h;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var t=h.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,n=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,s=i.start.column-this.pos.column;if(this.updateAnchors(h),n&&(this.length+=t),n&&!this.session.$fromUndo){if(h.action==="insert")for(var l=this.others.length-1;l>=0;l--){var f=this.others[l],v={row:f.row,column:f.column+s};this.doc.insertMergedLines(v,h.lines)}else if(h.action==="remove")for(var l=this.others.length-1;l>=0;l--){var f=this.others[l],v={row:f.row,column:f.column+s};this.doc.remove(new u(v.row,v.column,v.row,v.column-t))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(h){this.pos.onChange(h);for(var i=this.others.length;i--;)this.others[i].onChange(h);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var h=this,i=this.session,t=function(s,l){i.removeMarker(s.markerId),s.markerId=i.addMarker(new u(s.row,s.column,s.row,s.column+h.length),l,null,!1)};t(this.pos,this.mainClass);for(var n=this.others.length;n--;)t(this.others[n],this.othersClass)}},this.onCursorChange=function(h){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",h)):(this.hideOtherMarkers(),this._emit("cursorLeave",h))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var h=this.session.getUndoManager(),i=(h.$undoStack||h.$undostack).length-this.$undoStackDepth,t=0;t<i;t++)h.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),r.PlaceHolder=a});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,r,c){var u=e("../lib/event"),g=e("../lib/useragent");function o(h,i){return h.row==i.row&&h.column==i.column}function a(h){var i=h.domEvent,t=i.altKey,n=i.shiftKey,s=i.ctrlKey,l=h.getAccelKey(),f=h.getButton();if(s&&g.isMac&&(f=i.button),h.editor.inMultiSelectMode&&f==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!s&&!t&&!l){f===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(f===0){var v=h.editor,S=v.selection,A=v.inMultiSelectMode,C=h.getDocumentPosition(),$=S.getCursor(),p=h.inSelection()||S.isEmpty()&&o(C,$),y=h.x,w=h.y,m=function(M){y=M.clientX,w=M.clientY},b=v.session,d=v.renderer.pixelToScreenCoordinates(y,w),_=d,k;if(v.$mouseHandler.$enableJumpToDef)s&&t||l&&t?k=n?"block":"add":t&&v.$blockSelectEnabled&&(k="block");else if(l&&!t){if(k="add",!A&&n)return}else t&&v.$blockSelectEnabled&&(k="block");if(k&&g.isMac&&i.ctrlKey&&v.$mouseHandler.cancelContextMenu(),k=="add"){if(!A&&p)return;if(!A){var L=S.toOrientedRange();v.addSelectionMarker(L)}var E=S.rangeList.rangeAtPoint(C);v.inVirtualSelectionMode=!0,n&&(E=null,L=S.ranges[0]||L,v.removeSelectionMarker(L)),v.once("mouseup",function(){var M=S.toOrientedRange();E&&M.isEmpty()&&o(E.cursor,M.cursor)?S.substractPoint(M.cursor):(n?S.substractPoint(L.cursor):L&&(v.removeSelectionMarker(L),S.addRange(L)),S.addRange(M)),v.inVirtualSelectionMode=!1})}else if(k=="block"){h.stop(),v.inVirtualSelectionMode=!0;var R,x=[],O=function(){var M=v.renderer.pixelToScreenCoordinates(y,w),W=b.screenToDocumentPosition(M.row,M.column,M.offsetX);o(_,M)&&o(W,S.lead)||(_=M,v.selection.moveToPosition(W),v.renderer.scrollCursorIntoView(),v.removeSelectionMarkers(x),x=S.rectangularRangeBlock(_,d),v.$mouseHandler.$clickSelection&&x.length==1&&x[0].isEmpty()&&(x[0]=v.$mouseHandler.$clickSelection.clone()),x.forEach(v.addSelectionMarker,v),v.updateSelectionMarkers())};A&&!l?S.toSingleRange():!A&&l&&(R=S.toOrientedRange(),v.addSelectionMarker(R)),n?d=b.documentToScreenPosition(S.lead):S.moveToPosition(C),_={row:-1,column:-1};var T=function(M){O(),clearInterval(I),v.removeSelectionMarkers(x),x.length||(x=[S.toOrientedRange()]),R&&(v.removeSelectionMarker(R),S.toSingleRange(R));for(var W=0;W<x.length;W++)S.addRange(x[W]);v.inVirtualSelectionMode=!1,v.$mouseHandler.$clickSelection=null},F=O;u.capture(v.container,m,T);var I=setInterval(function(){F()},20);return h.preventDefault()}}}r.onMouseDown=a});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,r,c){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(g){g.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(g){g.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(g){g.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(g){g.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(g){g.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(g){g.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(g){g.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(g){g.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(g){g.multiSelect.rangeCount>1?g.multiSelect.joinSelections():g.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(g){g.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(g){g.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(g){g.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(g){g.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(g){return g&&g.inMultiSelectMode}}];var u=e("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new u(r.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,r,c){var u=e("./range_list").RangeList,g=e("./range").Range,o=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,h=e("./lib/event"),i=e("./lib/lang"),t=e("./commands/multi_select_commands");r.commands=t.defaultCommands.concat(t.multiSelectCommands);var n=e("./search").Search,s=new n;function l($,p,y){return s.$options.wrap=!0,s.$options.needle=p,s.$options.backwards=y==-1,s.find($)}var f=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function($,p){if(!!$){if(!this.inMultiSelectMode&&this.rangeCount===0){var y=this.toOrientedRange();if(this.rangeList.add(y),this.rangeList.add($),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),p||this.fromOrientedRange($);this.rangeList.removeAll(),this.rangeList.add(y),this.$onAddRange(y)}$.cursor||($.cursor=$.end);var w=this.rangeList.add($);return this.$onAddRange($),w.length&&this.$onRemoveRange(w),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),p||this.fromOrientedRange($)}},this.toSingleRange=function($){$=$||this.ranges[0];var p=this.rangeList.removeAll();p.length&&this.$onRemoveRange(p),$&&this.fromOrientedRange($)},this.substractPoint=function($){var p=this.rangeList.substractPoint($);if(p)return this.$onRemoveRange(p),p[0]},this.mergeOverlappingRanges=function(){var $=this.rangeList.merge();$.length&&this.$onRemoveRange($)},this.$onAddRange=function($){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift($),this._signal("addRange",{range:$})},this.$onRemoveRange=function($){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var p=this.rangeList.ranges.pop();$.push(p),this.rangeCount=0}for(var y=$.length;y--;){var w=this.ranges.indexOf($[y]);this.ranges.splice(w,1)}this._signal("removeRange",{ranges:$}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),p=p||this.ranges[0],p&&!p.isEqual(this.getRange())&&this.fromOrientedRange(p)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new u,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var $=this.ranges.length?this.ranges:[this.getRange()],p=[],y=0;y<$.length;y++){var w=$[y],m=w.start.row,b=w.end.row;if(m===b)p.push(w.clone());else{for(p.push(new g(m,w.start.column,m,this.session.getLine(m).length));++m<b;)p.push(this.getLineRange(m,!0));p.push(new g(b,0,b,w.end.column))}y==0&&!this.isBackwards()&&(p=p.reverse())}this.toSingleRange();for(var y=p.length;y--;)this.addRange(p[y])},this.joinSelections=function(){var $=this.rangeList.ranges,p=$[$.length-1],y=g.fromPoints($[0].start,p.end);this.toSingleRange(),this.setSelectionRange(y,p.cursor==p.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var $=this.rangeList.ranges,p=$[$.length-1],y=g.fromPoints($[0].start,p.end);this.toSingleRange(),this.setSelectionRange(y,p.cursor==p.start)}else{var w=this.session.documentToScreenPosition(this.cursor),m=this.session.documentToScreenPosition(this.anchor),b=this.rectangularRangeBlock(w,m);b.forEach(this.addRange,this)}},this.rectangularRangeBlock=function($,p,y){var w=[],m=$.column<p.column;if(m)var b=$.column,d=p.column,_=$.offsetX,k=p.offsetX;else var b=p.column,d=$.column,_=p.offsetX,k=$.offsetX;var L=$.row<p.row;if(L)var E=$.row,R=p.row;else var E=p.row,R=$.row;b<0&&(b=0),E<0&&(E=0),E==R&&(y=!0);for(var x,O=E;O<=R;O++){var T=g.fromPoints(this.session.screenToDocumentPosition(O,b,_),this.session.screenToDocumentPosition(O,d,k));if(T.isEmpty()){if(x&&S(T.end,x))break;x=T.end}T.cursor=m?T.start:T.end,w.push(T)}if(L&&w.reverse(),!y){for(var F=w.length-1;w[F].isEmpty()&&F>0;)F--;if(F>0)for(var I=0;w[I].isEmpty();)I++;for(var M=F;M>=I;M--)w[M].isEmpty()&&w.splice(M,1)}return w}}.call(o.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function($){$.cursor||($.cursor=$.end);var p=this.getSelectionStyle();return $.marker=this.session.addMarker($,"ace_selection",p),this.session.$selectionMarkers.push($),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,$},this.removeSelectionMarker=function($){if(!!$.marker){this.session.removeMarker($.marker);var p=this.session.$selectionMarkers.indexOf($);p!=-1&&this.session.$selectionMarkers.splice(p,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function($){for(var p=this.session.$selectionMarkers,y=$.length;y--;){var w=$[y];if(!!w.marker){this.session.removeMarker(w.marker);var m=p.indexOf(w);m!=-1&&p.splice(m,1)}}this.session.selectionMarkerCount=p.length},this.$onAddRange=function($){this.addSelectionMarker($.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function($){this.removeSelectionMarkers($.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function($){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(t.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function($){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(t.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function($){var p=$.command,y=$.editor;if(!!y.multiSelect){if(p.multiSelectAction)p.multiSelectAction=="forEach"?w=y.forEachSelection(p,$.args):p.multiSelectAction=="forEachLine"?w=y.forEachSelection(p,$.args,!0):p.multiSelectAction=="single"?(y.exitMultiSelectMode(),w=p.exec(y,$.args||{})):w=p.multiSelectAction(y,$.args||{});else{var w=p.exec(y,$.args||{});y.multiSelect.addRange(y.multiSelect.toOrientedRange()),y.multiSelect.mergeOverlappingRanges()}return w}},this.forEachSelection=function($,p,y){if(!this.inVirtualSelectionMode){var w=y&&y.keepOrder,m=y==!0||y&&y.$byLines,b=this.session,d=this.selection,_=d.rangeList,k=(w?d:_).ranges,L;if(!k.length)return $.exec?$.exec(this,p||{}):$(this,p||{});var E=d._eventRegistry;d._eventRegistry={};var R=new o(b);this.inVirtualSelectionMode=!0;for(var x=k.length;x--;){if(m)for(;x>0&&k[x].start.row==k[x-1].end.row;)x--;R.fromOrientedRange(k[x]),R.index=x,this.selection=b.selection=R;var O=$.exec?$.exec(this,p||{}):$(this,p||{});!L&&O!==void 0&&(L=O),R.toOrientedRange(k[x])}R.detach(),this.selection=b.selection=d,this.inVirtualSelectionMode=!1,d._eventRegistry=E,d.mergeOverlappingRanges(),d.ranges[0]&&d.fromOrientedRange(d.ranges[0]);var T=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),T&&T.from==T.to&&this.renderer.animateScrolling(T.from),L}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var $="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var p=this.multiSelect.rangeList.ranges,y=[],w=0;w<p.length;w++)y.push(this.session.getTextRange(p[w]));var m=this.session.getDocument().getNewLineCharacter();$=y.join(m),$.length==(y.length-1)*m.length&&($="")}else this.selection.isEmpty()||($=this.session.getTextRange(this.getSelectionRange()));return $},this.$checkMultiselectChange=function($,p){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var y=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&p==this.multiSelect.anchor)return;var w=p==this.multiSelect.anchor?y.cursor==y.start?y.end:y.start:y.cursor;w.row!=p.row||this.session.$clipPositionToDocument(w.row,w.column).column!=p.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function($,p,y){if(p=p||{},p.needle=$||p.needle,p.needle==null){var w=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();p.needle=this.session.getTextRange(w)}this.$search.set(p);var m=this.$search.findAll(this.session);if(!m.length)return 0;var b=this.multiSelect;y||b.toSingleRange(m[0]);for(var d=m.length;d--;)b.addRange(m[d],!0);return w&&b.rangeList.rangeAtPoint(w.start)&&b.addRange(w,!0),m.length},this.selectMoreLines=function($,p){var y=this.selection.toOrientedRange(),w=y.cursor==y.end,m=this.session.documentToScreenPosition(y.cursor);this.selection.$desiredColumn&&(m.column=this.selection.$desiredColumn);var b=this.session.screenToDocumentPosition(m.row+$,m.column);if(y.isEmpty())var _=b;else var d=this.session.documentToScreenPosition(w?y.end:y.start),_=this.session.screenToDocumentPosition(d.row+$,d.column);if(w){var k=g.fromPoints(b,_);k.cursor=k.start}else{var k=g.fromPoints(_,b);k.cursor=k.end}if(k.desiredColumn=m.column,!this.selection.inMultiSelectMode)this.selection.addRange(y);else if(p)var L=y.cursor;this.selection.addRange(k),L&&this.selection.substractPoint(L)},this.transposeSelections=function($){for(var p=this.session,y=p.multiSelect,w=y.ranges,m=w.length;m--;){var b=w[m];if(b.isEmpty()){var d=p.getWordRange(b.start.row,b.start.column);b.start.row=d.start.row,b.start.column=d.start.column,b.end.row=d.end.row,b.end.column=d.end.column}}y.mergeOverlappingRanges();for(var _=[],m=w.length;m--;){var b=w[m];_.unshift(p.getTextRange(b))}$<0?_.unshift(_.pop()):_.push(_.shift());for(var m=w.length;m--;){var b=w[m],d=b.clone();p.replace(b,_[m]),b.start.row=d.start.row,b.start.column=d.start.column}y.fromOrientedRange(y.ranges[0])},this.selectMore=function($,p,y){var w=this.session,m=w.multiSelect,b=m.toOrientedRange();if(!(b.isEmpty()&&(b=w.getWordRange(b.start.row,b.start.column),b.cursor=$==-1?b.start:b.end,this.multiSelect.addRange(b),y))){var d=w.getTextRange(b),_=l(w,d,$);_&&(_.cursor=$==-1?_.start:_.end,this.session.unfold(_),this.multiSelect.addRange(_),this.renderer.scrollCursorIntoView(null,.5)),p&&this.multiSelect.substractPoint(b.cursor)}},this.alignCursors=function(){var $=this.session,p=$.multiSelect,y=p.ranges,w=-1,m=y.filter(function(F){if(F.cursor.row==w)return!0;w=F.cursor.row});if(!y.length||m.length==y.length-1){var b=this.selection.getRange(),d=b.start.row,_=b.end.row,k=d==_;if(k){var L=this.session.getLength(),E;do E=this.session.getLine(_);while(/[=:]/.test(E)&&++_<L);do E=this.session.getLine(d);while(/[=:]/.test(E)&&--d>0);d<0&&(d=0),_>=L&&(_=L-1)}var R=this.session.removeFullLines(d,_);R=this.$reAlignText(R,k),this.session.insert({row:d,column:0},R.join(`
`)+`
`),k||(b.start.column=0,b.end.column=R[R.length-1].length),this.selection.setRange(b)}else{m.forEach(function(F){p.substractPoint(F.cursor)});var x=0,O=1/0,T=y.map(function(F){var I=F.cursor,M=$.getLine(I.row),W=M.substr(I.column).search(/\S/g);return W==-1&&(W=0),I.column>x&&(x=I.column),W<O&&(O=W),W});y.forEach(function(F,I){var M=F.cursor,W=x-M.column,D=T[I]-O;W>D?$.insert(M,i.stringRepeat(" ",W-D)):$.remove(new g(M.row,M.column,M.row,M.column-W+D)),F.start.column=F.end.column=x,F.start.row=F.end.row=M.row,F.cursor=F.end}),p.fromOrientedRange(y[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function($,p){var y=!0,w=!0,m,b,d;return $.map(function(R){var x=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return x?m==null?(m=x[1].length,b=x[2].length,d=x[3].length,x):(m+b+d!=x[1].length+x[2].length+x[3].length&&(w=!1),m!=x[1].length&&(y=!1),m>x[1].length&&(m=x[1].length),b<x[2].length&&(b=x[2].length),d>x[3].length&&(d=x[3].length),x):[R]}).map(p?k:y?w?L:k:E);function _(R){return i.stringRepeat(" ",R)}function k(R){return R[2]?_(m)+R[2]+_(b-R[2].length+d)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function L(R){return R[2]?_(m+b-R[2].length)+R[2]+_(d)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function E(R){return R[2]?_(m)+R[2]+_(d)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(v.prototype);function S($,p){return $.row==p.row&&$.column==p.column}r.onSessionChange=function($){var p=$.session;p&&!p.multiSelect&&(p.$selectionMarkers=[],p.selection.$initRangeList(),p.multiSelect=p.selection),this.multiSelect=p&&p.multiSelect;var y=$.oldSession;y&&(y.multiSelect.off("addRange",this.$onAddRange),y.multiSelect.off("removeRange",this.$onRemoveRange),y.multiSelect.off("multiSelect",this.$onMultiSelect),y.multiSelect.off("singleSelect",this.$onSingleSelect),y.multiSelect.lead.off("change",this.$checkMultiselectChange),y.multiSelect.anchor.off("change",this.$checkMultiselectChange)),p&&(p.multiSelect.on("addRange",this.$onAddRange),p.multiSelect.on("removeRange",this.$onRemoveRange),p.multiSelect.on("multiSelect",this.$onMultiSelect),p.multiSelect.on("singleSelect",this.$onSingleSelect),p.multiSelect.lead.on("change",this.$checkMultiselectChange),p.multiSelect.anchor.on("change",this.$checkMultiselectChange)),p&&this.inMultiSelectMode!=p.selection.inMultiSelectMode&&(p.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function A($){$.$multiselectOnSessionChange||($.$onAddRange=$.$onAddRange.bind($),$.$onRemoveRange=$.$onRemoveRange.bind($),$.$onMultiSelect=$.$onMultiSelect.bind($),$.$onSingleSelect=$.$onSingleSelect.bind($),$.$multiselectOnSessionChange=r.onSessionChange.bind($),$.$checkMultiselectChange=$.$checkMultiselectChange.bind($),$.$multiselectOnSessionChange($),$.on("changeSession",$.$multiselectOnSessionChange),$.on("mousedown",a),$.commands.addCommands(t.defaultCommands),C($))}function C($){if(!$.textInput)return;var p=$.textInput.getElement(),y=!1;h.addListener(p,"keydown",function(m){var b=m.keyCode==18&&!(m.ctrlKey||m.shiftKey||m.metaKey);$.$blockSelectEnabled&&b?y||($.renderer.setMouseCursor("crosshair"),y=!0):y&&w()},$),h.addListener(p,"keyup",w,$),h.addListener(p,"blur",w,$);function w(m){y&&($.renderer.setMouseCursor(""),y=!1)}}r.MultiSelect=A,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function($){A(this),$?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function($){this.$blockSelectEnabled=$},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=e("../../range").Range,g=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(o,a,h){var i=o.getLine(h);return this.foldingStartMarker.test(i)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(o,a,h){return null},this.indentationBlock=function(o,a,h){var i=/\S/,t=o.getLine(a),n=t.search(i);if(n!=-1){for(var s=h||t.length,l=o.getLength(),f=a,v=a;++a<l;){var S=o.getLine(a).search(i);if(S!=-1){if(S<=n){var A=o.getTokenAt(a,0);if(!A||A.type!=="string")break}v=a}}if(v>f){var C=o.getLine(v).length;return new u(f,s,v,C)}}},this.openingBracketBlock=function(o,a,h,i,t){var n={row:h,column:i+1},s=o.$findClosingBracket(a,n,t);if(!!s){var l=o.foldWidgets[s.row];return l==null&&(l=o.getFoldWidget(s.row)),l=="start"&&s.row>n.row&&(s.row--,s.column=o.getLine(s.row).length),u.fromPoints(n,s)}},this.closingBracketBlock=function(o,a,h,i,t){var n={row:h,column:i},s=o.$findOpeningBracket(a,n);if(!!s)return s.column++,n.column--,u.fromPoints(s,n)}}).call(g.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";r.isDark=!1,r.cssClass="ace-tm",r.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',r.$id="ace/theme/textmate";var u=e("../lib/dom");u.importCssString(r.cssText,r.cssClass,!1)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,r,c){"use strict";var u=e("./lib/dom");function g(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(o){var a;return this.lineWidgets?a=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:a=0,!this.$useWrapMode||!this.$wrapData[o]?1+a:this.$wrapData[o].length+1+a},this.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(a){a&&a.rowCount&&!a.hidden&&(o+=a.rowCount)}),o},this.$onChangeEditor=function(o){this.attach(o.editor)},this.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(o){var a=this.editor;if(!!a){this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets);var h=this.session.lineWidgets;h&&h.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},this.updateOnFold=function(o,a){var h=a.lineWidgets;if(!(!h||!o.action)){for(var i=o.data,t=i.start.row,n=i.end.row,s=o.action=="add",l=t+1;l<n;l++)h[l]&&(h[l].hidden=s);h[n]&&(s?h[t]?h[n].hidden=s:h[t]=h[n]:(h[t]==h[n]&&(h[t]=void 0),h[n].hidden=s))}},this.updateOnChange=function(o){var a=this.session.lineWidgets;if(!!a){var h=o.start.row,i=o.end.row-h;if(i!==0)if(o.action=="remove"){var t=a.splice(h+1,i);!a[h]&&t[t.length-1]&&(a[h]=t.pop()),t.forEach(function(s){s&&this.removeLineWidget(s)},this),this.$updateRows()}else{var n=new Array(i);a[h]&&a[h].column!=null&&o.start.column>a[h].column&&h++,n.unshift(h,0),a.splice.apply(a,n),this.$updateRows()}}},this.$updateRows=function(){var o=this.session.lineWidgets;if(!!o){var a=!0;o.forEach(function(h,i){if(h)for(a=!1,h.row=i;h.$oldWidget;)h.$oldWidget.row=i,h=h.$oldWidget}),a&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var a=this.session.lineWidgets[o.row];return a&&(o.$oldWidget=a,a.el&&a.el.parentNode&&(a.el.parentNode.removeChild(a.el),a._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},this.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var a=this.editor.renderer;o.html&&!o.el&&(o.el=u.createElement("div"),o.el.innerHTML=o.html),o.el&&(u.addCssClass(o.el,"ace_lineWidgetContainer"),o.el.style.position="absolute",o.el.style.zIndex=5,a.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex=3),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/a.layerConfig.lineHeight);var h=this.session.getFoldAt(o.row,0);if(o.$fold=h,h){var i=this.session.lineWidgets;o.row==h.end.row&&!i[h.start.row]?i[h.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(o),o},this.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch(h){}if(this.session.lineWidgets){var a=this.session.lineWidgets[o.row];if(a==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;a;){if(a.$oldWidget==o){a.$oldWidget=o.$oldWidget;break}a=a.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(o){for(var a=this.session.lineWidgets,h=a&&a[o],i=[];h;)i.push(h),h=h.$oldWidget;return i},this.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(o,a){var h=this.session._changedWidgets,i=a.layerConfig;if(!(!h||!h.length)){for(var t=1/0,n=0;n<h.length;n++){var s=h[n];if(!(!s||!s.el)&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,a.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var l=s.h/i.lineHeight;s.coverLine&&(l-=this.session.getRowLineCount(s.row),l<0&&(l=0)),s.rowCount!=l&&(s.rowCount=l,s.row<t&&(t=s.row))}}t!=1/0&&(this.session._emit("changeFold",{data:{start:{row:t}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(o,a){var h=a.layerConfig,i=this.session.lineWidgets;if(!!i){for(var t=Math.min(this.firstRow,h.firstRow),n=Math.max(this.lastRow,h.lastRow,i.length);t>0&&!i[t];)t--;this.firstRow=h.firstRow,this.lastRow=h.lastRow,a.$cursorLayer.config=h;for(var s=t;s<=n;s++){var l=i[s];if(!(!l||!l.el)){if(l.hidden){l.el.style.top=-100-(l.pixelHeight||0)+"px";continue}l._inDocument||(l._inDocument=!0,a.container.appendChild(l.el));var f=a.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;l.coverLine||(f+=h.lineHeight*this.session.getRowLineCount(l.row)),l.el.style.top=f-h.offset+"px";var v=l.coverGutter?0:a.gutterWidth;l.fixedWidth||(v-=a.scrollLeft),l.el.style.left=v+"px",l.fullWidth&&l.screenWidth&&(l.el.style.minWidth=h.width+2*h.padding+"px"),l.fixedWidth?l.el.style.right=a.scrollBar.getWidth()+"px":l.el.style.right=""}}}}}).call(g.prototype),r.LineWidgets=g});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,r,c){"use strict";var u=e("../line_widgets").LineWidgets,g=e("../lib/dom"),o=e("../range").Range;function a(i,t,n){for(var s=0,l=i.length-1;s<=l;){var f=s+l>>1,v=n(t,i[f]);if(v>0)s=f+1;else if(v<0)l=f-1;else return f}return-(s+1)}function h(i,t,n){var s=i.getAnnotations().sort(o.comparePoints);if(!!s.length){var l=a(s,{row:t,column:-1},o.comparePoints);l<0&&(l=-l-1),l>=s.length?l=n>0?0:s.length-1:l===0&&n<0&&(l=s.length-1);var f=s[l];if(!(!f||!n)){if(f.row===t){do f=s[l+=n];while(f&&f.row===t);if(!f)return s.slice()}var v=[];t=f.row;do v[n<0?"unshift":"push"](f),f=s[l+=n];while(f&&f.row==t);return v.length&&v}}}r.showErrorMarker=function(i,t){var n=i.session;n.widgetManager||(n.widgetManager=new u(n),n.widgetManager.attach(i));var s=i.getCursorPosition(),l=s.row,f=n.widgetManager.getWidgetsAtRow(l).filter(function(m){return m.type=="errorMarker"})[0];f?f.destroy():l-=t;var v=h(n,l,t),S;if(v){var A=v[0];s.column=(A.pos&&typeof A.column!="number"?A.pos.sc:A.column)||0,s.row=A.row,S=i.renderer.$gutterLayer.$annotations[s.row]}else{if(f)return;S={text:["Looks good!"],className:"ace_ok"}}i.session.unfold(s.row),i.selection.moveToPosition(s);var C={row:s.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},$=C.el.appendChild(g.createElement("div")),p=C.el.appendChild(g.createElement("div"));p.className="error_widget_arrow "+S.className;var y=i.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=y+i.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",$.className="error_widget "+S.className,$.innerHTML=S.text.join("<br>"),$.appendChild(g.createElement("div"));var w=function(m,b,d){if(b===0&&(d==="esc"||d==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){i.$mouseHandler.isMousePressed||(i.keyBinding.removeKeyboardHandler(w),n.widgetManager.removeLineWidget(C),i.off("changeSelection",C.destroy),i.off("changeSession",C.destroy),i.off("mouseup",C.destroy),i.off("change",C.destroy))},i.keyBinding.addKeyboardHandler(w),i.on("changeSelection",C.destroy),i.on("changeSession",C.destroy),i.on("mouseup",C.destroy),i.on("change",C.destroy),i.session.widgetManager.addLineWidget(C),C.el.onmousedown=i.focus.bind(i),i.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},g.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,r,c){"use strict";e("./lib/fixoldbrowsers");var u=e("./lib/dom"),g=e("./lib/event"),o=e("./range").Range,a=e("./editor").Editor,h=e("./edit_session").EditSession,i=e("./undomanager").UndoManager,t=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),r.config=e("./config"),r.require=e,typeof define=="function"&&(r.define=define),r.edit=function(n,s){if(typeof n=="string"){var l=n;if(n=document.getElementById(l),!n)throw new Error("ace.edit can't find div #"+l)}if(n&&n.env&&n.env.editor instanceof a)return n.env.editor;var f="";if(n&&/input|textarea/i.test(n.tagName)){var v=n;f=v.value,n=u.createElement("pre"),v.parentNode.replaceChild(n,v)}else n&&(f=n.textContent,n.innerHTML="");var S=r.createEditSession(f),A=new a(new t(n),S,s),C={document:S,editor:A,onResize:A.resize.bind(A,null)};return v&&(C.textarea=v),g.addListener(window,"resize",C.onResize),A.on("destroy",function(){g.removeListener(window,"resize",C.onResize),C.editor.container.env=null}),A.container.env=A.env=C,A},r.createEditSession=function(n,s){var l=new h(n,s);return l.setUndoManager(new i),l},r.Range=o,r.Editor=a,r.EditSession=h,r.UndoManager=i,r.VirtualRenderer=t,r.version=r.config.version});(function(){ace.require(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e);for(var r in e)e.hasOwnProperty(r)&&(window.ace[r]=e[r]);window.ace.default=window.ace,typeof Ut=="object"&&typeof yr=="object"&&Ut&&(Ut.exports=window.ace)})})()});var Sr=Ae((ic,_r)=>{j();"use strict";var No="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";_r.exports=No});var kr=Ae((nc,Ar)=>{j();"use strict";var zo=Sr();function $r(){}function Cr(){}Cr.resetWarningCache=$r;Ar.exports=function(){function e(u,g,o,a,h,i){if(i!==zo){var t=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw t.name="Invariant Violation",t}}e.isRequired=e;function r(){return e}var c={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Cr,resetWarningCache:$r};return c.PropTypes=c,c}});var At=Ae((oc,Lr)=>{j();Lr.exports=kr()();var rc,sc});var Di=Ae((xt,dt)=>{j();var Uo=200,Ai="__lodash_hash_undefined__",Vt=1,Er=2,Rr=9007199254740991,Kt="[object Arguments]",ki="[object Array]",Vo="[object AsyncFunction]",xr="[object Boolean]",Mr="[object Date]",Tr="[object Error]",Or="[object Function]",Ko="[object GeneratorFunction]",Gt="[object Map]",Fr="[object Number]",Go="[object Null]",ut="[object Object]",Ir="[object Promise]",jo="[object Proxy]",Dr="[object RegExp]",jt="[object Set]",Pr="[object String]",Yo="[object Symbol]",Xo="[object Undefined]",Li="[object WeakMap]",Br="[object ArrayBuffer]",Yt="[object DataView]",Qo="[object Float32Array]",Jo="[object Float64Array]",Zo="[object Int8Array]",qo="[object Int16Array]",ea="[object Int32Array]",ta="[object Uint8Array]",ia="[object Uint8ClampedArray]",na="[object Uint16Array]",ra="[object Uint32Array]",sa=/[\\^$.*+?()[\]{}|]/g,oa=/^\[object .+?Constructor\]$/,aa=/^(?:0|[1-9]\d*)$/,_e={};_e[Qo]=_e[Jo]=_e[Zo]=_e[qo]=_e[ea]=_e[ta]=_e[ia]=_e[na]=_e[ra]=!0;_e[Kt]=_e[ki]=_e[Br]=_e[xr]=_e[Yt]=_e[Mr]=_e[Tr]=_e[Or]=_e[Gt]=_e[Fr]=_e[ut]=_e[Dr]=_e[jt]=_e[Pr]=_e[Li]=!1;var Wr=typeof global=="object"&&global&&global.Object===Object&&global,la=typeof self=="object"&&self&&self.Object===Object&&self,Ne=Wr||la||Function("return this")(),Hr=typeof xt=="object"&&xt&&!xt.nodeType&&xt,Nr=Hr&&typeof dt=="object"&&dt&&!dt.nodeType&&dt,zr=Nr&&Nr.exports===Hr,Ei=zr&&Wr.process,Ur=function(){try{return Ei&&Ei.binding&&Ei.binding("util")}catch(e){}}(),Vr=Ur&&Ur.isTypedArray;function ha(e,r){for(var c=-1,u=e==null?0:e.length,g=0,o=[];++c<u;){var a=e[c];r(a,c,e)&&(o[g++]=a)}return o}function ca(e,r){for(var c=-1,u=r.length,g=e.length;++c<u;)e[g+c]=r[c];return e}function ua(e,r){for(var c=-1,u=e==null?0:e.length;++c<u;)if(r(e[c],c,e))return!0;return!1}function fa(e,r){for(var c=-1,u=Array(e);++c<e;)u[c]=r(c);return u}function da(e){return function(r){return e(r)}}function ga(e,r){return e.has(r)}function pa(e,r){return e==null?void 0:e[r]}function ma(e){var r=-1,c=Array(e.size);return e.forEach(function(u,g){c[++r]=[g,u]}),c}function va(e,r){return function(c){return e(r(c))}}function wa(e){var r=-1,c=Array(e.size);return e.forEach(function(u){c[++r]=u}),c}var ba=Array.prototype,ya=Function.prototype,Xt=Object.prototype,Ri=Ne["__core-js_shared__"],Kr=ya.toString,Be=Xt.hasOwnProperty,Gr=function(){var e=/[^.]+$/.exec(Ri&&Ri.keys&&Ri.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jr=Xt.toString,_a=RegExp("^"+Kr.call(Be).replace(sa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yr=zr?Ne.Buffer:void 0,Qt=Ne.Symbol,Xr=Ne.Uint8Array,Qr=Xt.propertyIsEnumerable,Sa=ba.splice,Je=Qt?Qt.toStringTag:void 0,Jr=Object.getOwnPropertySymbols,$a=Yr?Yr.isBuffer:void 0,Ca=va(Object.keys,Object),xi=ft(Ne,"DataView"),kt=ft(Ne,"Map"),Mi=ft(Ne,"Promise"),Ti=ft(Ne,"Set"),Oi=ft(Ne,"WeakMap"),Lt=ft(Object,"create"),Aa=et(xi),ka=et(kt),La=et(Mi),Ea=et(Ti),Ra=et(Oi),Zr=Qt?Qt.prototype:void 0,Fi=Zr?Zr.valueOf:void 0;function Ze(e){var r=-1,c=e==null?0:e.length;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function xa(){this.__data__=Lt?Lt(null):{},this.size=0}function Ma(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Ta(e){var r=this.__data__;if(Lt){var c=r[e];return c===Ai?void 0:c}return Be.call(r,e)?r[e]:void 0}function Oa(e){var r=this.__data__;return Lt?r[e]!==void 0:Be.call(r,e)}function Fa(e,r){var c=this.__data__;return this.size+=this.has(e)?0:1,c[e]=Lt&&r===void 0?Ai:r,this}Ze.prototype.clear=xa;Ze.prototype.delete=Ma;Ze.prototype.get=Ta;Ze.prototype.has=Oa;Ze.prototype.set=Fa;function ze(e){var r=-1,c=e==null?0:e.length;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function Ia(){this.__data__=[],this.size=0}function Da(e){var r=this.__data__,c=Zt(r,e);if(c<0)return!1;var u=r.length-1;return c==u?r.pop():Sa.call(r,c,1),--this.size,!0}function Pa(e){var r=this.__data__,c=Zt(r,e);return c<0?void 0:r[c][1]}function Ba(e){return Zt(this.__data__,e)>-1}function Wa(e,r){var c=this.__data__,u=Zt(c,e);return u<0?(++this.size,c.push([e,r])):c[u][1]=r,this}ze.prototype.clear=Ia;ze.prototype.delete=Da;ze.prototype.get=Pa;ze.prototype.has=Ba;ze.prototype.set=Wa;function qe(e){var r=-1,c=e==null?0:e.length;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function Ha(){this.size=0,this.__data__={hash:new Ze,map:new(kt||ze),string:new Ze}}function Na(e){var r=qt(this,e).delete(e);return this.size-=r?1:0,r}function za(e){return qt(this,e).get(e)}function Ua(e){return qt(this,e).has(e)}function Va(e,r){var c=qt(this,e),u=c.size;return c.set(e,r),this.size+=c.size==u?0:1,this}qe.prototype.clear=Ha;qe.prototype.delete=Na;qe.prototype.get=za;qe.prototype.has=Ua;qe.prototype.set=Va;function Jt(e){var r=-1,c=e==null?0:e.length;for(this.__data__=new qe;++r<c;)this.add(e[r])}function Ka(e){return this.__data__.set(e,Ai),this}function Ga(e){return this.__data__.has(e)}Jt.prototype.add=Jt.prototype.push=Ka;Jt.prototype.has=Ga;function Ye(e){var r=this.__data__=new ze(e);this.size=r.size}function ja(){this.__data__=new ze,this.size=0}function Ya(e){var r=this.__data__,c=r.delete(e);return this.size=r.size,c}function Xa(e){return this.__data__.get(e)}function Qa(e){return this.__data__.has(e)}function Ja(e,r){var c=this.__data__;if(c instanceof ze){var u=c.__data__;if(!kt||u.length<Uo-1)return u.push([e,r]),this.size=++c.size,this;c=this.__data__=new qe(u)}return c.set(e,r),this.size=c.size,this}Ye.prototype.clear=ja;Ye.prototype.delete=Ya;Ye.prototype.get=Xa;Ye.prototype.has=Qa;Ye.prototype.set=Ja;function Za(e,r){var c=ei(e),u=!c&&dl(e),g=!c&&!u&&Ii(e),o=!c&&!u&&!g&&as(e),a=c||u||g||o,h=a?fa(e.length,String):[],i=h.length;for(var t in e)(r||Be.call(e,t))&&!(a&&(t=="length"||g&&(t=="offset"||t=="parent")||o&&(t=="buffer"||t=="byteLength"||t=="byteOffset")||ll(t,i)))&&h.push(t);return h}function Zt(e,r){for(var c=e.length;c--;)if(ns(e[c][0],r))return c;return-1}function qa(e,r,c){var u=r(e);return ei(e)?u:ca(u,c(e))}function Et(e){return e==null?e===void 0?Xo:Go:Je&&Je in Object(e)?ol(e):fl(e)}function qr(e){return Rt(e)&&Et(e)==Kt}function es(e,r,c,u,g){return e===r?!0:e==null||r==null||!Rt(e)&&!Rt(r)?e!==e&&r!==r:el(e,r,c,u,es,g)}function el(e,r,c,u,g,o){var a=ei(e),h=ei(r),i=a?ki:Xe(e),t=h?ki:Xe(r);i=i==Kt?ut:i,t=t==Kt?ut:t;var n=i==ut,s=t==ut,l=i==t;if(l&&Ii(e)){if(!Ii(r))return!1;a=!0,n=!1}if(l&&!n)return o||(o=new Ye),a||as(e)?ts(e,r,c,u,g,o):rl(e,r,i,c,u,g,o);if(!(c&Vt)){var f=n&&Be.call(e,"__wrapped__"),v=s&&Be.call(r,"__wrapped__");if(f||v){var S=f?e.value():e,A=v?r.value():r;return o||(o=new Ye),g(S,A,c,u,o)}}return l?(o||(o=new Ye),sl(e,r,c,u,g,o)):!1}function tl(e){if(!os(e)||cl(e))return!1;var r=rs(e)?_a:oa;return r.test(et(e))}function il(e){return Rt(e)&&ss(e.length)&&!!_e[Et(e)]}function nl(e){if(!ul(e))return Ca(e);var r=[];for(var c in Object(e))Be.call(e,c)&&c!="constructor"&&r.push(c);return r}function ts(e,r,c,u,g,o){var a=c&Vt,h=e.length,i=r.length;if(h!=i&&!(a&&i>h))return!1;var t=o.get(e);if(t&&o.get(r))return t==r;var n=-1,s=!0,l=c&Er?new Jt:void 0;for(o.set(e,r),o.set(r,e);++n<h;){var f=e[n],v=r[n];if(u)var S=a?u(v,f,n,r,e,o):u(f,v,n,e,r,o);if(S!==void 0){if(S)continue;s=!1;break}if(l){if(!ua(r,function(A,C){if(!ga(l,C)&&(f===A||g(f,A,c,u,o)))return l.push(C)})){s=!1;break}}else if(!(f===v||g(f,v,c,u,o))){s=!1;break}}return o.delete(e),o.delete(r),s}function rl(e,r,c,u,g,o,a){switch(c){case Yt:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Br:return!(e.byteLength!=r.byteLength||!o(new Xr(e),new Xr(r)));case xr:case Mr:case Fr:return ns(+e,+r);case Tr:return e.name==r.name&&e.message==r.message;case Dr:case Pr:return e==r+"";case Gt:var h=ma;case jt:var i=u&Vt;if(h||(h=wa),e.size!=r.size&&!i)return!1;var t=a.get(e);if(t)return t==r;u|=Er,a.set(e,r);var n=ts(h(e),h(r),u,g,o,a);return a.delete(e),n;case Yo:if(Fi)return Fi.call(e)==Fi.call(r)}return!1}function sl(e,r,c,u,g,o){var a=c&Vt,h=is(e),i=h.length,t=is(r),n=t.length;if(i!=n&&!a)return!1;for(var s=i;s--;){var l=h[s];if(!(a?l in r:Be.call(r,l)))return!1}var f=o.get(e);if(f&&o.get(r))return f==r;var v=!0;o.set(e,r),o.set(r,e);for(var S=a;++s<i;){l=h[s];var A=e[l],C=r[l];if(u)var $=a?u(C,A,l,r,e,o):u(A,C,l,e,r,o);if(!($===void 0?A===C||g(A,C,c,u,o):$)){v=!1;break}S||(S=l=="constructor")}if(v&&!S){var p=e.constructor,y=r.constructor;p!=y&&"constructor"in e&&"constructor"in r&&!(typeof p=="function"&&p instanceof p&&typeof y=="function"&&y instanceof y)&&(v=!1)}return o.delete(e),o.delete(r),v}function is(e){return qa(e,ml,al)}function qt(e,r){var c=e.__data__;return hl(r)?c[typeof r=="string"?"string":"hash"]:c.map}function ft(e,r){var c=pa(e,r);return tl(c)?c:void 0}function ol(e){var r=Be.call(e,Je),c=e[Je];try{e[Je]=void 0;var u=!0}catch(o){}var g=jr.call(e);return u&&(r?e[Je]=c:delete e[Je]),g}var al=Jr?function(e){return e==null?[]:(e=Object(e),ha(Jr(e),function(r){return Qr.call(e,r)}))}:vl,Xe=Et;(xi&&Xe(new xi(new ArrayBuffer(1)))!=Yt||kt&&Xe(new kt)!=Gt||Mi&&Xe(Mi.resolve())!=Ir||Ti&&Xe(new Ti)!=jt||Oi&&Xe(new Oi)!=Li)&&(Xe=function(e){var r=Et(e),c=r==ut?e.constructor:void 0,u=c?et(c):"";if(u)switch(u){case Aa:return Yt;case ka:return Gt;case La:return Ir;case Ea:return jt;case Ra:return Li}return r});function ll(e,r){return r=r==null?Rr:r,!!r&&(typeof e=="number"||aa.test(e))&&e>-1&&e%1==0&&e<r}function hl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function cl(e){return!!Gr&&Gr in e}function ul(e){var r=e&&e.constructor,c=typeof r=="function"&&r.prototype||Xt;return e===c}function fl(e){return jr.call(e)}function et(e){if(e!=null){try{return Kr.call(e)}catch(r){}try{return e+""}catch(r){}}return""}function ns(e,r){return e===r||e!==e&&r!==r}var dl=qr(function(){return arguments}())?qr:function(e){return Rt(e)&&Be.call(e,"callee")&&!Qr.call(e,"callee")},ei=Array.isArray;function gl(e){return e!=null&&ss(e.length)&&!rs(e)}var Ii=$a||wl;function pl(e,r){return es(e,r)}function rs(e){if(!os(e))return!1;var r=Et(e);return r==Or||r==Ko||r==Vo||r==jo}function ss(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rr}function os(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Rt(e){return e!=null&&typeof e=="object"}var as=Vr?da(Vr):il;function ml(e){return gl(e)?Za(e):nl(e)}function vl(){return[]}function wl(){return!1}dt.exports=pl});var Pi=Ae(We=>{j();"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.getAceInstance=We.debounce=We.editorEvents=We.editorOptions=void 0;var bl=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];We.editorOptions=bl;var yl=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];We.editorEvents=yl;var _l=function(){var e;return typeof window=="undefined"?(global.window={},e=Ct(),delete global.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=Ct(),e};We.getAceInstance=_l;var Sl=function(e,r){var c=null;return function(){var u=this,g=arguments;clearTimeout(c),c=setTimeout(function(){e.apply(u,g)},r)}};We.debounce=Sl});var cs=Ae(tt=>{j();"use strict";var $l=tt&&tt.__extends||function(){var e=function(r,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&(u[o]=g[o])},e(r,c)};return function(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(r,c);function u(){this.constructor=r}r.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),Bi=tt&&tt.__assign||function(){return Bi=Object.assign||function(e){for(var r,c=1,u=arguments.length;c<u;c++){r=arguments[c];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(e[g]=r[g])}return e},Bi.apply(this,arguments)};Object.defineProperty(tt,"__esModule",{value:!0});var Cl=Ct(),J=At(),ls=Ge(),ti=Di(),gt=Pi(),hs=(0,gt.getAceInstance)(),Al=function(e){$l(r,e);function r(c){var u=e.call(this,c)||this;return gt.editorEvents.forEach(function(g){u[g]=u[g].bind(u)}),u.debounce=gt.debounce,u}return r.prototype.isInShadow=function(c){for(var u=c&&c.parentNode;u;){if(u.toString()==="[object ShadowRoot]")return!0;u=u.parentNode}return!1},r.prototype.componentDidMount=function(){var c=this,u=this.props,g=u.className,o=u.onBeforeLoad,a=u.onValidate,h=u.mode,i=u.focus,t=u.theme,n=u.fontSize,s=u.value,l=u.defaultValue,f=u.showGutter,v=u.wrapEnabled,S=u.showPrintMargin,A=u.scrollMargin,C=A===void 0?[0,0,0,0]:A,$=u.keyboardHandler,p=u.onLoad,y=u.commands,w=u.annotations,m=u.markers,b=u.placeholder;this.editor=hs.edit(this.refEditor),o&&o(hs);for(var d=Object.keys(this.props.editorProps),_=0;_<d.length;_++)this.editor[d[_]]=this.props.editorProps[d[_]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(C[0],C[1],C[2],C[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof h=="string"?"ace/mode/"+h:h),t&&t!==""&&this.editor.setTheme("ace/theme/"+t),this.editor.setFontSize(typeof n=="number"?n+"px":n),this.editor.getSession().setValue(l||s||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(v),this.editor.setShowPrintMargin(S),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),b&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),a&&this.editor.getSession().on("changeAnnotation",function(){var L=c.editor.getSession().getAnnotations();c.props.onValidate(L)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),m&&m.length>0&&this.handleMarkers(m);var k=this.editor.$options;gt.editorOptions.forEach(function(L){k.hasOwnProperty(L)?c.editor.setOption(L,c.props[L]):c.props[L]&&console.warn("ReactAce: editor option "+L+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}),this.handleOptions(this.props),Array.isArray(y)&&y.forEach(function(L){typeof L.exec=="string"?c.editor.commands.bindKey(L.bindKey,L.exec):c.editor.commands.addCommand(L)}),$&&this.editor.setKeyboardHandler("ace/keyboard/"+$),g&&(this.refEditor.className+=" "+g),p&&p(this.editor),this.editor.resize(),i&&this.editor.focus()},r.prototype.componentDidUpdate=function(c){for(var u=c,g=this.props,o=0;o<gt.editorOptions.length;o++){var a=gt.editorOptions[o];g[a]!==u[a]&&this.editor.setOption(a,g[a])}if(g.className!==u.className){var h=this.refEditor.className,i=h.trim().split(" "),t=u.className.trim().split(" ");t.forEach(function(s){var l=i.indexOf(s);i.splice(l,1)}),this.refEditor.className=" "+g.className+" "+i.join(" ")}if(this.editor&&g.value!=null&&this.editor.getValue()!==g.value){this.silent=!0;var n=this.editor.session.selection.toJSON();this.editor.setValue(g.value,g.cursorStart),this.editor.session.selection.fromJSON(n),this.silent=!1}g.placeholder!==u.placeholder&&this.updatePlaceholder(),g.mode!==u.mode&&this.editor.getSession().setMode(typeof g.mode=="string"?"ace/mode/"+g.mode:g.mode),g.theme!==u.theme&&this.editor.setTheme("ace/theme/"+g.theme),g.keyboardHandler!==u.keyboardHandler&&(g.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+g.keyboardHandler):this.editor.setKeyboardHandler(null)),g.fontSize!==u.fontSize&&this.editor.setFontSize(typeof g.fontSize=="number"?g.fontSize+"px":g.fontSize),g.wrapEnabled!==u.wrapEnabled&&this.editor.getSession().setUseWrapMode(g.wrapEnabled),g.showPrintMargin!==u.showPrintMargin&&this.editor.setShowPrintMargin(g.showPrintMargin),g.showGutter!==u.showGutter&&this.editor.renderer.setShowGutter(g.showGutter),ti(g.setOptions,u.setOptions)||this.handleOptions(g),ti(g.annotations,u.annotations)||this.editor.getSession().setAnnotations(g.annotations||[]),!ti(g.markers,u.markers)&&Array.isArray(g.markers)&&this.handleMarkers(g.markers),ti(g.scrollMargin,u.scrollMargin)||this.handleScrollMargins(g.scrollMargin),(c.height!==this.props.height||c.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!c.focus&&this.editor.focus()},r.prototype.handleScrollMargins=function(c){c===void 0&&(c=[0,0,0,0]),this.editor.renderer.setScrollMargin(c[0],c[1],c[2],c[3])},r.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},r.prototype.onChange=function(c){if(this.props.onChange&&!this.silent){var u=this.editor.getValue();this.props.onChange(u,c)}},r.prototype.onSelectionChange=function(c){if(this.props.onSelectionChange){var u=this.editor.getSelection();this.props.onSelectionChange(u,c)}},r.prototype.onCursorChange=function(c){if(this.props.onCursorChange){var u=this.editor.getSelection();this.props.onCursorChange(u,c)}},r.prototype.onInput=function(c){this.props.onInput&&this.props.onInput(c),this.props.placeholder&&this.updatePlaceholder()},r.prototype.onFocus=function(c){this.props.onFocus&&this.props.onFocus(c,this.editor)},r.prototype.onBlur=function(c){this.props.onBlur&&this.props.onBlur(c,this.editor)},r.prototype.onCopy=function(c){var u=c.text;this.props.onCopy&&this.props.onCopy(u)},r.prototype.onPaste=function(c){var u=c.text;this.props.onPaste&&this.props.onPaste(u)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(c){for(var u=Object.keys(c.setOptions),g=0;g<u.length;g++)this.editor.setOption(u[g],c.setOptions[u[g]])},r.prototype.handleMarkers=function(c){var u=this,g=this.editor.getSession().getMarkers(!0);for(var o in g)g.hasOwnProperty(o)&&this.editor.getSession().removeMarker(g[o].id);g=this.editor.getSession().getMarkers(!1);for(var o in g)g.hasOwnProperty(o)&&g[o].clazz!=="ace_active-line"&&g[o].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(g[o].id);c.forEach(function(a){var h=a.startRow,i=a.startCol,t=a.endRow,n=a.endCol,s=a.className,l=a.type,f=a.inFront,v=f===void 0?!1:f,S=new Cl.Range(h,i,t,n);u.editor.getSession().addMarker(S,s,l,v)})},r.prototype.updatePlaceholder=function(){var c=this.editor,u=this.props.placeholder,g=!c.session.getValue().length,o=c.renderer.placeholderNode;!g&&o?(c.renderer.scroller.removeChild(c.renderer.placeholderNode),c.renderer.placeholderNode=null):g&&!o?(o=c.renderer.placeholderNode=document.createElement("div"),o.textContent=u||"",o.className="ace_comment ace_placeholder",o.style.padding="0 9px",o.style.position="absolute",o.style.zIndex="3",c.renderer.scroller.appendChild(o)):g&&o&&(o.textContent=u)},r.prototype.updateRef=function(c){this.refEditor=c},r.prototype.render=function(){var c=this.props,u=c.name,g=c.width,o=c.height,a=c.style,h=Bi({width:g,height:o},a);return ls.createElement("div",{ref:this.updateRef,id:u,style:h})},r.propTypes={mode:J.oneOfType([J.string,J.object]),focus:J.bool,theme:J.string,name:J.string,className:J.string,height:J.string,width:J.string,fontSize:J.oneOfType([J.number,J.string]),showGutter:J.bool,onChange:J.func,onCopy:J.func,onPaste:J.func,onFocus:J.func,onInput:J.func,onBlur:J.func,onScroll:J.func,value:J.string,defaultValue:J.string,onLoad:J.func,onSelectionChange:J.func,onCursorChange:J.func,onBeforeLoad:J.func,onValidate:J.func,minLines:J.number,maxLines:J.number,readOnly:J.bool,highlightActiveLine:J.bool,tabSize:J.number,showPrintMargin:J.bool,cursorStart:J.number,debounceChangePeriod:J.number,editorProps:J.object,setOptions:J.object,style:J.object,scrollMargin:J.array,annotations:J.array,markers:J.array,keyboardHandler:J.string,wrapEnabled:J.bool,enableSnippets:J.bool,enableBasicAutocompletion:J.oneOfType([J.bool,J.array]),enableLiveAutocompletion:J.oneOfType([J.bool,J.array]),navigateToFileEnd:J.bool,commands:J.array,placeholder:J.string},r.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},r}(ls.Component);tt.default=Al});var fs=Ae((us,ii)=>{j();ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(e,r,c){"use strict";var u=e("./lib/oop"),g=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,a=e("./editor").Editor,h=e("./virtual_renderer").VirtualRenderer,i=e("./edit_session").EditSession,t=function(n,s,l){this.BELOW=1,this.BESIDE=0,this.$container=n,this.$theme=s,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(l||1),this.$cEditor=this.$editors[0],this.on("focus",function(f){this.$cEditor=f}.bind(this))};(function(){u.implement(this,o),this.$createEditor=function(){var n=document.createElement("div");n.className=this.$editorCSS,n.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(n);var s=new a(new h(n,this.$theme));return s.on("focus",function(){this._emit("focus",s)}.bind(this)),this.$editors.push(s),s.setFontSize(this.$fontSize),s},this.setSplits=function(n){var s;if(n<1)throw"The number of splits have to be > 0!";if(n!=this.$splits){if(n>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<n;)s=this.$editors[this.$splits],this.$container.appendChild(s.container),s.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<n;)this.$createEditor(),this.$splits++}else for(;this.$splits>n;)s=this.$editors[this.$splits-1],this.$container.removeChild(s.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(n){return this.$editors[n]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(n){this.$editors.forEach(function(s){s.setTheme(n)})},this.setKeyboardHandler=function(n){this.$editors.forEach(function(s){s.setKeyboardHandler(n)})},this.forEach=function(n,s){this.$editors.forEach(n,s)},this.$fontSize="",this.setFontSize=function(n){this.$fontSize=n,this.forEach(function(s){s.setFontSize(n)})},this.$cloneSession=function(n){var s=new i(n.getDocument(),n.getMode()),l=n.getUndoManager();return s.setUndoManager(l),s.setTabSize(n.getTabSize()),s.setUseSoftTabs(n.getUseSoftTabs()),s.setOverwrite(n.getOverwrite()),s.setBreakpoints(n.getBreakpoints()),s.setUseWrapMode(n.getUseWrapMode()),s.setUseWorker(n.getUseWorker()),s.setWrapLimitRange(n.$wrapLimitRange.min,n.$wrapLimitRange.max),s.$foldData=n.$cloneFoldData(),s},this.setSession=function(n,s){var l;s==null?l=this.$cEditor:l=this.$editors[s];var f=this.$editors.some(function(v){return v.session===n});return f&&(n=this.$cloneSession(n)),l.setSession(n),n},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(n){this.$orientation!=n&&(this.$orientation=n,this.resize())},this.resize=function(){var n=this.$container.clientWidth,s=this.$container.clientHeight,l;if(this.$orientation==this.BESIDE)for(var f=n/this.$splits,v=0;v<this.$splits;v++)l=this.$editors[v],l.container.style.width=f+"px",l.container.style.top="0px",l.container.style.left=v*f+"px",l.container.style.height=s+"px",l.resize();else for(var S=s/this.$splits,v=0;v<this.$splits;v++)l=this.$editors[v],l.container.style.width=n+"px",l.container.style.top=v*S+"px",l.container.style.left="0px",l.container.style.height=S+"px",l.resize()}}).call(t.prototype),r.Split=t});ace.define("ace/ext/split",["require","exports","module","ace/split"],function(e,r,c){"use strict";c.exports=e("../split")});(function(){ace.require(["ace/ext/split"],function(e){typeof ii=="object"&&typeof us=="object"&&ii&&(ii.exports=e)})})()});var ks=Ae((hc,As)=>{j();var kl="Expected a function",ds="__lodash_hash_undefined__",gs=1/0,Ll="[object Function]",El="[object GeneratorFunction]",Rl="[object Symbol]",xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ml=/^\w*$/,Tl=/^\./,Ol=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fl=/[\\^$.*+?()[\]{}|]/g,Il=/\\(\\)?/g,Dl=/^\[object .+?Constructor\]$/,Pl=typeof global=="object"&&global&&global.Object===Object&&global,Bl=typeof self=="object"&&self&&self.Object===Object&&self,Wi=Pl||Bl||Function("return this")();function Wl(e,r){return e==null?void 0:e[r]}function Hl(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch(c){}return r}var Nl=Array.prototype,zl=Function.prototype,ps=Object.prototype,Hi=Wi["__core-js_shared__"],ms=function(){var e=/[^.]+$/.exec(Hi&&Hi.keys&&Hi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),vs=zl.toString,Ni=ps.hasOwnProperty,ws=ps.toString,Ul=RegExp("^"+vs.call(Ni).replace(Fl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bs=Wi.Symbol,Vl=Nl.splice,Kl=Ss(Wi,"Map"),Mt=Ss(Object,"create"),ys=bs?bs.prototype:void 0,_s=ys?ys.toString:void 0;function it(e){var r=-1,c=e?e.length:0;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function Gl(){this.__data__=Mt?Mt(null):{}}function jl(e){return this.has(e)&&delete this.__data__[e]}function Yl(e){var r=this.__data__;if(Mt){var c=r[e];return c===ds?void 0:c}return Ni.call(r,e)?r[e]:void 0}function Xl(e){var r=this.__data__;return Mt?r[e]!==void 0:Ni.call(r,e)}function Ql(e,r){var c=this.__data__;return c[e]=Mt&&r===void 0?ds:r,this}it.prototype.clear=Gl;it.prototype.delete=jl;it.prototype.get=Yl;it.prototype.has=Xl;it.prototype.set=Ql;function pt(e){var r=-1,c=e?e.length:0;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function Jl(){this.__data__=[]}function Zl(e){var r=this.__data__,c=ni(r,e);if(c<0)return!1;var u=r.length-1;return c==u?r.pop():Vl.call(r,c,1),!0}function ql(e){var r=this.__data__,c=ni(r,e);return c<0?void 0:r[c][1]}function eh(e){return ni(this.__data__,e)>-1}function th(e,r){var c=this.__data__,u=ni(c,e);return u<0?c.push([e,r]):c[u][1]=r,this}pt.prototype.clear=Jl;pt.prototype.delete=Zl;pt.prototype.get=ql;pt.prototype.has=eh;pt.prototype.set=th;function nt(e){var r=-1,c=e?e.length:0;for(this.clear();++r<c;){var u=e[r];this.set(u[0],u[1])}}function ih(){this.__data__={hash:new it,map:new(Kl||pt),string:new it}}function nh(e){return ri(this,e).delete(e)}function rh(e){return ri(this,e).get(e)}function sh(e){return ri(this,e).has(e)}function oh(e,r){return ri(this,e).set(e,r),this}nt.prototype.clear=ih;nt.prototype.delete=nh;nt.prototype.get=rh;nt.prototype.has=sh;nt.prototype.set=oh;function ni(e,r){for(var c=e.length;c--;)if(vh(e[c][0],r))return c;return-1}function ah(e,r){r=uh(r,e)?[r]:ch(r);for(var c=0,u=r.length;e!=null&&c<u;)e=e[ph(r[c++])];return c&&c==u?e:void 0}function lh(e){if(!Cs(e)||dh(e))return!1;var r=wh(e)||Hl(e)?Ul:Dl;return r.test(mh(e))}function hh(e){if(typeof e=="string")return e;if(Ui(e))return _s?_s.call(e):"";var r=e+"";return r=="0"&&1/e==-gs?"-0":r}function ch(e){return $s(e)?e:gh(e)}function ri(e,r){var c=e.__data__;return fh(r)?c[typeof r=="string"?"string":"hash"]:c.map}function Ss(e,r){var c=Wl(e,r);return lh(c)?c:void 0}function uh(e,r){if($s(e))return!1;var c=typeof e;return c=="number"||c=="symbol"||c=="boolean"||e==null||Ui(e)?!0:Ml.test(e)||!xl.test(e)||r!=null&&e in Object(r)}function fh(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function dh(e){return!!ms&&ms in e}var gh=zi(function(e){e=yh(e);var r=[];return Tl.test(e)&&r.push(""),e.replace(Ol,function(c,u,g,o){r.push(g?o.replace(Il,"$1"):u||c)}),r});function ph(e){if(typeof e=="string"||Ui(e))return e;var r=e+"";return r=="0"&&1/e==-gs?"-0":r}function mh(e){if(e!=null){try{return vs.call(e)}catch(r){}try{return e+""}catch(r){}}return""}function zi(e,r){if(typeof e!="function"||r&&typeof r!="function")throw new TypeError(kl);var c=function(){var u=arguments,g=r?r.apply(this,u):u[0],o=c.cache;if(o.has(g))return o.get(g);var a=e.apply(this,u);return c.cache=o.set(g,a),a};return c.cache=new(zi.Cache||nt),c}zi.Cache=nt;function vh(e,r){return e===r||e!==e&&r!==r}var $s=Array.isArray;function wh(e){var r=Cs(e)?ws.call(e):"";return r==Ll||r==El}function Cs(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function bh(e){return!!e&&typeof e=="object"}function Ui(e){return typeof e=="symbol"||bh(e)&&ws.call(e)==Rl}function yh(e){return e==null?"":hh(e)}function _h(e,r,c){var u=e==null?void 0:ah(e,r);return u===void 0?c:u}As.exports=_h});var ji=Ae(st=>{j();"use strict";var Sh=st&&st.__extends||function(){var e=function(r,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&(u[o]=g[o])},e(r,c)};return function(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(r,c);function u(){this.constructor=r}r.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),Vi=st&&st.__assign||function(){return Vi=Object.assign||function(e){for(var r,c=1,u=arguments.length;c<u;c++){r=arguments[c];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(e[g]=r[g])}return e},Vi.apply(this,arguments)};Object.defineProperty(st,"__esModule",{value:!0});var rt=Pi(),Ki=(0,rt.getAceInstance)(),$h=Ct(),Ch=fs(),q=At(),Ls=Ge(),Gi=Di(),Ue=ks(),Ah=function(e){Sh(r,e);function r(c){var u=e.call(this,c)||this;return rt.editorEvents.forEach(function(g){u[g]=u[g].bind(u)}),u.debounce=rt.debounce,u}return r.prototype.isInShadow=function(c){for(var u=c&&c.parentNode;u;){if(u.toString()==="[object ShadowRoot]")return!0;u=u.parentNode}return!1},r.prototype.componentDidMount=function(){var c=this,u=this.props,g=u.className,o=u.onBeforeLoad,a=u.mode,h=u.focus,i=u.theme,t=u.fontSize,n=u.value,s=u.defaultValue,l=u.cursorStart,f=u.showGutter,v=u.wrapEnabled,S=u.showPrintMargin,A=u.scrollMargin,C=A===void 0?[0,0,0,0]:A,$=u.keyboardHandler,p=u.onLoad,y=u.commands,w=u.annotations,m=u.markers,b=u.splits;this.editor=Ki.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/"+i),o&&o(Ki);var d=Object.keys(this.props.editorProps),_=new Ch.Split(this.editor.container,"ace/theme/"+i,b);this.editor.env.split=_,this.splitEditor=_.getEditor(0),this.split=_,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var k=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),_.forEach(function(E,R){for(var x=0;x<d.length;x++)E[d[x]]=c.props.editorProps[d[x]];var O=Ue(s,R),T=Ue(n,R,"");E.session.setUndoManager(new Ki.UndoManager),E.setTheme("ace/theme/"+i),E.renderer.setScrollMargin(C[0],C[1],C[2],C[3]),E.getSession().setMode("ace/mode/"+a),E.setFontSize(t),E.renderer.setShowGutter(f),E.getSession().setUseWrapMode(v),E.setShowPrintMargin(S),E.on("focus",c.onFocus),E.on("blur",c.onBlur),E.on("input",c.onInput),E.on("copy",c.onCopy),E.on("paste",c.onPaste),E.on("change",c.onChange),E.getSession().selection.on("changeSelection",c.onSelectionChange),E.getSession().selection.on("changeCursor",c.onCursorChange),E.session.on("changeScrollTop",c.onScroll),E.setValue(O===void 0?T:O,l);var F=Ue(w,R,[]),I=Ue(m,R,[]);E.getSession().setAnnotations(F),I&&I.length>0&&c.handleMarkers(I,E);for(var x=0;x<rt.editorOptions.length;x++){var M=rt.editorOptions[x];k.hasOwnProperty(M)?E.setOption(M,c.props[M]):c.props[M]&&console.warn("ReaceAce: editor option "+M+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}c.handleOptions(c.props,E),Array.isArray(y)&&y.forEach(function(W){typeof W.exec=="string"?E.commands.bindKey(W.bindKey,W.exec):E.commands.addCommand(W)}),$&&E.setKeyboardHandler("ace/keyboard/"+$)}),g&&(this.refEditor.className+=" "+g),h&&this.splitEditor.focus();var L=this.editor.env.split;L.setOrientation(this.props.orientation==="below"?L.BELOW:L.BESIDE),L.resize(!0),p&&p(L)},r.prototype.componentDidUpdate=function(c){var u=this,g=c,o=this.props,a=this.editor.env.split;if(o.splits!==g.splits&&a.setSplits(o.splits),o.orientation!==g.orientation&&a.setOrientation(o.orientation==="below"?a.BELOW:a.BESIDE),a.forEach(function(n,s){o.mode!==g.mode&&n.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==g.keyboardHandler&&(o.keyboardHandler?n.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):n.setKeyboardHandler(null)),o.fontSize!==g.fontSize&&n.setFontSize(o.fontSize),o.wrapEnabled!==g.wrapEnabled&&n.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==g.showPrintMargin&&n.setShowPrintMargin(o.showPrintMargin),o.showGutter!==g.showGutter&&n.renderer.setShowGutter(o.showGutter);for(var l=0;l<rt.editorOptions.length;l++){var f=rt.editorOptions[l];o[f]!==g[f]&&n.setOption(f,o[f])}Gi(o.setOptions,g.setOptions)||u.handleOptions(o,n);var v=Ue(o.value,s,"");if(n.getValue()!==v){u.silent=!0;var S=n.session.selection.toJSON();n.setValue(v,o.cursorStart),n.session.selection.fromJSON(S),u.silent=!1}var A=Ue(o.annotations,s,[]),C=Ue(g.annotations,s,[]);Gi(A,C)||n.getSession().setAnnotations(A);var $=Ue(o.markers,s,[]),p=Ue(g.markers,s,[]);!Gi($,p)&&Array.isArray($)&&u.handleMarkers($,n)}),o.className!==g.className){var h=this.refEditor.className,i=h.trim().split(" "),t=g.className.trim().split(" ");t.forEach(function(n){var s=i.indexOf(n);i.splice(s,1)}),this.refEditor.className=" "+o.className+" "+i.join(" ")}o.theme!==g.theme&&a.setTheme("ace/theme/"+o.theme),o.focus&&!g.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},r.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},r.prototype.onChange=function(c){if(this.props.onChange&&!this.silent){var u=[];this.editor.env.split.forEach(function(g){u.push(g.getValue())}),this.props.onChange(u,c)}},r.prototype.onSelectionChange=function(c){if(this.props.onSelectionChange){var u=[];this.editor.env.split.forEach(function(g){u.push(g.getSelection())}),this.props.onSelectionChange(u,c)}},r.prototype.onCursorChange=function(c){if(this.props.onCursorChange){var u=[];this.editor.env.split.forEach(function(g){u.push(g.getSelection())}),this.props.onCursorChange(u,c)}},r.prototype.onFocus=function(c){this.props.onFocus&&this.props.onFocus(c)},r.prototype.onInput=function(c){this.props.onInput&&this.props.onInput(c)},r.prototype.onBlur=function(c){this.props.onBlur&&this.props.onBlur(c)},r.prototype.onCopy=function(c){this.props.onCopy&&this.props.onCopy(c)},r.prototype.onPaste=function(c){this.props.onPaste&&this.props.onPaste(c)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(c,u){for(var g=Object.keys(c.setOptions),o=0;o<g.length;o++)u.setOption(g[o],c.setOptions[g[o]])},r.prototype.handleMarkers=function(c,u){var g=u.getSession().getMarkers(!0);for(var o in g)g.hasOwnProperty(o)&&u.getSession().removeMarker(g[o].id);g=u.getSession().getMarkers(!1);for(var o in g)g.hasOwnProperty(o)&&u.getSession().removeMarker(g[o].id);c.forEach(function(a){var h=a.startRow,i=a.startCol,t=a.endRow,n=a.endCol,s=a.className,l=a.type,f=a.inFront,v=f===void 0?!1:f,S=new $h.Range(h,i,t,n);u.getSession().addMarker(S,s,l,v)})},r.prototype.updateRef=function(c){this.refEditor=c},r.prototype.render=function(){var c=this.props,u=c.name,g=c.width,o=c.height,a=c.style,h=Vi({width:g,height:o},a);return Ls.createElement("div",{ref:this.updateRef,id:u,style:h})},r.propTypes={className:q.string,debounceChangePeriod:q.number,defaultValue:q.arrayOf(q.string),focus:q.bool,fontSize:q.oneOfType([q.number,q.string]),height:q.string,mode:q.string,name:q.string,onBlur:q.func,onChange:q.func,onCopy:q.func,onFocus:q.func,onInput:q.func,onLoad:q.func,onPaste:q.func,onScroll:q.func,orientation:q.string,showGutter:q.bool,splits:q.number,theme:q.string,value:q.arrayOf(q.string),width:q.string,onSelectionChange:q.func,onCursorChange:q.func,onBeforeLoad:q.func,minLines:q.number,maxLines:q.number,readOnly:q.bool,highlightActiveLine:q.bool,tabSize:q.number,showPrintMargin:q.bool,cursorStart:q.number,editorProps:q.object,setOptions:q.object,style:q.object,scrollMargin:q.array,annotations:q.array,markers:q.array,keyboardHandler:q.string,wrapEnabled:q.bool,enableBasicAutocompletion:q.oneOfType([q.bool,q.array]),enableLiveAutocompletion:q.oneOfType([q.bool,q.array]),commands:q.array},r.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},r}(Ls.Component);st.default=Ah});var Es=Ae((uc,mt)=>{j();var U=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},me=-1,be=1,oe=0;U.Diff=function(e,r){return[e,r]};U.prototype.diff_main=function(e,r,c,u){typeof u=="undefined"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var g=u;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e==r)return e?[new U.Diff(oe,e)]:[];typeof c=="undefined"&&(c=!0);var o=c,a=this.diff_commonPrefix(e,r),h=e.substring(0,a);e=e.substring(a),r=r.substring(a),a=this.diff_commonSuffix(e,r);var i=e.substring(e.length-a);e=e.substring(0,e.length-a),r=r.substring(0,r.length-a);var t=this.diff_compute_(e,r,o,g);return h&&t.unshift(new U.Diff(oe,h)),i&&t.push(new U.Diff(oe,i)),this.diff_cleanupMerge(t),t};U.prototype.diff_compute_=function(e,r,c,u){var g;if(!e)return[new U.Diff(be,r)];if(!r)return[new U.Diff(me,e)];var o=e.length>r.length?e:r,a=e.length>r.length?r:e,h=o.indexOf(a);if(h!=-1)return g=[new U.Diff(be,o.substring(0,h)),new U.Diff(oe,a),new U.Diff(be,o.substring(h+a.length))],e.length>r.length&&(g[0][0]=g[2][0]=me),g;if(a.length==1)return[new U.Diff(me,e),new U.Diff(be,r)];var i=this.diff_halfMatch_(e,r);if(i){var t=i[0],n=i[1],s=i[2],l=i[3],f=i[4],v=this.diff_main(t,s,c,u),S=this.diff_main(n,l,c,u);return v.concat([new U.Diff(oe,f)],S)}return c&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,u):this.diff_bisect_(e,r,u)};U.prototype.diff_lineMode_=function(e,r,c){var u=this.diff_linesToChars_(e,r);e=u.chars1,r=u.chars2;var g=u.lineArray,o=this.diff_main(e,r,!1,c);this.diff_charsToLines_(o,g),this.diff_cleanupSemantic(o),o.push(new U.Diff(oe,""));for(var a=0,h=0,i=0,t="",n="";a<o.length;){switch(o[a][0]){case be:i++,n+=o[a][1];break;case me:h++,t+=o[a][1];break;case oe:if(h>=1&&i>=1){o.splice(a-h-i,h+i),a=a-h-i;for(var s=this.diff_main(t,n,!1,c),l=s.length-1;l>=0;l--)o.splice(a,0,s[l]);a=a+s.length}i=0,h=0,t="",n="";break}a++}return o.pop(),o};U.prototype.diff_bisect_=function(e,r,c){for(var u=e.length,g=r.length,o=Math.ceil((u+g)/2),a=o,h=2*o,i=new Array(h),t=new Array(h),n=0;n<h;n++)i[n]=-1,t[n]=-1;i[a+1]=0,t[a+1]=0;for(var s=u-g,l=s%2!=0,f=0,v=0,S=0,A=0,C=0;C<o&&!(new Date().getTime()>c);C++){for(var $=-C+f;$<=C-v;$+=2){var p=a+$,y;$==-C||$!=C&&i[p-1]<i[p+1]?y=i[p+1]:y=i[p-1]+1;for(var w=y-$;y<u&&w<g&&e.charAt(y)==r.charAt(w);)y++,w++;if(i[p]=y,y>u)v+=2;else if(w>g)f+=2;else if(l){var m=a+s-$;if(m>=0&&m<h&&t[m]!=-1){var b=u-t[m];if(y>=b)return this.diff_bisectSplit_(e,r,y,w,c)}}}for(var d=-C+S;d<=C-A;d+=2){var m=a+d,b;d==-C||d!=C&&t[m-1]<t[m+1]?b=t[m+1]:b=t[m-1]+1;for(var _=b-d;b<u&&_<g&&e.charAt(u-b-1)==r.charAt(g-_-1);)b++,_++;if(t[m]=b,b>u)A+=2;else if(_>g)S+=2;else if(!l){var p=a+s-d;if(p>=0&&p<h&&i[p]!=-1){var y=i[p],w=a+y-p;if(b=u-b,y>=b)return this.diff_bisectSplit_(e,r,y,w,c)}}}}return[new U.Diff(me,e),new U.Diff(be,r)]};U.prototype.diff_bisectSplit_=function(e,r,c,u,g){var o=e.substring(0,c),a=r.substring(0,u),h=e.substring(c),i=r.substring(u),t=this.diff_main(o,a,!1,g),n=this.diff_main(h,i,!1,g);return t.concat(n)};U.prototype.diff_linesToChars_=function(e,r){var c=[],u={};c[0]="";function g(i){for(var t="",n=0,s=-1,l=c.length;s<i.length-1;){s=i.indexOf(`
`,n),s==-1&&(s=i.length-1);var f=i.substring(n,s+1);(u.hasOwnProperty?u.hasOwnProperty(f):u[f]!==void 0)?t+=String.fromCharCode(u[f]):(l==o&&(f=i.substring(n),s=i.length),t+=String.fromCharCode(l),u[f]=l,c[l++]=f),n=s+1}return t}var o=4e4,a=g(e);o=65535;var h=g(r);return{chars1:a,chars2:h,lineArray:c}};U.prototype.diff_charsToLines_=function(e,r){for(var c=0;c<e.length;c++){for(var u=e[c][1],g=[],o=0;o<u.length;o++)g[o]=r[u.charCodeAt(o)];e[c][1]=g.join("")}};U.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!=r.charAt(0))return 0;for(var c=0,u=Math.min(e.length,r.length),g=u,o=0;c<g;)e.substring(o,g)==r.substring(o,g)?(c=g,o=c):u=g,g=Math.floor((u-c)/2+c);return g};U.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!=r.charAt(r.length-1))return 0;for(var c=0,u=Math.min(e.length,r.length),g=u,o=0;c<g;)e.substring(e.length-g,e.length-o)==r.substring(r.length-g,r.length-o)?(c=g,o=c):u=g,g=Math.floor((u-c)/2+c);return g};U.prototype.diff_commonOverlap_=function(e,r){var c=e.length,u=r.length;if(c==0||u==0)return 0;c>u?e=e.substring(c-u):c<u&&(r=r.substring(0,c));var g=Math.min(c,u);if(e==r)return g;for(var o=0,a=1;;){var h=e.substring(g-a),i=r.indexOf(h);if(i==-1)return o;a+=i,(i==0||e.substring(g-a)==r.substring(0,a))&&(o=a,a++)}};U.prototype.diff_halfMatch_=function(e,r){if(this.Diff_Timeout<=0)return null;var c=e.length>r.length?e:r,u=e.length>r.length?r:e;if(c.length<4||u.length*2<c.length)return null;var g=this;function o(v,S,A){for(var C=v.substring(A,A+Math.floor(v.length/4)),$=-1,p="",y,w,m,b;($=S.indexOf(C,$+1))!=-1;){var d=g.diff_commonPrefix(v.substring(A),S.substring($)),_=g.diff_commonSuffix(v.substring(0,A),S.substring(0,$));p.length<_+d&&(p=S.substring($-_,$)+S.substring($,$+d),y=v.substring(0,A-_),w=v.substring(A+d),m=S.substring(0,$-_),b=S.substring($+d))}return p.length*2>=v.length?[y,w,m,b,p]:null}var a=o(c,u,Math.ceil(c.length/4)),h=o(c,u,Math.ceil(c.length/2)),i;if(!a&&!h)return null;h?a?i=a[4].length>h[4].length?a:h:i=h:i=a;var t,n,s,l;e.length>r.length?(t=i[0],n=i[1],s=i[2],l=i[3]):(s=i[0],l=i[1],t=i[2],n=i[3]);var f=i[4];return[t,n,s,l,f]};U.prototype.diff_cleanupSemantic=function(e){for(var r=!1,c=[],u=0,g=null,o=0,a=0,h=0,i=0,t=0;o<e.length;)e[o][0]==oe?(c[u++]=o,a=i,h=t,i=0,t=0,g=e[o][1]):(e[o][0]==be?i+=e[o][1].length:t+=e[o][1].length,g&&g.length<=Math.max(a,h)&&g.length<=Math.max(i,t)&&(e.splice(c[u-1],0,new U.Diff(me,g)),e[c[u-1]+1][0]=be,u--,u--,o=u>0?c[u-1]:-1,a=0,h=0,i=0,t=0,g=null,r=!0)),o++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]==me&&e[o][0]==be){var n=e[o-1][1],s=e[o][1],l=this.diff_commonOverlap_(n,s),f=this.diff_commonOverlap_(s,n);l>=f?(l>=n.length/2||l>=s.length/2)&&(e.splice(o,0,new U.Diff(oe,s.substring(0,l))),e[o-1][1]=n.substring(0,n.length-l),e[o+1][1]=s.substring(l),o++):(f>=n.length/2||f>=s.length/2)&&(e.splice(o,0,new U.Diff(oe,n.substring(0,f))),e[o-1][0]=be,e[o-1][1]=s.substring(0,s.length-f),e[o+1][0]=me,e[o+1][1]=n.substring(f),o++),o++}o++}};U.prototype.diff_cleanupSemanticLossless=function(e){function r(f,v){if(!f||!v)return 6;var S=f.charAt(f.length-1),A=v.charAt(0),C=S.match(U.nonAlphaNumericRegex_),$=A.match(U.nonAlphaNumericRegex_),p=C&&S.match(U.whitespaceRegex_),y=$&&A.match(U.whitespaceRegex_),w=p&&S.match(U.linebreakRegex_),m=y&&A.match(U.linebreakRegex_),b=w&&f.match(U.blanklineEndRegex_),d=m&&v.match(U.blanklineStartRegex_);return b||d?5:w||m?4:C&&!p&&y?3:p||y?2:C||$?1:0}for(var c=1;c<e.length-1;){if(e[c-1][0]==oe&&e[c+1][0]==oe){var u=e[c-1][1],g=e[c][1],o=e[c+1][1],a=this.diff_commonSuffix(u,g);if(a){var h=g.substring(g.length-a);u=u.substring(0,u.length-a),g=h+g.substring(0,g.length-a),o=h+o}for(var i=u,t=g,n=o,s=r(u,g)+r(g,o);g.charAt(0)===o.charAt(0);){u+=g.charAt(0),g=g.substring(1)+o.charAt(0),o=o.substring(1);var l=r(u,g)+r(g,o);l>=s&&(s=l,i=u,t=g,n=o)}e[c-1][1]!=i&&(i?e[c-1][1]=i:(e.splice(c-1,1),c--),e[c][1]=t,n?e[c+1][1]=n:(e.splice(c+1,1),c--))}c++}};U.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;U.whitespaceRegex_=/\s/;U.linebreakRegex_=/[\r\n]/;U.blanklineEndRegex_=/\n\r?\n$/;U.blanklineStartRegex_=/^\r?\n\r?\n/;U.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,c=[],u=0,g=null,o=0,a=!1,h=!1,i=!1,t=!1;o<e.length;)e[o][0]==oe?(e[o][1].length<this.Diff_EditCost&&(i||t)?(c[u++]=o,a=i,h=t,g=e[o][1]):(u=0,g=null),i=t=!1):(e[o][0]==me?t=!0:i=!0,g&&(a&&h&&i&&t||g.length<this.Diff_EditCost/2&&a+h+i+t==3)&&(e.splice(c[u-1],0,new U.Diff(me,g)),e[c[u-1]+1][0]=be,u--,g=null,a&&h?(i=t=!0,u=0):(u--,o=u>0?c[u-1]:-1,i=t=!1),r=!0)),o++;r&&this.diff_cleanupMerge(e)};U.prototype.diff_cleanupMerge=function(e){e.push(new U.Diff(oe,""));for(var r=0,c=0,u=0,g="",o="",a;r<e.length;)switch(e[r][0]){case be:u++,o+=e[r][1],r++;break;case me:c++,g+=e[r][1],r++;break;case oe:c+u>1?(c!==0&&u!==0&&(a=this.diff_commonPrefix(o,g),a!==0&&(r-c-u>0&&e[r-c-u-1][0]==oe?e[r-c-u-1][1]+=o.substring(0,a):(e.splice(0,0,new U.Diff(oe,o.substring(0,a))),r++),o=o.substring(a),g=g.substring(a)),a=this.diff_commonSuffix(o,g),a!==0&&(e[r][1]=o.substring(o.length-a)+e[r][1],o=o.substring(0,o.length-a),g=g.substring(0,g.length-a))),r-=c+u,e.splice(r,c+u),g.length&&(e.splice(r,0,new U.Diff(me,g)),r++),o.length&&(e.splice(r,0,new U.Diff(be,o)),r++),r++):r!==0&&e[r-1][0]==oe?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,u=0,c=0,g="",o="";break}e[e.length-1][1]===""&&e.pop();var h=!1;for(r=1;r<e.length-1;)e[r-1][0]==oe&&e[r+1][0]==oe&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),h=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),h=!0)),r++;h&&this.diff_cleanupMerge(e)};U.prototype.diff_xIndex=function(e,r){var c=0,u=0,g=0,o=0,a;for(a=0;a<e.length&&(e[a][0]!==be&&(c+=e[a][1].length),e[a][0]!==me&&(u+=e[a][1].length),!(c>r));a++)g=c,o=u;return e.length!=a&&e[a][0]===me?o:o+(r-g)};U.prototype.diff_prettyHtml=function(e){for(var r=[],c=/&/g,u=/</g,g=/>/g,o=/\n/g,a=0;a<e.length;a++){var h=e[a][0],i=e[a][1],t=i.replace(c,"&amp;").replace(u,"&lt;").replace(g,"&gt;").replace(o,"&para;<br>");switch(h){case be:r[a]='<ins style="background:#e6ffe6;">'+t+"</ins>";break;case me:r[a]='<del style="background:#ffe6e6;">'+t+"</del>";break;case oe:r[a]="<span>"+t+"</span>";break}}return r.join("")};U.prototype.diff_text1=function(e){for(var r=[],c=0;c<e.length;c++)e[c][0]!==be&&(r[c]=e[c][1]);return r.join("")};U.prototype.diff_text2=function(e){for(var r=[],c=0;c<e.length;c++)e[c][0]!==me&&(r[c]=e[c][1]);return r.join("")};U.prototype.diff_levenshtein=function(e){for(var r=0,c=0,u=0,g=0;g<e.length;g++){var o=e[g][0],a=e[g][1];switch(o){case be:c+=a.length;break;case me:u+=a.length;break;case oe:r+=Math.max(c,u),c=0,u=0;break}}return r+=Math.max(c,u),r};U.prototype.diff_toDelta=function(e){for(var r=[],c=0;c<e.length;c++)switch(e[c][0]){case be:r[c]="+"+encodeURI(e[c][1]);break;case me:r[c]="-"+e[c][1].length;break;case oe:r[c]="="+e[c][1].length;break}return r.join("	").replace(/%20/g," ")};U.prototype.diff_fromDelta=function(e,r){for(var c=[],u=0,g=0,o=r.split(/\t/g),a=0;a<o.length;a++){var h=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{c[u++]=new U.Diff(be,decodeURI(h))}catch(n){throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var i=parseInt(h,10);if(isNaN(i)||i<0)throw new Error("Invalid number in diff_fromDelta: "+h);var t=e.substring(g,g+=i);o[a].charAt(0)=="="?c[u++]=new U.Diff(oe,t):c[u++]=new U.Diff(me,t);break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(g!=e.length)throw new Error("Delta length ("+g+") does not equal source text length ("+e.length+").");return c};U.prototype.match_main=function(e,r,c){if(e==null||r==null||c==null)throw new Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,e.length)),e==r?0:e.length?e.substring(c,c+r.length)==r?c:this.match_bitap_(e,r,c):-1};U.prototype.match_bitap_=function(e,r,c){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(r),g=this;function o(y,w){var m=y/r.length,b=Math.abs(c-w);return g.Match_Distance?m+b/g.Match_Distance:b?1:m}var a=this.Match_Threshold,h=e.indexOf(r,c);h!=-1&&(a=Math.min(o(0,h),a),h=e.lastIndexOf(r,c+r.length),h!=-1&&(a=Math.min(o(0,h),a)));var i=1<<r.length-1;h=-1;for(var t,n,s=r.length+e.length,l,f=0;f<r.length;f++){for(t=0,n=s;t<n;)o(f,c+n)<=a?t=n:s=n,n=Math.floor((s-t)/2+t);s=n;var v=Math.max(1,c-n+1),S=Math.min(c+n,e.length)+r.length,A=Array(S+2);A[S+1]=(1<<f)-1;for(var C=S;C>=v;C--){var $=u[e.charAt(C-1)];if(f===0?A[C]=(A[C+1]<<1|1)&$:A[C]=(A[C+1]<<1|1)&$|((l[C+1]|l[C])<<1|1)|l[C+1],A[C]&i){var p=o(f,C-1);if(p<=a)if(a=p,h=C-1,h>c)v=Math.max(1,2*c-h);else break}}if(o(f+1,c)>a)break;l=A}return h};U.prototype.match_alphabet_=function(e){for(var r={},c=0;c<e.length;c++)r[e.charAt(c)]=0;for(var c=0;c<e.length;c++)r[e.charAt(c)]|=1<<e.length-c-1;return r};U.prototype.patch_addContext_=function(e,r){if(r.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var c=r.substring(e.start2,e.start2+e.length1),u=0;r.indexOf(c)!=r.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,c=r.substring(e.start2-u,e.start2+e.length1+u);u+=this.Patch_Margin;var g=r.substring(e.start2-u,e.start2);g&&e.diffs.unshift(new U.Diff(oe,g));var o=r.substring(e.start2+e.length1,e.start2+e.length1+u);o&&e.diffs.push(new U.Diff(oe,o)),e.start1-=g.length,e.start2-=g.length,e.length1+=g.length+o.length,e.length2+=g.length+o.length}};U.prototype.patch_make=function(e,r,c){var u,g;if(typeof e=="string"&&typeof r=="string"&&typeof c=="undefined")u=e,g=this.diff_main(u,r,!0),g.length>2&&(this.diff_cleanupSemantic(g),this.diff_cleanupEfficiency(g));else if(e&&typeof e=="object"&&typeof r=="undefined"&&typeof c=="undefined")g=e,u=this.diff_text1(g);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof c=="undefined")u=e,g=r;else if(typeof e=="string"&&typeof r=="string"&&c&&typeof c=="object")u=e,g=c;else throw new Error("Unknown call format to patch_make.");if(g.length===0)return[];for(var o=[],a=new U.patch_obj,h=0,i=0,t=0,n=u,s=u,l=0;l<g.length;l++){var f=g[l][0],v=g[l][1];switch(!h&&f!==oe&&(a.start1=i,a.start2=t),f){case be:a.diffs[h++]=g[l],a.length2+=v.length,s=s.substring(0,t)+v+s.substring(t);break;case me:a.length1+=v.length,a.diffs[h++]=g[l],s=s.substring(0,t)+s.substring(t+v.length);break;case oe:v.length<=2*this.Patch_Margin&&h&&g.length!=l+1?(a.diffs[h++]=g[l],a.length1+=v.length,a.length2+=v.length):v.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(a,n),o.push(a),a=new U.patch_obj,h=0,n=s,i=t);break}f!==be&&(i+=v.length),f!==me&&(t+=v.length)}return h&&(this.patch_addContext_(a,n),o.push(a)),o};U.prototype.patch_deepCopy=function(e){for(var r=[],c=0;c<e.length;c++){var u=e[c],g=new U.patch_obj;g.diffs=[];for(var o=0;o<u.diffs.length;o++)g.diffs[o]=new U.Diff(u.diffs[o][0],u.diffs[o][1]);g.start1=u.start1,g.start2=u.start2,g.length1=u.length1,g.length2=u.length2,r[c]=g}return r};U.prototype.patch_apply=function(e,r){if(e.length==0)return[r,[]];e=this.patch_deepCopy(e);var c=this.patch_addPadding(e);r=c+r+c,this.patch_splitMax(e);for(var u=0,g=[],o=0;o<e.length;o++){var a=e[o].start2+u,h=this.diff_text1(e[o].diffs),i,t=-1;if(h.length>this.Match_MaxBits?(i=this.match_main(r,h.substring(0,this.Match_MaxBits),a),i!=-1&&(t=this.match_main(r,h.substring(h.length-this.Match_MaxBits),a+h.length-this.Match_MaxBits),(t==-1||i>=t)&&(i=-1))):i=this.match_main(r,h,a),i==-1)g[o]=!1,u-=e[o].length2-e[o].length1;else{g[o]=!0,u=i-a;var n;if(t==-1?n=r.substring(i,i+h.length):n=r.substring(i,t+this.Match_MaxBits),h==n)r=r.substring(0,i)+this.diff_text2(e[o].diffs)+r.substring(i+h.length);else{var s=this.diff_main(h,n,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(s)/h.length>this.Patch_DeleteThreshold)g[o]=!1;else{this.diff_cleanupSemanticLossless(s);for(var l=0,f,v=0;v<e[o].diffs.length;v++){var S=e[o].diffs[v];S[0]!==oe&&(f=this.diff_xIndex(s,l)),S[0]===be?r=r.substring(0,i+f)+S[1]+r.substring(i+f):S[0]===me&&(r=r.substring(0,i+f)+r.substring(i+this.diff_xIndex(s,l+S[1].length))),S[0]!==me&&(l+=S[1].length)}}}}}return r=r.substring(c.length,r.length-c.length),[r,g]};U.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,c="",u=1;u<=r;u++)c+=String.fromCharCode(u);for(var u=0;u<e.length;u++)e[u].start1+=r,e[u].start2+=r;var g=e[0],o=g.diffs;if(o.length==0||o[0][0]!=oe)o.unshift(new U.Diff(oe,c)),g.start1-=r,g.start2-=r,g.length1+=r,g.length2+=r;else if(r>o[0][1].length){var a=r-o[0][1].length;o[0][1]=c.substring(o[0][1].length)+o[0][1],g.start1-=a,g.start2-=a,g.length1+=a,g.length2+=a}if(g=e[e.length-1],o=g.diffs,o.length==0||o[o.length-1][0]!=oe)o.push(new U.Diff(oe,c)),g.length1+=r,g.length2+=r;else if(r>o[o.length-1][1].length){var a=r-o[o.length-1][1].length;o[o.length-1][1]+=c.substring(0,a),g.length1+=a,g.length2+=a}return c};U.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,c=0;c<e.length;c++)if(!(e[c].length1<=r)){var u=e[c];e.splice(c--,1);for(var g=u.start1,o=u.start2,a="";u.diffs.length!==0;){var h=new U.patch_obj,i=!0;for(h.start1=g-a.length,h.start2=o-a.length,a!==""&&(h.length1=h.length2=a.length,h.diffs.push(new U.Diff(oe,a)));u.diffs.length!==0&&h.length1<r-this.Patch_Margin;){var t=u.diffs[0][0],n=u.diffs[0][1];t===be?(h.length2+=n.length,o+=n.length,h.diffs.push(u.diffs.shift()),i=!1):t===me&&h.diffs.length==1&&h.diffs[0][0]==oe&&n.length>2*r?(h.length1+=n.length,g+=n.length,i=!1,h.diffs.push(new U.Diff(t,n)),u.diffs.shift()):(n=n.substring(0,r-h.length1-this.Patch_Margin),h.length1+=n.length,g+=n.length,t===oe?(h.length2+=n.length,o+=n.length):i=!1,h.diffs.push(new U.Diff(t,n)),n==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(n.length))}a=this.diff_text2(h.diffs),a=a.substring(a.length-this.Patch_Margin);var s=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);s!==""&&(h.length1+=s.length,h.length2+=s.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===oe?h.diffs[h.diffs.length-1][1]+=s:h.diffs.push(new U.Diff(oe,s))),i||e.splice(++c,0,h)}}};U.prototype.patch_toText=function(e){for(var r=[],c=0;c<e.length;c++)r[c]=e[c];return r.join("")};U.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var c=e.split(`
`),u=0,g=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<c.length;){var o=c[u].match(g);if(!o)throw new Error("Invalid patch string: "+c[u]);var a=new U.patch_obj;for(r.push(a),a.start1=parseInt(o[1],10),o[2]===""?(a.start1--,a.length1=1):o[2]=="0"?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),o[4]===""?(a.start2--,a.length2=1):o[4]=="0"?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),u++;u<c.length;){var h=c[u].charAt(0);try{var i=decodeURI(c[u].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+i)}if(h=="-")a.diffs.push(new U.Diff(me,i));else if(h=="+")a.diffs.push(new U.Diff(be,i));else if(h==" ")a.diffs.push(new U.Diff(oe,i));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+i)}u++}}return r};U.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0};U.patch_obj.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2==1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var c=["@@ -"+e+" +"+r+` @@
`],u,g=0;g<this.diffs.length;g++){switch(this.diffs[g][0]){case be:u="+";break;case me:u="-";break;case oe:u=" ";break}c[g+1]=u+encodeURI(this.diffs[g][1])+`
`}return c.join("").replace(/%20/g," ")};mt.exports=U;mt.exports.diff_match_patch=U;mt.exports.DIFF_DELETE=me;mt.exports.DIFF_INSERT=be;mt.exports.DIFF_EQUAL=oe});var xs=Ae(Tt=>{j();"use strict";var kh=Tt&&Tt.__extends||function(){var e=function(r,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&(u[o]=g[o])},e(r,c)};return function(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(r,c);function u(){this.constructor=r}r.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(Tt,"__esModule",{value:!0});var fe=At(),Rs=Ge(),Lh=ji(),Eh=Es(),Rh=function(e){kh(r,e);function r(c){var u=e.call(this,c)||this;return u.state={value:u.props.value},u.onChange=u.onChange.bind(u),u.diff=u.diff.bind(u),u}return r.prototype.componentDidUpdate=function(){var c=this.props.value;c!==this.state.value&&this.setState({value:c})},r.prototype.onChange=function(c){this.setState({value:c}),this.props.onChange&&this.props.onChange(c)},r.prototype.diff=function(){var c=new Eh,u=this.state.value[0],g=this.state.value[1];if(u.length===0&&g.length===0)return[];var o=c.diff_main(u,g);c.diff_cleanupSemantic(o);var a=this.generateDiffedLines(o),h=this.setCodeMarkers(a);return h},r.prototype.generateDiffedLines=function(c){var u={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},g={left:[],right:[]},o={left:1,right:1};return c.forEach(function(a){var h=a[0],i=a[1],t=i.split(`
`).length-1;if(i.length!==0){var n=i[0],s=i[i.length-1],l=0;switch(h){case u.DIFF_EQUAL:o.left+=t,o.right+=t;break;case u.DIFF_DELETE:n===`
`&&(o.left++,t--),l=t,l===0&&g.right.push({startLine:o.right,endLine:o.right}),s===`
`&&(l-=1),g.left.push({startLine:o.left,endLine:o.left+l}),o.left+=t;break;case u.DIFF_INSERT:n===`
`&&(o.right++,t--),l=t,l===0&&g.left.push({startLine:o.left,endLine:o.left}),s===`
`&&(l-=1),g.right.push({startLine:o.right,endLine:o.right+l}),o.right+=t;break;default:throw new Error("Diff type was not defined.")}}}),g},r.prototype.setCodeMarkers=function(c){c===void 0&&(c={left:[],right:[]});for(var u=[],g={left:[],right:[]},o=0;o<c.left.length;o++){var a={startRow:c.left[o].startLine-1,endRow:c.left[o].endLine,type:"text",className:"codeMarker"};g.left.push(a)}for(var o=0;o<c.right.length;o++){var a={startRow:c.right[o].startLine-1,endRow:c.right[o].endLine,type:"text",className:"codeMarker"};g.right.push(a)}return u[0]=g.left,u[1]=g.right,u},r.prototype.render=function(){var c=this.diff();return Rs.createElement(Lh.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:c})},r.propTypes={cursorStart:fe.number,editorProps:fe.object,enableBasicAutocompletion:fe.bool,enableLiveAutocompletion:fe.bool,focus:fe.bool,fontSize:fe.number,height:fe.string,highlightActiveLine:fe.bool,maxLines:fe.number,minLines:fe.number,mode:fe.string,name:fe.string,className:fe.string,onLoad:fe.func,onPaste:fe.func,onScroll:fe.func,onChange:fe.func,orientation:fe.string,readOnly:fe.bool,scrollMargin:fe.array,setOptions:fe.object,showGutter:fe.bool,showPrintMargin:fe.bool,splits:fe.number,style:fe.object,tabSize:fe.number,theme:fe.string,value:fe.array,width:fe.string,wrapEnabled:fe.bool},r.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},r}(Rs.Component);Tt.default=Rh});var Ms=Ae(ot=>{j();"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.diff=ot.split=void 0;var xh=cs(),Mh=xs();ot.diff=Mh.default;var Th=ji();ot.split=Th.default;ot.default=xh.default});var Ds=Ae((Is,ai)=>{j();ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,r,c){"use strict";var u=e("../lib/oop"),g=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w.*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w+?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(a,h,i,t){t=t.replace(/ #.*/,"");var n=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(t)[0].replace(/\S\s*$/,"").length,s=parseInt(/\d+[\s+-]*$/.exec(t));return s?(n+=s-1,this.next="mlString"):this.next="mlStringPre",i.length?(i[0]=this.next,i[1]=n):(i.push(this.next),i.push(n)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(a,h,i){var t=i[1];return t>=a.length?(this.next="start",i.shift(),i.shift()):(i[1]=a.length-1,this.next=i[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(a,h,i){var t=i[1];return t>=a.length?(this.next="start",i.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};u.inherits(o,g),r.YamlHighlightRules=o});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,r,c){"use strict";var u=e("../range").Range,g=function(){};(function(){this.checkOutdent=function(o,a){return/^\s+$/.test(o)?/^\s*\}/.test(a):!1},this.autoOutdent=function(o,a){var h=o.getLine(a),i=h.match(/^(\s*\})/);if(!i)return 0;var t=i[1].length,n=o.findMatchingBracket({row:a,column:t});if(!n||n.row==a)return 0;var s=this.$getIndent(o.getLine(n.row));o.replace(new u(a,0,a,t-1),s)},this.$getIndent=function(o){return o.match(/^\s*/)[0]}}).call(g.prototype),r.MatchingBraceOutdent=g});ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,r,c){"use strict";var u=e("../../lib/oop"),g=e("./fold_mode").FoldMode,o=e("../../range").Range,a=r.FoldMode=function(){};u.inherits(a,g),function(){this.getFoldWidgetRange=function(h,i,t){var n=this.indentationBlock(h,t);if(n)return n;var s=/\S/,l=h.getLine(t),f=l.search(s);if(!(f==-1||l[f]!="#")){for(var v=l.length,S=h.getLength(),A=t,C=t;++t<S;){l=h.getLine(t);var $=l.search(s);if($!=-1){if(l[$]!="#")break;C=t}}if(C>A){var p=h.getLine(C).length;return new o(A,v,C,p)}}},this.getFoldWidget=function(h,i,t){var n=h.getLine(t),s=n.search(/\S/),l=h.getLine(t+1),f=h.getLine(t-1),v=f.search(/\S/),S=l.search(/\S/);if(s==-1)return h.foldWidgets[t-1]=v!=-1&&v<S?"start":"","";if(v==-1){if(s==S&&n[s]=="#"&&l[s]=="#")return h.foldWidgets[t-1]="",h.foldWidgets[t+1]="","start"}else if(v==s&&n[s]=="#"&&f[s]=="#"&&h.getLine(t-2).search(/\S/)==-1)return h.foldWidgets[t-1]="start",h.foldWidgets[t+1]="","";return v!=-1&&v<s?h.foldWidgets[t-1]="start":h.foldWidgets[t-1]="",s<S?"start":""}}.call(a.prototype)});ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee"],function(e,r,c){"use strict";var u=e("../lib/oop"),g=e("./text").Mode,o=e("./yaml_highlight_rules").YamlHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,h=e("./folding/coffee").FoldMode,i=function(){this.HighlightRules=o,this.$outdent=new a,this.foldingRules=new h,this.$behaviour=this.$defaultBehaviour};u.inherits(i,g),function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(t,n,s){var l=this.$getIndent(n);if(t=="start"){var f=n.match(/^.*[\{\(\[]\s*$/);f&&(l+=s)}return l},this.checkOutdent=function(t,n,s){return this.$outdent.checkOutdent(n,s)},this.autoOutdent=function(t,n,s){this.$outdent.autoOutdent(n,s)},this.$id="ace/mode/yaml"}.call(i.prototype),r.Mode=i});(function(){ace.require(["ace/mode/yaml"],function(e){typeof ai=="object"&&typeof Is=="object"&&ai&&(ai.exports=e)})})()});var Bs=Ae((Ps,li)=>{j();ace.define("ace/theme/vibrant_ink",["require","exports","module","ace/lib/dom"],function(e,r,c){r.isDark=!0,r.cssClass="ace-vibrant-ink",r.cssText=".ace-vibrant-ink .ace_gutter {background: #1a1a1a;color: #BEBEBE}.ace-vibrant-ink .ace_print-margin {width: 1px;background: #1a1a1a}.ace-vibrant-ink {background-color: #0F0F0F;color: #FFFFFF}.ace-vibrant-ink .ace_cursor {color: #FFFFFF}.ace-vibrant-ink .ace_marker-layer .ace_selection {background: #6699CC}.ace-vibrant-ink.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #0F0F0F;}.ace-vibrant-ink .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-vibrant-ink .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #404040}.ace-vibrant-ink .ace_marker-layer .ace_active-line {background: #333333}.ace-vibrant-ink .ace_gutter-active-line {background-color: #333333}.ace-vibrant-ink .ace_marker-layer .ace_selected-word {border: 1px solid #6699CC}.ace-vibrant-ink .ace_invisible {color: #404040}.ace-vibrant-ink .ace_keyword,.ace-vibrant-ink .ace_meta {color: #FF6600}.ace-vibrant-ink .ace_constant,.ace-vibrant-ink .ace_constant.ace_character,.ace-vibrant-ink .ace_constant.ace_character.ace_escape,.ace-vibrant-ink .ace_constant.ace_other {color: #339999}.ace-vibrant-ink .ace_constant.ace_numeric {color: #99CC99}.ace-vibrant-ink .ace_invalid,.ace-vibrant-ink .ace_invalid.ace_deprecated {color: #CCFF33;background-color: #000000}.ace-vibrant-ink .ace_fold {background-color: #FFCC00;border-color: #FFFFFF}.ace-vibrant-ink .ace_entity.ace_name.ace_function,.ace-vibrant-ink .ace_support.ace_function,.ace-vibrant-ink .ace_variable {color: #FFCC00}.ace-vibrant-ink .ace_variable.ace_parameter {font-style: italic}.ace-vibrant-ink .ace_string {color: #66FF00}.ace-vibrant-ink .ace_string.ace_regexp {color: #44B4CC}.ace-vibrant-ink .ace_comment {color: #9933CC}.ace-vibrant-ink .ace_entity.ace_other.ace_attribute-name {font-style: italic;color: #99CC99}.ace-vibrant-ink .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYNDTc/oPAALPAZ7hxlbYAAAAAElFTkSuQmCC) right repeat-y}";var u=e("../lib/dom");u.importCssString(r.cssText,r.cssClass)});(function(){ace.require(["ace/theme/vibrant_ink"],function(e){typeof li=="object"&&typeof Ps=="object"&&li&&(li.exports=e)})})()});var Hs=Ae((Ws,hi)=>{j();ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,r,c){"use strict";var u=e("../lib/dom"),g=e("../lib/lang"),o=e("../lib/event"),a='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',h=e("../keyboard/hash_handler").HashHandler,i=e("../lib/keys"),t=999;u.importCssString(a,"ace_searchbox");var n=function(s,l,f){var v=u.createElement("div");u.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200B"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200B"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],v),this.element=v.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(s),u.importCssString(a,"ace_searchbox",s.container)};(function(){this.setEditor=function(s){s.searchBox=this,s.renderer.scroller.appendChild(this.element),this.editor=s},this.setSession=function(s){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(s){this.searchBox=s.querySelector(".ace_search_form"),this.replaceBox=s.querySelector(".ace_replace_form"),this.searchOption=s.querySelector("[action=searchInSelection]"),this.replaceOption=s.querySelector("[action=toggleReplace]"),this.regExpOption=s.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=s.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=s.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=s.querySelector(".ace_search_counter")},this.$init=function(){var s=this.element;this.$initElements(s);var l=this;o.addListener(s,"mousedown",function(f){setTimeout(function(){l.activeInput.focus()},0),o.stopPropagation(f)}),o.addListener(s,"click",function(f){var v=f.target||f.srcElement,S=v.getAttribute("action");S&&l[S]?l[S]():l.$searchBarKb.commands[S]&&l.$searchBarKb.commands[S].exec(l),o.stopPropagation(f)}),o.addCommandKeyListener(s,function(f,v,S){var A=i.keyCodeToString(S),C=l.$searchBarKb.findKeyCommand(v,A);C&&C.exec&&(C.exec(l),o.stopEvent(f))}),this.$onChange=g.delayedCall(function(){l.find(!1,!1)}),o.addListener(this.searchInput,"input",function(){l.$onChange.schedule(20)}),o.addListener(this.searchInput,"focus",function(){l.activeInput=l.searchInput,l.searchInput.value&&l.highlight()}),o.addListener(this.replaceInput,"focus",function(){l.activeInput=l.replaceInput,l.searchInput.value&&l.highlight()})},this.$closeSearchBarKb=new h([{bindKey:"Esc",name:"closeSearchBar",exec:function(s){s.searchBox.hide()}}]),this.$searchBarKb=new h,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(s){var l=s.isReplace=!s.isReplace;s.replaceBox.style.display=l?"":"none",s.replaceOption.checked=!1,s.$syncOptions(),s.searchInput.focus()},"Ctrl-H|Command-Option-F":function(s){s.editor.getReadOnly()||(s.replaceOption.checked=!0,s.$syncOptions(),s.replaceInput.focus())},"Ctrl-G|Command-G":function(s){s.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(s){s.findPrev()},esc:function(s){setTimeout(function(){s.hide()})},Return:function(s){s.activeInput==s.replaceInput&&s.replace(),s.findNext()},"Shift-Return":function(s){s.activeInput==s.replaceInput&&s.replace(),s.findPrev()},"Alt-Return":function(s){s.activeInput==s.replaceInput&&s.replaceAll(),s.findAll()},Tab:function(s){(s.activeInput==s.replaceInput?s.searchInput:s.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(s){s.regExpOption.checked=!s.regExpOption.checked,s.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(s){s.caseSensitiveOption.checked=!s.caseSensitiveOption.checked,s.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(s){s.wholeWordOption.checked=!s.wholeWordOption.checked,s.$syncOptions()}},{name:"toggleReplace",exec:function(s){s.replaceOption.checked=!s.replaceOption.checked,s.$syncOptions()}},{name:"searchInSelection",exec:function(s){s.searchOption.checked=!s.searchRange,s.setSearchRange(s.searchOption.checked&&s.editor.getSelectionRange()),s.$syncOptions()}}]),this.setSearchRange=function(s){this.searchRange=s,s?this.searchRangeMarker=this.editor.session.addMarker(s,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(s){u.setCssClass(this.replaceOption,"checked",this.searchRange),u.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",u.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),u.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),u.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var l=this.editor.getReadOnly();this.replaceOption.style.display=l?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!l?"":"none",this.find(!1,!1,s)},this.highlight=function(s){this.editor.session.highlight(s||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(s,l,f){var v=this.editor.find(this.searchInput.value,{skipCurrent:s,backwards:l,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:f,range:this.searchRange}),S=!v&&this.searchInput.value;u.setCssClass(this.searchBox,"ace_nomatch",S),this.editor._emit("findSearchBox",{match:!S}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var s=this.editor,l=s.$search.$options.re,f=0,v=0;if(l){var S=this.searchRange?s.session.getTextRange(this.searchRange):s.getValue(),A=s.session.doc.positionToIndex(s.selection.anchor);this.searchRange&&(A-=s.session.doc.positionToIndex(this.searchRange.start));for(var C=l.lastIndex=0,$;($=l.exec(S))&&(f++,C=$.index,C<=A&&v++,!(f>t||!$[0]&&(l.lastIndex=C+=1,C>=S.length))););}this.searchCounter.textContent=v+" of "+(f>t?t+"+":f)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var s=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),l=!s&&this.searchInput.value;u.setCssClass(this.searchBox,"ace_nomatch",l),this.editor._emit("findSearchBox",{match:!l}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(s,l){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=l,s&&(this.searchInput.value=s),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var s=document.activeElement;return s==this.searchInput||s==this.replaceInput}}).call(n.prototype),r.SearchBox=n,r.Search=function(s,l){var f=s.searchBox||new n(s);f.show(s.session.getTextRange(),l)}});(function(){ace.require(["ace/ext/searchbox"],function(e){typeof hi=="object"&&typeof Ws=="object"&&hi&&(hi.exports=e)})})()});var Zs=Ae((Cc,nn)=>{j();"use strict";var vt=typeof Reflect=="object"?Reflect:null,zs=vt&&typeof vt.apply=="function"?vt.apply:function(r,c,u){return Function.prototype.apply.call(r,c,u)},ui;vt&&typeof vt.ownKeys=="function"?ui=vt.ownKeys:Object.getOwnPropertySymbols?ui=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ui=function(r){return Object.getOwnPropertyNames(r)};function Bh(e){console&&console.warn&&console.warn(e)}var Us=Number.isNaN||function(r){return r!==r};function ge(){ge.init.call(this)}nn.exports=ge;nn.exports.once=zh;ge.EventEmitter=ge;ge.prototype._events=void 0;ge.prototype._eventsCount=0;ge.prototype._maxListeners=void 0;var Vs=10;function fi(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ge,"defaultMaxListeners",{enumerable:!0,get:function(){return Vs},set:function(e){if(typeof e!="number"||e<0||Us(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Vs=e}});ge.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ge.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Us(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function Ks(e){return e._maxListeners===void 0?ge.defaultMaxListeners:e._maxListeners}ge.prototype.getMaxListeners=function(){return Ks(this)};ge.prototype.emit=function(r){for(var c=[],u=1;u<arguments.length;u++)c.push(arguments[u]);var g=r==="error",o=this._events;if(o!==void 0)g=g&&o.error===void 0;else if(!g)return!1;if(g){var a;if(c.length>0&&(a=c[0]),a instanceof Error)throw a;var h=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw h.context=a,h}var i=o[r];if(i===void 0)return!1;if(typeof i=="function")zs(i,this,c);else for(var t=i.length,n=Qs(i,t),u=0;u<t;++u)zs(n[u],this,c);return!0};function Gs(e,r,c,u){var g,o,a;if(fi(c),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,c.listener?c.listener:c),o=e._events),a=o[r]),a===void 0)a=o[r]=c,++e._eventsCount;else if(typeof a=="function"?a=o[r]=u?[c,a]:[a,c]:u?a.unshift(c):a.push(c),g=Ks(e),g>0&&a.length>g&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=r,h.count=a.length,Bh(h)}return e}ge.prototype.addListener=function(r,c){return Gs(this,r,c,!1)};ge.prototype.on=ge.prototype.addListener;ge.prototype.prependListener=function(r,c){return Gs(this,r,c,!0)};function Wh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function js(e,r,c){var u={fired:!1,wrapFn:void 0,target:e,type:r,listener:c},g=Wh.bind(u);return g.listener=c,u.wrapFn=g,g}ge.prototype.once=function(r,c){return fi(c),this.on(r,js(this,r,c)),this};ge.prototype.prependOnceListener=function(r,c){return fi(c),this.prependListener(r,js(this,r,c)),this};ge.prototype.removeListener=function(r,c){var u,g,o,a,h;if(fi(c),g=this._events,g===void 0)return this;if(u=g[r],u===void 0)return this;if(u===c||u.listener===c)--this._eventsCount==0?this._events=Object.create(null):(delete g[r],g.removeListener&&this.emit("removeListener",r,u.listener||c));else if(typeof u!="function"){for(o=-1,a=u.length-1;a>=0;a--)if(u[a]===c||u[a].listener===c){h=u[a].listener,o=a;break}if(o<0)return this;o===0?u.shift():Hh(u,o),u.length===1&&(g[r]=u[0]),g.removeListener!==void 0&&this.emit("removeListener",r,h||c)}return this};ge.prototype.off=ge.prototype.removeListener;ge.prototype.removeAllListeners=function(r){var c,u,g;if(u=this._events,u===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete u[r]),this;if(arguments.length===0){var o=Object.keys(u),a;for(g=0;g<o.length;++g)a=o[g],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(c=u[r],typeof c=="function")this.removeListener(r,c);else if(c!==void 0)for(g=c.length-1;g>=0;g--)this.removeListener(r,c[g]);return this};function Ys(e,r,c){var u=e._events;if(u===void 0)return[];var g=u[r];return g===void 0?[]:typeof g=="function"?c?[g.listener||g]:[g]:c?Nh(g):Qs(g,g.length)}ge.prototype.listeners=function(r){return Ys(this,r,!0)};ge.prototype.rawListeners=function(r){return Ys(this,r,!1)};ge.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):Xs.call(e,r)};ge.prototype.listenerCount=Xs;function Xs(e){var r=this._events;if(r!==void 0){var c=r[e];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}ge.prototype.eventNames=function(){return this._eventsCount>0?ui(this._events):[]};function Qs(e,r){for(var c=new Array(r),u=0;u<r;++u)c[u]=e[u];return c}function Hh(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function Nh(e){for(var r=new Array(e.length),c=0;c<r.length;++c)r[c]=e[c].listener||e[c];return r}function zh(e,r){return new Promise(function(c,u){function g(a){e.removeListener(r,o),u(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",g),c([].slice.call(arguments))}Js(e,r,o,{once:!0}),r!=="error"&&Uh(e,g,{once:!0})})}function Uh(e,r,c){typeof e.on=="function"&&Js(e,"error",r,c)}function Js(e,r,c,u){if(typeof e.on=="function")u.once?e.once(r,c):e.on(r,c);else if(typeof e.addEventListener=="function")e.addEventListener(r,function g(o){u.once&&e.removeEventListener(r,g),c(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var qs=Ae((rn,sn)=>{j();(function(e,r){typeof define=="function"&&define.amd?define([],r):typeof rn!="undefined"?r():(r(),e.FileSaver={})})(rn,function(){"use strict";function e(h,i){return typeof i=="undefined"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,i,t){var n=new XMLHttpRequest;n.open("GET",h),n.responseType="blob",n.onload=function(){a(n.response,i,t)},n.onerror=function(){console.error("could not download file")},n.send()}function c(h){var i=new XMLHttpRequest;i.open("HEAD",h,!1);try{i.send()}catch(t){}return 200<=i.status&&299>=i.status}function u(h){try{h.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(i)}}var g=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=g.saveAs||(typeof window!="object"||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(h,i,t){var n=g.URL||g.webkitURL,s=document.createElement("a");i=i||h.name||"download",s.download=i,s.rel="noopener",typeof h=="string"?(s.href=h,s.origin===location.origin?u(s):c(s.href)?r(h,i,t):u(s,s.target="_blank")):(s.href=n.createObjectURL(h),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){u(s)},0))}:"msSaveOrOpenBlob"in navigator?function(h,i,t){if(i=i||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(e(h,t),i);else if(c(h))r(h,i,t);else{var n=document.createElement("a");n.href=h,n.target="_blank",setTimeout(function(){u(n)})}}:function(h,i,t,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof h=="string")return r(h,i,t);var s=h.type==="application/octet-stream",l=/constructor/i.test(g.HTMLElement)||g.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&l||o)&&typeof FileReader!="undefined"){var v=new FileReader;v.onloadend=function(){var C=v.result;C=f?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=C:location=C,n=null},v.readAsDataURL(h)}else{var S=g.URL||g.webkitURL,A=S.createObjectURL(h);n?n.location=A:location.href=A,n=null,setTimeout(function(){S.revokeObjectURL(A)},4e4)}});g.saveAs=a.saveAs=a,typeof sn!="undefined"&&(sn.exports=a)})});j();j();j();var je=Me(Ge());function Bo(){let[e,r]=(0,je.useReducer)(c=>c+1,0);return r}function Wo(e){let r=(0,je.useRef)();return r.current||(r.current=e()),r.current}function Ho(e,r){let c=Bo();(0,je.useLayoutEffect)(()=>{let u=c;return e.on(r,u),()=>{e.off(r,u)}},[e,r])}function br(e,r){let c=Wo(()=>new e(r));return Ho(c,"change"),c}j();var Ns=Me(Ms());j();function Yi(e){function r(u,g,...o){return X("li",null,X("a",{class:"dropdown-item",href:"#",onclick:e.model.dispatcher(g,...o)},u))}let c;return e.model.supportsFileSystemAccess()&&(c=r("Save","saveStory")),X("nav",{class:"navbar navbar-expand navbar-light bg-light",style:{height:"2.5rem"}},X("div",{class:"container-fluid"},X("a",{class:"navbar-brand",href:"#"},"Advide"),X("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},X("span",{class:"navbar-toggler-icon"})),X("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent"},X("ul",{class:"navbar-nav me-auto"},X("li",{class:"nav-item dropdown"},X("a",{class:"nav-link",href:"#",id:"navbarDropdownFile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"File"),X("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdownFile",style:{top:"2rem"}},r("New Story","newStory"),r("Open Story...","openStory"),c,r("Save As...","saveStoryAs"))),X("li",{class:"nav-item dropdown"},X("a",{class:"nav-link",href:"#",id:"navbarDropdownExamples",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Examples"),X("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdownExamples",style:{top:"2rem"}},r("Basic Example","loadExample","basic-example.yaml"),r("Choice Dialog","loadExample","choice.yaml"),r("Morning Story","loadExample","morning-story.yaml")))))))}j();var Zi=Me(Ge()),ve=Me(At());j();var xe=typeof window!="undefined"?window:null,Xi=xe===null,Ot=Xi?void 0:xe.document,Te="addEventListener",Oe="removeEventListener",Qi="getBoundingClientRect",Ft="_a",Fe="_b",Ve="_c",si="horizontal",Ie=function(){return!1},Oh=Xi?"calc":["","-webkit-","-moz-","-o-"].filter(function(e){var r=Ot.createElement("div");return r.style.cssText="width:"+e+"calc(9px)",!!r.style.length}).shift()+"calc",Ts=function(e){return typeof e=="string"||e instanceof String},Os=function(e){if(Ts(e)){var r=Ot.querySelector(e);if(!r)throw new Error("Selector "+e+" did not match a DOM element");return r}return e},Ee=function(e,r,c){var u=e[r];return u!==void 0?u:c},oi=function(e,r,c,u){if(r){if(u==="end")return 0;if(u==="center")return e/2}else if(c){if(u==="start")return 0;if(u==="center")return e/2}return e},Fh=function(e,r){var c=Ot.createElement("div");return c.className="gutter gutter-"+r,c},Ih=function(e,r,c){var u={};return Ts(r)?u[e]=r:u[e]=Oh+"("+r+"% - "+c+"px)",u},Dh=function(e,r){var c;return c={},c[e]=r+"px",c},Ph=function(e,r){if(r===void 0&&(r={}),Xi)return{};var c=e,u,g,o,a,h,i;Array.from&&(c=Array.from(c));var t=Os(c[0]),n=t.parentNode,s=getComputedStyle?getComputedStyle(n):null,l=s?s.flexDirection:null,f=Ee(r,"sizes")||c.map(function(){return 100/c.length}),v=Ee(r,"minSize",100),S=Array.isArray(v)?v:c.map(function(){return v}),A=Ee(r,"maxSize",1/0),C=Array.isArray(A)?A:c.map(function(){return A}),$=Ee(r,"expandToMin",!1),p=Ee(r,"gutterSize",10),y=Ee(r,"gutterAlign","center"),w=Ee(r,"snapOffset",30),m=Ee(r,"dragInterval",1),b=Ee(r,"direction",si),d=Ee(r,"cursor",b===si?"col-resize":"row-resize"),_=Ee(r,"gutter",Fh),k=Ee(r,"elementStyle",Ih),L=Ee(r,"gutterStyle",Dh);b===si?(u="width",g="clientX",o="left",a="right",h="clientWidth"):b==="vertical"&&(u="height",g="clientY",o="top",a="bottom",h="clientHeight");function E(z,P,N,H){var ee=k(u,P,N,H);Object.keys(ee).forEach(function(Y){z.style[Y]=ee[Y]})}function R(z,P,N){var H=L(u,P,N);Object.keys(H).forEach(function(ee){z.style[ee]=H[ee]})}function x(){return i.map(function(z){return z.size})}function O(z){return"touches"in z?z.touches[0][g]:z[g]}function T(z){var P=i[this.a],N=i[this.b],H=P.size+N.size;P.size=z/this.size*H,N.size=H-z/this.size*H,E(P.element,P.size,this[Fe],P.i),E(N.element,N.size,this[Ve],N.i)}function F(z){var P,N=i[this.a],H=i[this.b];!this.dragging||(P=O(z)-this.start+(this[Fe]-this.dragOffset),m>1&&(P=Math.round(P/m)*m),P<=N.minSize+w+this[Fe]?P=N.minSize+this[Fe]:P>=this.size-(H.minSize+w+this[Ve])&&(P=this.size-(H.minSize+this[Ve])),P>=N.maxSize-w+this[Fe]?P=N.maxSize+this[Fe]:P<=this.size-(H.maxSize-w+this[Ve])&&(P=this.size-(H.maxSize+this[Ve])),T.call(this,P),Ee(r,"onDrag",Ie)(x()))}function I(){var z=i[this.a].element,P=i[this.b].element,N=z[Qi](),H=P[Qi]();this.size=N[u]+H[u]+this[Fe]+this[Ve],this.start=N[o],this.end=N[a]}function M(z){if(!getComputedStyle)return null;var P=getComputedStyle(z);if(!P)return null;var N=z[h];return N===0?null:(b===si?N-=parseFloat(P.paddingLeft)+parseFloat(P.paddingRight):N-=parseFloat(P.paddingTop)+parseFloat(P.paddingBottom),N)}function W(z){var P=M(n);if(P===null||S.reduce(function(Y,re){return Y+re},0)>P)return z;var N=0,H=[],ee=z.map(function(Y,re){var Q=P*Y/100,ue=oi(p,re===0,re===z.length-1,y),ke=S[re]+ue;return Q<ke?(N+=ke-Q,H.push(0),ke):(H.push(Q-ke),Q)});return N===0?z:ee.map(function(Y,re){var Q=Y;if(N>0&&H[re]-N>0){var ue=Math.min(N,H[re]-N);N-=ue,Q=Y-ue}return Q/P*100})}function D(){var z=this,P=i[z.a].element,N=i[z.b].element;z.dragging&&Ee(r,"onDragEnd",Ie)(x()),z.dragging=!1,xe[Oe]("mouseup",z.stop),xe[Oe]("touchend",z.stop),xe[Oe]("touchcancel",z.stop),xe[Oe]("mousemove",z.move),xe[Oe]("touchmove",z.move),z.stop=null,z.move=null,P[Oe]("selectstart",Ie),P[Oe]("dragstart",Ie),N[Oe]("selectstart",Ie),N[Oe]("dragstart",Ie),P.style.userSelect="",P.style.webkitUserSelect="",P.style.MozUserSelect="",P.style.pointerEvents="",N.style.userSelect="",N.style.webkitUserSelect="",N.style.MozUserSelect="",N.style.pointerEvents="",z.gutter.style.cursor="",z.parent.style.cursor="",Ot.body.style.cursor=""}function K(z){if(!("button"in z&&z.button!==0)){var P=this,N=i[P.a].element,H=i[P.b].element;P.dragging||Ee(r,"onDragStart",Ie)(x()),z.preventDefault(),P.dragging=!0,P.move=F.bind(P),P.stop=D.bind(P),xe[Te]("mouseup",P.stop),xe[Te]("touchend",P.stop),xe[Te]("touchcancel",P.stop),xe[Te]("mousemove",P.move),xe[Te]("touchmove",P.move),N[Te]("selectstart",Ie),N[Te]("dragstart",Ie),H[Te]("selectstart",Ie),H[Te]("dragstart",Ie),N.style.userSelect="none",N.style.webkitUserSelect="none",N.style.MozUserSelect="none",N.style.pointerEvents="none",H.style.userSelect="none",H.style.webkitUserSelect="none",H.style.MozUserSelect="none",H.style.pointerEvents="none",P.gutter.style.cursor=d,P.parent.style.cursor=d,Ot.body.style.cursor=d,I.call(P),P.dragOffset=O(z)-P.end}}f=W(f);var V=[];i=c.map(function(z,P){var N={element:Os(z),size:f[P],minSize:S[P],maxSize:C[P],i:P},H;if(P>0&&(H={a:P-1,b:P,dragging:!1,direction:b,parent:n},H[Fe]=oi(p,P-1==0,!1,y),H[Ve]=oi(p,!1,P===c.length-1,y),l==="row-reverse"||l==="column-reverse")){var ee=H.a;H.a=H.b,H.b=ee}if(P>0){var Y=_(P,b,N.element);R(Y,p,P),H[Ft]=K.bind(H),Y[Te]("mousedown",H[Ft]),Y[Te]("touchstart",H[Ft]),n.insertBefore(Y,N.element),H.gutter=Y}return E(N.element,N.size,oi(p,P===0,P===c.length-1,y),P),P>0&&V.push(H),N});function ie(z){var P=z.i===V.length,N=P?V[z.i-1]:V[z.i];I.call(N);var H=P?N.size-z.minSize-N[Ve]:z.minSize+N[Fe];T.call(N,H)}i.forEach(function(z){var P=z.element[Qi]()[u];P<z.minSize&&($?ie(z):z.minSize=P)});function ne(z){var P=W(z);P.forEach(function(N,H){if(H>0){var ee=V[H-1],Y=i[ee.a],re=i[ee.b];Y.size=P[H-1],re.size=N,E(Y.element,Y.size,ee[Fe],Y.i),E(re.element,re.size,ee[Ve],re.i)}})}function ce(z,P){V.forEach(function(N){if(P!==!0?N.parent.removeChild(N.gutter):(N.gutter[Oe]("mousedown",N[Ft]),N.gutter[Oe]("touchstart",N[Ft])),z!==!0){var H=k(u,N.a.size,N[Fe]);Object.keys(H).forEach(function(ee){i[N.a].element.style[ee]="",i[N.b].element.style[ee]=""})}})}return{setSizes:ne,getSizes:x,collapse:function(P){ie(i[P])},destroy:ce,parent:n,pairs:V}},Ji=Ph;function qi(e,r){var c={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&r.indexOf(u)===-1&&(c[u]=e[u]);return c}var en=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.componentDidMount=function(){var u=this.props;u.children;var g=u.gutter,o=qi(u,["children","gutter"]),a=o;a.gutter=function(h,i){var t;return g?t=g(h,i):(t=document.createElement("div"),t.className="gutter gutter-"+i),t.__isSplitGutter=!0,t},this.split=Ji(this.parent.children,a)},r.prototype.componentDidUpdate=function(u){var g=this,o=this.props;o.children;var a=o.minSize,h=o.sizes,i=o.collapsed,t=qi(o,["children","minSize","sizes","collapsed"]),n=t,s=u.minSize,l=u.sizes,f=u.collapsed,v=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],S=v.map(function($){return g.props[$]!==u[$]}).reduce(function($,p){return $||p},!1);if(Array.isArray(a)&&Array.isArray(s)){var A=!1;a.forEach(function($,p){A=A||$!==s[p]}),S=S||A}else Array.isArray(a)||Array.isArray(s)?S=!0:S=S||a!==s;if(S)n.minSize=a,n.sizes=h||this.split.getSizes(),this.split.destroy(!0,!0),n.gutter=function($,p,y){return y.previousSibling},this.split=Ji(Array.from(this.parent.children).filter(function($){return!$.__isSplitGutter}),n);else if(h){var C=!1;h.forEach(function($,p){C=C||$!==l[p]}),C&&this.split.setSizes(this.props.sizes)}Number.isInteger(i)&&(i!==f||S)&&this.split.collapse(i)},r.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},r.prototype.render=function(){var u=this,g=this.props;g.sizes,g.minSize,g.maxSize,g.expandToMin,g.gutterSize,g.gutterAlign,g.snapOffset,g.dragInterval,g.direction,g.cursor,g.gutter,g.elementStyle,g.gutterStyle,g.onDrag,g.onDragStart,g.onDragEnd,g.collapsed;var o=g.children,a=qi(g,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),h=a;return Zi.default.createElement("div",Object.assign({},{ref:function(i){u.parent=i}},h),o)},r}(Zi.default.Component);en.propTypes={sizes:ve.default.arrayOf(ve.default.number),minSize:ve.default.oneOfType([ve.default.number,ve.default.arrayOf(ve.default.number)]),maxSize:ve.default.oneOfType([ve.default.number,ve.default.arrayOf(ve.default.number)]),expandToMin:ve.default.bool,gutterSize:ve.default.number,gutterAlign:ve.default.string,snapOffset:ve.default.number,dragInterval:ve.default.number,direction:ve.default.string,cursor:ve.default.string,gutter:ve.default.func,elementStyle:ve.default.func,gutterStyle:ve.default.func,onDrag:ve.default.func,onDragStart:ve.default.func,onDragEnd:ve.default.func,collapsed:ve.default.number,children:ve.default.arrayOf(ve.default.element)};en.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var Fs=en;var ci=Me(Ge()),yc=Me(Ds()),_c=Me(Bs()),Sc=Me(Hs());function tn(e){let r=(0,ci.useRef)();return(0,ci.useLayoutEffect)(()=>{e.model.setGameFrame(r.current)}),X("div",{class:"advide-view"},X(Yi,{model:e.model}),X(Fs,{class:"advide-split",sizes:[67,33]},X("div",{style:{width:"100%"}},X(Ns.default,{mode:"yaml",theme:"vibrant_ink",name:"UNIQUE_ID_OF_DIV",width:"100%",height:"100%",editorProps:{$blockScrolling:!0},value:e.model.getSource(),onChange:e.model.dispatcher("setSource")})),X("div",{style:{width:"100%"}},X("iframe",{src:"advide-game.html",class:"advide-game-iframe",ref:r}))))}j();var ro=Me(Zs());j();var eo=Me(qs());async function Vh(){return new Promise((e,r)=>{let c=document.createElement("input");c.type="file",c.style.display="none",document.body.appendChild(c);let u;function g(a){u=!0,document.body.removeChild(c),e(a)}function o(){setTimeout(()=>{console.log("window focus..."),u||g(void 0)},250)}c.addEventListener("change",()=>{if(u)return;u=!0,window.removeEventListener("focus",o);let a=new FileReader;a.onload=()=>{g(a.result)},a.readAsText(c.files[0])},{once:!0}),window.addEventListener("focus",o,{once:!0}),c.click()})}var di=class{constructor(){this.blobOptions=null}supportsFileSystemAccess(){return window.showOpenFilePicker!==void 0}async open(){if(this.supportsFileSystemAccess()){let[r]=await window.showOpenFilePicker(),c=await(await r.getFile()).text();return console.log(r),this.handle=r,c}else return await Vh()}async saveAs(r){if(this.supportsFileSystemAccess()){let c=await window.showSaveFilePicker();if(c){this.handle=c;let u=await c.createWritable();return await u.write(r),await u.close(),!0}}else{let c=new Blob([r],this.blobOptions);return(0,eo.saveAs)(c,this.defaultFileName),!0}}async save(r){if(!this.handle)return await this.saveAs(r);let c=await this.handle.createWritable();return await c.write(r),await c.close(),!0}clear(){this.handle=null}getFileName(){return this.handle?this.handle.name:this.defaultFileName}};var to=`#
# In this example game, you are an office worker and your task is to unlock
# the door to the printer room, so you can print your documents.
#

- name: Example Game

- verbs:
  - goto
  - pickup
  - lookat
  - use

- state: door unlocked

- location: office
  description:
  - You are in the office of Basic Example Incorporated.
  - There is a door leading to the [printer room].

- location: printer room
  description:
  - This is the mighty printer room in the office.
  - There is a [printer] here.
  enter:
  - if-not-state: door unlocked
    then-fail: The door is locked.

- thing: key
  location: office
  description: There is a [key] to the printer room hanging next to the door.
  lookat: It is an ordinary key.
  use:
  - if-have: key
    then:
    - set: door unlocked
    - You unlock the door.
    else-fail: You can't use the key unless you have it.

- thing: printer
  lookat: It is a printer.
  pickup-fail: It is not the kind of thing one picks up.
  use-message: You print some documents, as the good office worker you are.

- objectives:
  - did-use: key
  - did-use: printer
`;var io=`- name: The Morning Game
- state: using slippers

- verbs:
  - goto
  - pickup
  - drop
  - lookat
  - use

- location: bedroom
  description:
    - You are in your bedroom. It is the favourite part of your house because you
      can do what you like in there, and yet not get disturbed. There is a bed
      right in the middle of the squarish room, which takes up quite a bit of
      space, but you like it that way.
    - There is a [lamp] next to the bed, and a door leading to the [bathroom].
      There is another door leading to the [kitchen].
  leave:
    - if-not-did-use: lamp
      then-fail:
        The dark room is like a place out of time, a place to rest without
        consequence. Yet the darkness makes you fumble and lose your sense of
        direction.

    - if-not-state: using slippers
      then-fail:
        The cold from the floor moves in only to meet the warmth of your blood.
        You feel it wash over your skin, again and again, only to be met by the
        beat of your heart, again and again. You quickly pull your feet back in
        under the cover, the floor is way too cold.

- thing: lamp
  lookat:
  - message: >
      The sleek silver angle-poise lamp is simple and elegant - minimalist
      perhaps. You find it satisfyingly heavy too, a justification for the huge
      price tag. 
  - message: >
      A device for giving light, either one consisting of an electric 
      bulb together with its holder and shade or cover, or one burning gas or a 
      liquid fuel and consisting of a wick or mantle and a glass shade.
  use:
  - message: >
      Igniting the world anew with such brilliance! You can suddenly see where
      you are going.

  pickup:
  - fail: It is too heavy to carry around.

- location: bathroom
  description:
    - You are in your bathroom. It is a place of washing, of nurturing our sanity
      with the sensation of warm water and aromatic soaps. For the body must feel
      loved and cared for, for then it feeds back these messages to the brain and
      begins to set up a positive cycle of wellness.
    - You can reach your [bedroom] from here.
    - Your [shower] is here.
  leave:
    if-not-state: using slippers
    then-fail: The floor is too cold.

- location: kitchen
  description:
    - This is your kitchen. To work in the kitchen is to work for the love and
      nourishment of others, to give of yourself, to put your soul into the food.
    - There is a door to your [bedroom]. The front door leads out ot the [garden].

- location: garden
  description:
    - The grass always seems to whisper in the spring, like a church full of
      people all saying ssssh together. The stalks sway with a salsa rhythm,
      nodding their heads in delight. At night, the wind dies down and a
      newly-minted moon appears, drenching shady glades with silver light. 
      Yipping fox cubs can be heard in the distance and the lonely hoot of an owl
      sounds like a phantom lost in the darkness.
    - The front door of your house leads directly to the [kitchen]. In front
      of the door sits yur [garden gnome].
  enter:
    if-not-did-use: toothbrush
    then-fail:
      Good teeth can impact so many areas of life, including how you feel about
      yourself. The health of the brain impacts body health and social mobility,
      and that impacts family health. Everything is connected, we are all
      connected. We are supposed to love and care for our neighbours, right?

- thing: toothbrush
  description: There is a [toothbrush] here.
  location: bathroom
  lookat-message:
    It is an Oral-B Pro-Health All-In-One Soft Bristle Toothbrush. One of the
    top 10 market leading toothbrushes for 2020.
  use:
    if-have: toothbrush
    then-message: Swrrr... swwwrr.... Brushing sound... Your teeth are now clean...
    else-fail: Doesn''t really work, are you going to move your teeth to the toothbrush?

- thing: slippers
  location: bedroom
  description:
    There is [slippers] on the floor.
  lookat-message: A pair of slippers with rabbit ears.
  name:
  - if-state: using slippers
    then-return: slippers (on your feet)
  - if-have: slippers
    then-return: slippers
  - a pair of slippers

  use:
  - if-not-have: slippers
    then-fail: In order to wear your slippers, you first need to pick them up.
  - set: using slippers
  - message: You put the slippers on your feet

  pickup:
  - message: Taken

  drop:
  - reset: using slippers
  - message: You put the slippers on the floor.

- thing: shower
  lookat: A quite ordinary shower.
  use:
  - if-have: slippers
    then-fail: Your slippers would get all wet and soggy if you shower with them on.
  - message: Aaahhh... Nice!!!

  pickup:
    fail: It is too heavy to carry around.

- thing: garden gnome
  lookat:
  - message:
      You would sit in the garden, feeling joy from how the sunny rays warmed your
      skin, and listen to the tales of the gnome. For they talk, the gnomes, if
      you can listen with your heart while your ears enjoy the birdsong. The
      gnome's hat has gotten too old. It had been fraying for the best part of a
      century but now the stitching around the brim was coming away and even magic
      couldn't repair it. The once midnight blue fabric was almost an embarrassing
      navy and the pointed top drooped worse than a well used sock.
  location: garden
  pickup:
    fail: It is too heavy to carry around.

- objectives:
  - did-use: lamp
  - did-use: toothbrush
  - did-lookat: garden gnome
`;var no=`- state: door open
- state: shown intro message

- verbs:
  - goto
  - pickup
  - talkto
  - lookat
  - use

- location: test
  header: In a test place
  description:
    You are in the test place, you can go to the [back room]

  leave:
  - if-not-state: door open
    then-fail: The door is locked

  enter:
  - if-not-state: shown intro message
    then:
    - set: shown intro message
    - message: Welcome to the game.

- location: back room
  header: In the back room
  description:
  - You are in the back room, you can to to [test]...
  - There is a [back thing] here

- thing: back thing
  lookat-message: It is a back thing...

- thing: lever
  description:
  - if-state: door open
    then: There is a mysterious *lever* on the wall pointing up.
    else: There is a mysterious *lever* on the wall.

  location: test
  use-spawn: lever choice
  talkto-use: lever
  lookat-message:
  - It looks like a lever
  - if-state: door open
    then: it is pulled up

  pickup:
  - fail: Can't pick it up

- thing: ball
  description: There is a [ball] here.
  location: test
  lookat:
  - message: it is a toxic ball
  - die: so toxic so you die...
  pickup: You pick it up

- def: lever choice
  do-message: 
  - this is the choice
  - what do you want to do with the lever
  - alternative: pull lever up
    exists-not-state: door open
    do:
    - set: door open
    - message: The door clicks with a satisfying click..
  - alternative: pull lever down
    do:
    - reset: door open
    - Nothing interesting happens...

- objectives:
  - did-lookat: lever
  - did-lookat: back thing`;var gi=class extends ro.default{constructor(){super();Dt(this,"loadExample",async r=>{!await this.checkClear()||(this.setSource(this.exampleStories[r],!0),this.docFile.clear(),this.changed=!1,this.updateTitle(),this.emit("change"))});Dt(this,"setSource",async(r,c)=>{this.source=r,window.sessionStorage.setItem("advsource",this.source),this.notifyGameFrame(c===!0),this.changed||(this.changed=!0,this.updateTitle()),this.emit("change")});Dt(this,"dispatcher",(r,...c)=>(...u)=>{u[0]instanceof Event&&u[0].preventDefault();let g=[...c,...u];this[r](...g),this.emit("change")});this.gameFrame=null,this.docFile=new di,this.docFile.blobOptions={type:"application/x-yaml;charset=utf-8"},this.docFile.defaultFileName="Untitled.yaml",this.exampleStories={"basic-example.yaml":to,"choice.yaml":no,"morning-story.yaml":io},this.loadExample("basic-example.yaml"),window.onbeforeunload=()=>{if(this.changed)return!0}}updateTitle(){if(this.docFile.supportsFileSystemAccess()){let r=this.docFile.getFileName();this.changed?document.title=r+" * - Advide":document.title=r+" - Advide"}else this.changed?document.title="Advide *":document.title="Advide"}async saveStoryAs(){await this.docFile.saveAs(this.source)&&(this.changed=!1,this.updateTitle())}async saveStory(){await this.docFile.save(this.source)&&(this.changed=!1,this.updateTitle())}checkClear(){return this.changed?confirm(`Current story has unsaved changes.

Discard changes?`):!0}newStory(){!this.checkClear()||(this.docFile.clear(),this.setSource("",!0),this.changed=!1,this.updateTitle())}async openStory(){if(!this.checkClear())return;let r=await this.docFile.open();r!==void 0&&(this.setSource(r,!0),this.changed=!1,this.updateTitle())}getSource(){return this.source}setGameFrame(r){r!=this.gameFrame&&(this.gameFrame=r,this.notifyGameFrame())}notifyGameFrame(r){this.gameFrame&&(r?this.gameFrame.contentWindow.postMessage("restart"):this.gameFrame.contentWindow.postMessage("refresh"))}supportsFileSystemAccess(){return this.docFile.supportsFileSystemAccess()}};function on(e){let r=br(gi,e);return X(tn,{model:r})}var so=Me(Ge());for(let e of document.getElementsByClassName("advide-container"))(0,so.render)(X(on,cn({},e.dataset)),e);})();
